// ==UserScript==
// @name               圖片全載-FancyboxV5
// @name:en            Full Picture Load - FancyboxV5
// @name:zh-CN         图片全载-FancyboxV5
// @name:zh-TW         圖片全載-FancyboxV5
// @version            2.0.2
// @description        支持寫真、H漫、漫畫的網站1000+，圖片全量加載，簡易的看圖功能，漫畫無限滾動閱讀模式，下載壓縮打包，如有下一頁元素可自動化下載。
// @description:en     supports 1,000+ websites for photos, h-comics, and comics, fully loaded images, simple image viewing function, comic infinite scroll read mode, and compressed and packaged downloads.
// @description:zh-CN  支持写真、H漫、漫画的网站1000+，图片全量加载，简易的看图功能，下载压缩打包，如有下一页元素可自动化下载。
// @description:zh-TW  支持寫真、H漫、漫畫的網站1000+，圖片全量加載，簡易的看圖功能，漫画无限滚动阅读模式，下載壓縮打包，如有下一頁元素可自動化下載。
// @author             tony0809
// @match              *://*/*
// @connect            *
// @exclude            *.youtube.com*
// @exclude            *docs.google.com*
// @exclude            *google*/maps/*
// @exclude            *mail.google.com*
// @exclude            *accounts.google.com*
// @icon               data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAtFBMVEVEREAAAABEREBEREAuuaIzqpkvr58yiHgzhnY6kYM7mYI4kog4s6A2tpo0r544ooo2nY40sJw0sp00rZg1sJw0sZ0zsp01sZw0sZw0rZk1sJw1sZw1rZk0sp00rpk1sp01sZs1rpk1rpk0sp01spw1sJ00rZo1rZk1rpo0r5k0sJw0sZ01r5o0sZw0rpk0sp01sZ01sJw1spw1r5k1sp01sZw0sZ01sZw1rpk1sp01sZw1r5pUzpTcAAAAOXRSTlMAAAUGCw8QERIUFxgbHB0hIieqq6yvtLa3vb/AwMHCxMXFxsfIyc3Oz+zt7vDx8fL4+Pn5+vr7/v7AEFI4AAABR0lEQVR42qWT11bDMAxApbhsmm5KKVD2KiUQwpD1///FkZcSmh4e8FOsex3LsgymPy6ISkRyA4FlWMRXomIyQOg/SbyKAmSOE2Ip02UOYxf/DILNjOOEWLnAEAqio0MMAzJjTAZh1p0SrYCIuu0cMZc9JbENXLa1NWGdI1nWeQuXGPzBTdzC8ws52UI5MwchrA/VTOuTEP9fFyTG7E+R9q8JLsbW1UHzU8HHrCuU1fyToDlB43xRqMUgfc+/KA77fZrWSH/47zPlzOcpJxG8u32r/OEg5SRCqO/WTeT3+5oTuP4LxrXnd5F7waZ+wM5c+NVeujMRrDYMYueE+VK5E5r3uzOb7TbvHH7f/1pP/L8nU9u38Nwyy8OZdjfwY+ZnmPinp28y3mglNeERDJYy/9A3GYVS+GMPMB+uyL67/qO68Mb8MurBD7foVTtvIbtnAAAAAElFTkSuQmCC
// @license            MIT
// @namespace          https://greasyfork.org/users/20361
// @grant              GM_xmlhttpRequest
// @grant              GM.xmlHttpRequest
// @grant              GM_registerMenuCommand
// @grant              GM.registerMenuCommand
// @grant              GM_openInTab
// @grant              GM.openInTab
// @grant              GM_getValue
// @grant              GM.getValue
// @grant              GM_setValue
// @grant              GM.setValue
// @grant              GM_getResourceText
// @grant              GM.getResourceText
// @grant              unsafeWindow
// @noframes
// @require            https://update.greasyfork.org/scripts/473358/1237031/JSZip.js
// @require            https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js
// @require            https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.umd.js
// @resource JqueryJS https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js
// @resource FancyboxV5JS https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.umd.js
// @resource FancyboxV5Css https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.31/dist/fancybox/fancybox.css
// @resource FancyboxV3JS https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js
// @resource FancyboxV3Css https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css
// @resource ViewerJs https://cdn.jsdelivr.net/npm/viewerjs@1.11.6/dist/viewer.min.js
// @resource ViewerJsCss https://cdn.jsdelivr.net/npm/viewerjs@1.11.6/dist/viewer.min.css
// ==/UserScript==

(async () => {
    "use strict";

    if (document.querySelector("body.no-js")) return; //Cloudflare檢測連線安全性時，不運行腳本

    let options = { //預設選項基本上不要改動，如果改動了最好透過UI選項設定或按/，重置儲存在localStorage的設定
        enable: 0, //!!!維持0不要改!!!
        icon: 1, //是否顯示左下圖示，1：開啟、0：關閉
        threading: 32, //最大下載線程數
        zip: 1, //1：圖片下載後壓縮打包，0：批量下載圖片，無法全自動下載
        file_extension: "zip", //zip or cbz
        autoDownload: 0, //!!!維持0不要改!!!建議透過UI選項設定來開啟，需要customData也有autoDownload
        autoDownloadCountdown: 5, //有NEXT時自動下載的倒數秒數
        comic: 0, //1，忽視漫畫站點開關選項，啟用漫畫規則
        doubleTouchNext: 1, //觸控裝置雙擊前往下一頁，1：開啟、0：關閉
        zoom: 0, //1 ~ 10 腳本插入的圖片縮放比例，10 = 100%，9 = 90%，0 = auto
        column: 4, //圖片並排顯示的數量 2 ~ 6
        viewMode: 0, //0：置中、1：並排
        fancybox: 1 //Fancybox圖片燈箱展示功能，1：開啟、0：關閉
    };

    const _unsafeWindow = typeof unsafeWindow === "undefined" ? window : unsafeWindow;
    const language = _unsafeWindow.navigator.language;
    let siteUrl = _unsafeWindow.location.href.replace(/#FullPictureLoad.+$|#gallery.+$|#lightbox.+$/i, "");
    let frameWindow = _unsafeWindow;
    let siteData = {};
    let siteJson = null;
    let displayLanguage = {};
    let globalImgArray = [];
    let captureSrcArray = [];
    let thumbnailsSrcArray = [];
    let videosSrcArray = [];
    let promiseBlobArray = [];
    let captureLinksArray = [];
    let customTitle = null;
    let isDownloading = false;
    let isFetching = false;
    let isAutoScrolling = false;
    let fetchErrorArray = [];
    let fastDownload = false;
    let currentDownloadThread = 0;
    let downloadNum = 0;
    let errorNum = 0;
    let getImgFn = "";
    let doc = document;
    let autoPager = true;
    let httpFetchError = false;
    let currentPageNum = 0;
    let nextLink = null;
    let tempNextLink = null;
    const PCUA = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 Edg/124.0.0.0";
    const MobileUA = "Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Mobile Safari/537.36";
    let loading_bak = "data:image/gif;base64,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83uGje9+g7TK7znAs/1N/3BQTmbMt6lvwRde10/Xu89+ZrjEJ07xilv84hjPuMY3zvGOe/zjIA+5yEdO8pKb/OQoT7nKV87ylrv85TCPucxnTvOa2/zmOM+5znfO8577/OdAD7rQh070ohv96EhPutKXzvSmO/3pUI+61KdO9apb/epYz7rWt871rnv962APu9jHTvaym/3saE+72tfO9ra7/e1wj7vc5073utv97njPu973zve++/3vgA+84AdP+MIb/vCIT7ziF8/4xjv+8ZCPvOQnT/nKW/7ymM+85jfP+c57/vOgD73oR0/60pv+9KhPvepXz/rWu/71sI+97GdP+9rb/va4z73ud8/73pH7/vfAD77wh0/84hv/+MhPvvKXz/zmO//50I++9KdP/epb//rYz772t8/97nv/++APv/jHT/7ym//86E+/+tfP/va7//3wj7/850//+tv//vjPv/73z//++///ABiAAjiABFiABniACJiACriADNiADviAEBiBEjiBFFiBFniBGJiBGriBHNiBHviBIBiCFxEIACH5BAUKAGgALCwBjAACATABAAf/gGiCg4SFhoeIiYqLjI2JAQYGHhgaEC8FHBQfOhaOnp+goaKjpKWmp6iKAausra0GNDEUJ52ptre4ubq7vGiuv8CrGCksG2e9yMnKy8yOwc/ABjgsHc3W19jZo9DcwCsiJ9ri4+TW3ee/IyI65e3u76Xo8q4YLtXw+Pn6gvP9rS8Dju0bSBCbv4PCKCwoyLAhL4QQDXCQ4LCixXgQIT6YeLGjx0UZQz7wUeujyY8hUxpQwOCkS4spY6748LJmwZg4SdyzyfMdTpwPXLTsSXTcz58oMhRdavAozgY+hjKdiszpURoIqGrdlaJECRIQNHhoYBXhAyBb0yKTkOGDghgQ/wyURRdDqtq7vDp8EEGD7NxgNC7gHYxsgQwRK/7+8mCDsONeHShAUMyqAYjHmHd1UJCYso/MoHOdKPBAcQm7oVOXsrDDw18SC1XLLsUABIa5EErO3g2q9m2rKCjyHv6JAQXXTjUIJ86ckQQYfpHqbk790IbJRyHErs690BkKpX/mQN29+wUSR1OUXz/ojILoKTmwn5+hc0wW89lbwPG0cf71O8AHkQc7/cfdAOGFhMJ2BlaXwQgxFdBgeR3YlxFaE+pTQgExiLADCwNkwKA1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";
    let autoPagerLoading_gif = "data:image/gif;base64,R0lGODlh8ADwAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgUFBQgICAoKChAQEBUVFRwcHCEhISQkJCcnJywsLC8vLzIyMjQ0NDU1NTc3Nzk5OTo6Ojw8PD09PT8/P0FBQUJCQkNDQ0VFRUZGRkhISEpKSk1NTVBQUFdXV1xcXGFhYWVlZWxsbHJycnl5eYCAgJ6enrGxsbGxsbGysbGysbGysbKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrOysrOzs7Ozs7Ozs7S0tLS0tLS0tLS0tLS0tLW1tbW1tbW1tba2tra2tre3t7e3t7i3uLi4uLi4uLm5ubu7u728vL6+vsDAwMLBwsPDw8PDw8PDw8TEw8TExMTExMTExMTExMXFxcXFxcbGxsfHxsfHx8fHx8fHx8fHx8jIyMjIyMjIyMjIyMnJycrKysrLysvMy8zMzM7Ozs/Pz9HR0dLS0tLS0tPT09TU1NXV1dfX19nZ2dra2tvb29vc3N3d3d7e3uDg4OHh4eLi4uTk5Obm5ubm5ujo6Onp6erq6urq6urq6uvr6+vr6+zs7Ozs7Ozt7e3t7e3t7e3u7e7u7u/v7/Dw8PHx8fHy8fLz8vP08/T09PT09PX19fX19fb29vb39vf39/f39/j4+Pn5+fv7+/z8/P7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBwDsACwAAAAA8ADwAAAI/gDZCRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjyuTo7NerVKM2PQLUZ86TWQpnpZnTB5Cj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srKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKzsrKzsrKzs7O0s7O0tLS1tLS1tbW2tra4uLi5ubm6urq7uru8u7u9vL2+vr7BwMHCwsLDwsLDw8PDw8PDw8PDw8PDw8PEw8PExMTExMTExMTFxcXFxcXGxsbGxsbHx8fHx8fHx8fHx8fHyMfIyMjIyMjIyMjIyMjIyMjIyMjKysrMzczPz8/Q0NDR0dHS0tLS0tLT09PU1NTV1dXW1tbX19fX2NjZ2dnb29vb29vc3Nzd3d3d3d3e3t7f39/g4ODi4uLk5OTm5ubn5+fo6Ojp6enq6urq6urr6+vs7Ozs7Ozs7Ozs7Ozs7Ozs7e3t7e3t7e3t7e3t7u3u7u7v7+/w8PDw8fDx8vHy8/Lz8/Pz9PP09PT19fT19vX29vb29/b39/f3+Pf4+Pj4+Pj5+vn6+vr7+/v7+/v8/Pz8/Pz9/f3+/v7+/v7+/v7+/v7+/v7+/v7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8I/gDRCRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjyuRYrNaoTpQYBXrDxsyPUwpPgTHD5s0fRpQ6jbJVbKbTpyyFoeLkSE+aH1izZv3yY5TCUVjB/OCq9UeaPI44oSIGta3bjKswKWojlmzZuz9EKQyFt+/YNooyrXpLuDBCVJb2iPHLGCsohaDENi5LVgwfS6gMa37q65Min2IlT777xZNCT6Pxkv0yVNEnX5tjq8yVqc4PMKztpiatSeEm0bvLSgYDpk6mXLKTgxzWKc/W4JMxKcSkG/pd3FjzdBKm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urq6uru7u7u7u729vb+/v8DAwMHBwcLCwsLCwsPDw8PDw8PDw8PDw8PDw8TExMTExMTExMTExMXFxcXFxcbGxsbGxsfHx8fHx8fIx8jIyMjIyMjIyMjIyMnJycrLys3Nzc/Pz9DQ0NHR0dLS0tPT09PU1NTU1NbW1tfX19jZ2dra2tvb29zc3N3d3d7e3t7f3+Dg4OHh4ePj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6urq6urq6uvr6+vr6+zs7Ozs7e3t7e3t7e3u7e7u7u7u7u/v7+/w7/Dw8PDx8PHx8fLy8vPz8/T09PT19PX19fX19fb29vb29vf39/f39/f49/j4+Pj4+Pn5+fr6+vv7+/7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wj+ANMJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPK5FiM1qhNlBoRkvMGDZNTCk8xQfNGzqBGlDaNqlVsptOnLImp0vTIDxsmWLNmNcNklMJRWrlqZbKmzyNNqohBXcs24ypMi+BgFTu2LpNQCkPZ3cvEDJxFmFi1HUwYoSpLf87wXYz1k8JPjO2KPQPIkqrCmJ/66rTIZ2TGZjgp3PRZ8tyhizr5ysxaJS5MeE7TLV3XTCaFmmiXxoMJV+vfIIdx6rNVd+RLCi/NNm6aSZ9NwoBLvzhqEdflzPeaqaSwUvbP1xf+eZ1OvqGwS3Kxf9dOSSGl9eCxwrk0rLz9grIczVUPvzYkhZD0Z5wjstxXHiqKCMhcIwo1omBpYikClIGtlULIaQ+WxohCjGQIIVaElEJhYakMgqGHny2i0CIofsgEIZeNCJUtjPDXIl+HKHTIjbRxxYgtMspUTCQ8MpdjQonYWKRdkTQVZEucqNHXkrQdidCOVNKmhmhPpuTKH1NmWZqVB2EpZmmAuNKlSZOEeWZkZpBpkJlvLiZWe2uGdEocbtbJWCIKJeInbXFM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kJ3SeaH9t4AQBgcgoJ06mBDJ9yYwYmVp8AHKKQIc0ighcmlvAJe0OQINMigS4mqLMAKrSQIAUicEImujYALRmZg+mhB/eCPzoXuvBgM0Kpcl0B1UIh66JhCkkAIHSowmkBzJBB1VahCWcAIcsJWlKBAg9yC8AYpf6gkqEAIOGpEqoBAnCB9okBrA+KUFAQcl4AEUsI8r8BjrQRmWgaddGFEMc3ACIVCksugCeWEcf4EJykioG3EKcIACI9ABqkmHMdBvi8EGZoEWYSmpIkELjQADKVACIvABGoABDtoGQTEURUEISKEUtFCCogoTxRCqt7qrvNqrvvqrHRUQACH5BAkHAOoALAAAAADwAPAAhwAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQQEBAoKChYWFiUlJTQ0NJKSkqqqqrGxsbGysbGysbGysbGysbGysbGysbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbKysrGxsrGxsrGxsrGxsrGxsrGxsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrOysrOysrOysrOysrSzs7Szs7S0tLS0tLW1tbW1tba2tre3t7i3uLm4ubm5ubq6uru7u7y8vL6+vsDAwMLCwsLCwsPCwsPDw8PDw8PDw8PDw8PDw8TExMTExMTExMTExMTExMXFxcbFxcbGxsfHx8fHx8fHx8fIx8fIx8fIx8jIyMjIyMjIyMjIyMnJycrKysvMzM3Nzc/Pz9DQ0NLS0tLS0tPT09PT09XV1djY2Nra2tvb29zd3N3d3d7e3uDg4OLi4uPk5OXl5efn5+jo6Onp6enp6erq6urq6uvr6+vr7Ozs7Ozs7O3t7e3t7e3u7e7u7u7v7u/v7/Dw8PHx8fHy8fLy8vPz8/P08/T09PX19fX29fb29vf39/f39/f49/j4+Pn5+fn5+fz8/P39/f7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wj+ANUJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPK5Khs1ypToDQ12oMnzhJYCmGhiYNnDyNNoEyt2qVsptOnLJPFKsUJkZ0lWLNmPbNklcJVWNEs4ap1iR1DnErFagq1rVuMtEZhyiOWbNm7S1QpVIW379g8mEbReku4MMJYoRK18csYKyqFqMQ2Lku2TaJQsQxrfkrs1CWfYiVPvnvGlEJTo/GSPTP00ilim2Or/DUq0BI0rO2mJk1KYSnRu8tKRoMm0KhfspODRGbK0Nbgk0UpFKUb+l3cWA2ZQqa8+8VVmLj+Vrfe90wohaHIT8Z+5pJX7/AbIhOVZyxw9X7PgFIICv9osnmIwl18BBKkyyZYnTGef6p1olAnDAaHxia6FBgfLJZECB0amiikiYapkWUJUBbK5kojty0IYl+ZKJTJiiES14grJRoWCyPEqQgjXpcodMl9O5aHVSOZ1QgVL5mwFuRuaEiikCRL7sZVJrwYKZMyn0RpnZMJVaKjlnh9wpaVLJkyx1hg7sYlQlCmmRoac5xCpkq2JGKfm6mteZAkQOLZFxqJ2DKnSaBg5+d/ehrU5qGNkbXfoCHBsgeajI5WiUKV9FmpcEvoQSKkHPV326ajJVoQn6Q2KtajoGKESx/+o6baWJOYaiprWX3g0qpFpVB6a2OmEpTpr6qWsutEL35JLFbBDiSJsssu0eKxDuGiR6zR+tWsQM9m29geulILmbelPknuZHKKe5Co5/qFxqUJdduuakuwqq5AL87LGLxs6ssYJveqI0wgCvqLF63xQntuccKIiwsetvqLMEKVGMwYHuG2WssbFjO2rToVd0zaEm8IuitqIuPF754RG2wataL4mvISHy86M1bSqcvuzGfUfPOo9orbiaEpr6zoz0s4GDC+RHf8sZcp4zbt0gJZonC0E7M8syVUE6RMIi1763PKiYw5p8kMKWPI1cSObbBYhpitENqy5fLG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5Fqu5nqu6Jqu6joQAQEAIfkECQcA7AAsAAAAAPAA8ACHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBBQUFCQkJEBAQFxcXISEhIyMjJSUlKCgoKysrLy8vODg4QEBARkZGTk5OVlZWW1tbYGBgZGRkZ2dna2trbm5ucXFxdHR0d3d3e3t7fX19hISEi4uLkpKSl5eXnJycn5+foaKho6OjpKSkpKSkpaWlpaWlpaalpqampqemp6enp6inqKioqaqpqquqrK2sra6trq+ur7CvsLGwsbGxsbKxsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKys7OztLS0tLS0tbW1tbW1tba1tra2uLi4urq6vLy8v7+/wMDAwcLBw8PDw8PDw8PDw8PDw8PDw8PDxMTDw8TDxMTExMTExMTExcXFxcXFxsbGx8fHx8fHx8fHyMfIyMfIyMfIyMfIyMjIyMjIyMjIyMjIyMnJycnJysrKy8vLzM3Nzs/P0NDQ0dHR0tLS09PT1NTU1dXV19fX2dnZ29vb3Nzc3d3d3t7e39/f4ODg4+Pj5eXl5+fn6Ojo6enp6unq6urq6urq6+vr6+vr7Ozs7Ozs7e3t7e3t7e7t7u7u7+/v8PDw8PDw8fHx8fLx8vPy8/Pz9PT09PX09fX19vb29vf29/f39/f3+Pj4+fn5+fn5/Pz8/f39/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////CP4A2QkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoU6pcybKly5cwY8rk2OzXK1WlPEHys+fOF1oKaX25s8cPJE+lVL361Wym06csm9lKBQqRni9YscrJuvWVwldZw3LVgwhUKltNoapdixHXKU58xMrZKjasK4Wu6oal+2XuFz6cTuFiS7gwQlumFs3Ry1huK4Wt+DZmPIeRqVqGMz89xmqTT7qSJ9ddpXBVaNF7t8q5s4kVMs2wVQ47Nagv6ttYUSlMhbv3oFPDYgsHuUyVItu9cZ9SeCp5bzmIVC0bTv3iK07IneMupbCU9tugOf55rU6+4bJTcbN/R01KIanT6/Wq5nNqevn7BHt90go/PuNQCoXiH258fdILfuXRool6A97miUKe9NdgY5oAhWBssTgy4XedKNTJhsltBUksFxpmCyQgfreJQpukqB0kmJUIFTCdSOhiY5codMmN2nUCjIwyNSOKVjwml2NCmRSpnShpAcnSKnkoqd2RCO0oZXJ5kOZkSrowcqVzclB5kJVfEsiILluaRAqDZYompkFJtgneVu2lGRItfcgZ4psFkannbX1YaCdH7/1ppI6GEvhFnYNixMsfbCbKWCaISorbH7w0ahFvlvZGaUJ+dipaKppO9KGNomr1aZWopopVh/6lOsRLnq26yidBobraWB+ZxqoQK33Vamuluk5GFyu+IlSKsLqGqSOzunKXLEEfFtvbrQPFaa1oW8GarDG1bYsbtgLlKi5jgBjjKy9xQdssuexc4q6rc+3Ra6O61HHutQppu69odaCpqSr/3gavuQXvpYqvpiQ82cEON2bKtN5FXBe8/lo8l7TThjKvqM6CarFYAE47ULUjf4Fxyq+aXNCCI4dcZcxfaOJyQc14OTLEIy/S5JZ+ONQMIjs/azEizDgksHCMXDCDQ8kQHfGqYx6djEOq1HGvZqlssMACMTh0jNQJ85ywIsc41PBf6mrWTAhff+2CQ8SQva/MVSeMCP4xDi2rGiCwlRD3AhUsoIJ9Cw1j97lm76tIcA0JuJe3hLkweNwVmAD5QsIcdzfGqgVbLHTCOISyWByvVUPhl39dAQkHMvTL4p3Kwckqx6S9kDPLEMPKKKdHWuZWiPzSUDML9ofsWo1UwHrrhIsgqEK9IPLxhIiYontGywAzCn/XryeHIrEv1MwiqG09EzEfQD944SHcxZAutPPIlyjbg9SM96B9Cd3SCknGcVDVB7WYwH3QC8HyFoKL+oGILj9Sie/KpIjBMAQZDpTLFygXkxkg0H0h0A1DaJHBBnEifywhxvdutBVFTC8hxfAceL5AKplc4oMIDEHqEkLC8NXFdv4ojAku+OBDuSDihQhR3HfU1xK44RB6FQhByRZCQuElhxOvYUvdioiVIzZEGCVsjBwAB5MWPPGDIeAgQnroH04grjAqtCJqXNiQ2clxMoxiiR6ed8bWRdFmIwwjY2xHnWUErzdeZEj1BiQHJKKkfX1EYBQR0ZAqXjGIscGFdhK5kFwIEjVyKCBLzBhJHIZAlFSUIWqMhyBNypF4jjRIA0GUx5Mggo+lBOEeKqlK+XDCSYKkYyAf+IVcqEQEuTxjCPhQyRJispWT4WRQPukcRqTEg8lUJjOHWZdfNqp+0uQhNbWjpZLwIgPZ7OMymymWcjbKlVkJ5xrHqR09/EwkK/5IZyTXyc0vPDNN8JTnQSypJFGU5BP6LCU/qYgISrqMDwI1CEGlFEGRCC6h+9zmQirqsvJNs01q7AgfMJrLhd4sIxP9ki1EMgKSllSjJ7VISr8EiZDkwaXJNGlMJTLTMpHoIy3F6Ut3OpGelqmmHhmpUHMKU6L2M1GxtAgJlppNnTp1nqIC5EY4QdV06vCqCqGfqzyKERR0NZsiAGsA0yOqT2zkFWfNploZqKs3WiQGcc0lK+eakLWJajkZ4UBeI4kEvjJEZ51qKkWSMNg+qsCwDDEGWy01HotctLE4hGxDjJEqb1YEFph94l41qxC/WsquEcFmaN33NNJGFrGSWv5YRZy4Wui51iHwlJRDJ2KK2rpvYrdtiCdEtbmIyMC3tg3uZv9KEdoi92v/VG5BWtGpQUyEFc8dXGul2xDYGiq6CKFBduPG3Yfk1lALfMhUx1vY8jrEu3paUUQwMN4FuPch1JXUHSKi1Ow+9r6bha+cVvoQGNT3ngBOSH4TBVyHIHO8CXaIMQRcJmsKzQLjrWyEF2JaPc3hIX+o74YlbCkLMuS42W3wiBdC4S8BliGXRS6CV3yQBf/JswvxWnZpvNxEKXag41UxjxPS4ivNuCD9lfGQGXLeATNEtchdcmQlVUOFmPW5QpbyQYqsJFAw5MHIBa+WO9ym3SZEAzvWMv5dDbVLhfwCwmpWCGcTdWSBeCLFcWZxokZrECRkV8N5NgiZywTogkC5tnUOdJPLJFuEWO65gZZzonZYkANCOtIImfOfHpSQoPr2v5g+yGTbhFSEgADLoUYIl3kUtITo2LdZTjU7Bn2lHw+EvkqW9XQNtV+ENCO7iY60jeWUkGbsQQlCsAENZBCDF7BABScoAQlGQO1qW/va2M42tXVtEGBc4tvgDre4x03ub2+iE54IBSlKcYpUrKIVrnhFVLlN73rb+974zre+983vfvv73wAPuMARRItXuKIVq0DFKUpBilB4ohObKLfEJw7ufFP84uQ+d7rX3e53x3veicp3yP4T4pM/ifxPvUbIqMt0cj3ZWiB+MBQA6W2oViMERX+Kdarz8qdSH2S4fzIztxPFaWWNvN6TVgjBDHXvRDX6IGBhur0TVWiC/CJRM091M/askK0bSueRllSw93B0XSeqzQqhJ4iQbiihHwQUWOe21//k5YVwKudDT1SVE2ILSeXdUATuuqSyHmixN2TlZQK7liX18oJgp+xhTxSOmTP4UC9DUi9ec9tDXeKHLAbycZbUhx+y6iIpnsY8N5SF1WapyDMYIn2X1Ok3nHrAR6TkoB+ypVL+kBZJ6jFaBoal5AsRYLV+8ZZKr9g6NXv3Ct9SYj5IuPy+5OpSpDmWar50mf47kWGICrUJJm5F1H4jGovK7RBZevZHfPlOPV0i7e/UiFMFfog83lKTL29nMRJ15gNYcp1SdRKBeH9CeK4Vf5bSeBCBfaLiXq6SeRaBgOu3fa5SfxOxH6mifUSlK261Eb3gKojQNqQ1NGPVEb5nKRHFV0YlJ1q1EUKBgvOmguSXIjFIETjXdjUog5LicxwRC4mSgq61glLyUx9xg2WWg5olhDzCgx0Re0c4YkroIoEHEodUJEA4ENFnJ8UlTiBFEs93JVcoECS0d8nyBWHIDlE4IRwVEkMiJWdoSWRYKvGUg2noHwZVEs1wFVZIh4tTOqWiaV3Eh0piTyexCnvITv51EYdOwhhvOIO34U4lUXrO0YiNkX8yEk2C6CKrdxK64CKUOCpOsmhi8YkgYoAjsSYbgggm9lG4cYm4cYaztCG1hBJ50iCIYIoEUYdZoYjCsUk5KFYNgkor8YL+gQhkhVXfwYuGYXy+2BCLNCBEyBKouB7Fg4jxoYxqwYzUmIN2FB+zuBKQ8h2I4IcMtSHYKBPaWIw5CEbr8QcywQviuIXICCLn2BI3coZKpB1M1BJ394p881QpwgnR6BKA6Ik5WDfOUY8pUYWMGH2xKCUKGRJloooNMTa9EVIwUYuigQhXMz+OuB6pMJAhUZBfcosNETWAshbwKBqMEGwC8Yx6R/6OG0GSemKMx7Nq+4iOk6EJLskO3egqnJAKMilh6Xh+fOZrMMMYygcVFVMXGGkQ7PgvjSMu42g6jEFpanFIU5Q4H9kmU0mV8ogQAJgVTwkV0/cFWHkQCFk2xPIve9M3YWFdsCFZWKF9FukwX3kuiJCFa8MHIqgZvFAH75cQKBkxeamXHckQWZOThYGLBEGCFnOYetmT7OCY95EzKSOZ59KSRJWUkdmWEdOCLsOQBaOZ+1KWjTKWRSMyLPMFW+krTckypvkvaWkntGaYoJkyGogf6teaKpObKTOYW5IvvpkVs1kwAVMq7FKcv8mavskHjOkk4FKcx3kug/CXsUKapf4JnA6DmoMSm5/pnCNTm7FSlGwpnhGzlC4zK6s5MxbDK2qlndZSnaninS7Tj1LJndsSkesZjvmJnuKCKbc1jYyjn67yjZAVCxq5LfT5J30gkgNaoAB6oAnWJQxqoIlyJiO2Cno4LBMqKXoAiREmJLrSoFLCJFJGI6liojziI3l2Ip1CfAdxgokCCVOYZ7FghHpSlvKpJCPCbQpiKEX3c4ZSIfemH3rymgWhmldiIPt2HgToIggqEASqJPRhgfd2HVdCnuB5I+IxcAJRHF05GRBYEAzoidIBpgYxG2c5ISKEEPjZIL8RlmpKEJzhGRMiogRhiA3CGqyQhXU6EIjBCFqf9x3AhxDDlhyVYQo3GqgT4RZw4RzygxC1dxuAIRiO+hFSQRWIQHaTIYAC0X+MsQdlcRaUmakaURM3kRM7wQc+MW9CcQd8YBRIoRRMgaq4mqu6uqu82qtgGhAAIfkECQcA7QAsAAAAAPAA8ACHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBBQUFCwsLDg4OFBQUHR0dJCQkKioqOTk5WFhYcXFxj4+PqKiosbGxsbGxsbGxsbGxsbGxsbGxsbGxsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrOysrOysrOys7Ozs7SztLS0tbW1tra2t7e3uLi4ubq5uru6u7u7vLy8vL28vb29vr6+v7+/v7+/wcDBwsLCwsLCw8PDw8PDw8PDw8PDw8PDw8PDw8PDxMTExMTExMTExMTExMTExMTExMXExcXFxcXFxsbGxsbGxsfGx8fHx8fHx8fHx8fHx8fHx8jHyMjIyMjIyMjIyMjIysrKzMzMzs7O0NDQ0dHR0tLS09PT09PT1NTU1dXV1tbW2NfX2tra29vb3Nzc3Nzc3d3d3t7e39/f4eHh4uLj5OPk5eXl5ubm6Ojo6enp6enp6urq6urq6+vr6+vr7Ozs7Ozs7ezs7e3t7e3t7e3t7u7u7u7u7+/v8PDw8fHx8fHx8vLy8/Pz8/Pz9PT09PT09fX19vb29vb29/f39/f39/f3+Pj4+fn5+vr6+vr6+vr6+/v7+/v7+/v7/Pz8/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////CP4A2wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoU6pcybKlSWfMXMqcSdNkr0sZLlioQGFCBAcG2iiMRQaNmzqNLn0yxaqXs5pQo8qMBUcnBQgLFhgwoFUrVwMcFLIiE6SsWbJl2QjKVGpWTKlw42p0VudCBQlfs27dy3cvBoWrzAoWjJYsmTeVRNmSy7jxwjgWKDDY67WvZcp/E6YazLlzWTJlDIGa5bh0XFR2gV5ezfqCwlOeYxMmQxZNJVTHTOtmGeoCBb2sg1te4DphKdnIPeMRFWy3c5GtfFcWTr1vcYShkmvvLMjUsufgM/5mqDC9uvm9FhSC2s5+MJlKrcLLh8jqgoTy5/OnT+ipvX/BcITy3XwEGmRJBfkleNl+CGny339oBYEJLwUW6AaC+CmYXwUKXfLgh2ZVEkuF4KVBgYYo9sVhQh6CCCIZjbxComlxnJjijVutiFAlLr5YViOkzRgXJuThaCQFCknS45JBWPKLkFDtYoGRVBqAZEJKMtkj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9vb39/f39/f4+Pj4+Pj5+fn5+fn6+vr7+/v8/Pz+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8I/gDVCRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqVLgsmWvZxJs6bFZbtaqSr16ZKhP3SsxFLY54EIEidSqGDxYsanXTajSmWpTFaqUJL2WHHjxorXr15bKZzB4UGHB2jLPihLAsWKF4GGTp1LFyOtU54Cbd3LFyxYVgplqEVLuHDasyVUvDgks67jxwZlmZoEp6/fy34BJ4RhuHNnDmU5fEDRQhDk01KJreo0p6tlzLC3rlLI2bNtw6DLilABYzbq3yl9nWLE9XXs41ZQKXxxu7ntDhxQvDAFvDpIZKokeXWNvDvYUwpd/jgf/1y6K+voL7by5L097FIKWwwmT39tWRUz0ut3iOxUIO7uBegVfAmxcFZ9CBZWggti7ecgQbqAIuCEfomi0AoJZmgWYSt48uB+sXBiHIXufXKhhigSpsIfH1b3yiUjkliiQiocmGKGoKVgR4uQyQIjgDJS2AmNNxb5QAqm8TgVL+wVF6SMbmiiUApG3giaCqAoWdMyo8T4pIBSJkRllSmC9sAKuWjpkip4fOmmV5tMSaaRHIwAg5oq3TKJl28GGCZCKcw3Z4ooRIKnSaU42eeXfx4U6KB0dsDCoSLFUsiiizZq0JiQFtlBByboQalHpACJ6ZOaFsRpp1VOOmpG/rkkcuqibsQpJquDnmDrqxSlouisbqZK0Kq40vkCrxN9Auypwg5EbLFGqgAMsg7lcumymDYr0LPQFmkCJdQutAq2s2qrDrfdWnlnuAeVQm65cqYLqavsDtTku9lOKai8RXKggjL1BsMIvvDeyi+kJ6QSbi5/EFwwoPseXGYHJEyCbC1yOHxqlFPaKDGZIByCrCoaMxvvx2RycCy1ppTcJ8cGo9wvBy7U667LwZ4s8430sisKzk/CDOjOVq5QL0GfmAp0e0I7SnSKKiBzNEEiLj1h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ACH5BAkHAOwALAAAAADwAPAAhwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgsLCxcXFyYmJi4uLjMzMzc3Nzg3ODk5OTk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkREREVFRUZGRkdHR0dHR0dHR0hISEhISElJSUpKSktLS01NTVBQUFNTU1ZWVlpaWl5eXmZlZW1tbXR0dHl5eXx8fIGBgYSEhIeHh4mJiY2NjZKSkpaWlpuamqCfn6SkpKuqqrCvr7KxsbKxsbKxsbKxsbKxsbKxsbKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKzsrKzsrOzs7S0tLS1tLW1tba2tre3t7i4uLm6uru7u72+vr/Av8HBwcPDw8PDw8PDw8PDw8PEw8TExMTExMTFxMXFxcbGxsfHx8fHx8fHx8jHyMjHyMjIyMjIyMrKysvMzM3Nzc/Pz9HR0dHR0dLS0tPT09TU1NXV1djY2Nra2tvb29zc3N7e3t/f3+Hh4eTk5OXl5ebm5ufn5+np6enp6erp6erq6uvr6+vr6+zs7Ozs7O3t7O3t7e3t7e7u7u7v7u/v7/Dw8PHx8fHx8fLy8vPz8/T09PX19fX19fb29vf49/r6+vv7+/z8/Pz8/P39/f7+/v7+/v7+/v7+/v7+/v7+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wj+ANkJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPK5OiMWK1XqkhxesTokJxcCnPJOcToESdSql7VIuZsptOnLJ3temWqkiI5WLEOyrq1lsJaWcNy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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
    const MutationObserverConfig = {
        childList: true,
        subtree: true
    };
    //自定義站點規則
    const customData = [{
        name: "小黃書/8色人體攝影",
        host: ["xchina.co", "xchina.biz", "xchina.fun", "xchina.life", "8se.me"],
        reg: /(xchina|8se)\.(co|me|biz|life|fun)\/photo\/id-\w+\.html/,
        include: ".photos>a",
        imgs: async () => {
            if (fun.ge("video[src$='mp4']")) {
                videosSrcArray = videos.map(e => domain + e.url);
            }
            let numP = fun.gt("//i[@class='fa fa-picture-o']/parent::div").match(/\d+/)[0];
            let max;
            try {
                max = parseInt([...new Set([...fun.gae(".pager a[href]")].map(e => e.href))].at(-1).match(/\/(\d+)\.html$/)[1], 10);
            } catch (e) {
                max = 1;
            }
            if (max > 1) {
                let links = [siteUrl];
                let url = siteUrl.replace(".html", "");
                for (let i = 2; i <= max; i++) {
                    links.push(url + "/" + i + ".html");
                }
                thumbnailsSrcArray = await fun.getImgA("img.cr_only", links, 200);
            } else {
                thumbnailsSrcArray = [...fun.gae("img.cr_only")].map(e => e.src);
            }
            if (parseInt(numP, 10) != thumbnailsSrcArray.length) {
                setTimeout(() => {
                    fun.hideMsg();
                    fun.showMsg("圖片數量不符合，請反饋", 5000);
                }, 1500)
            }
            return thumbnailsSrcArray.map(e => e.replace("_600x0", "").replace(".webp", ".jpg"));
        },
        button: [4, "24%", 1],
        insertImg: [
            ["//div[div[@class='photos']]/*[last()]", 2, ".pager,.photos"], 2
        ],
        customTitle: () => {
            let s = document.title.split("-");
            let title = "";
            if (/未分/.test(s[1])) {
                title += s[0].trim()
            } else {
                title += s[1].trim() + " - ";
                title += s[0].trim()
            }
            return title;
        },
        css: "body{overflow:unset!important}.photos>div.item,.jquery-modal.blocker.current,.push-top,.push-bottom,.slider-ad,.article.ad,.pager>.tips,body>footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(a):not(*[class^=fancybox]),.photoMask,.banner_ad{display: none!important;}",
        topButton: true,
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "JavSX.com",
        host: ["w3.javsx.com", "www5.javsx.com"],
        link: "https://w3.javsx.com/photos.html",
        reg: /w\d\.javsx\.com\/photos\/[\w-]+\.html$/,
        imgs: async () => {
            let max;
            try {
                max = fun.ge("//a[text()='Last']").href.match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            if (max > 1) {
                let links = [siteUrl];
                for (let i = 2; i <= max; i++) {
                    links.push(siteUrl + "?page=" + i);
                }
                thumbnailsSrcArray = await fun.getImgA("img[data-src]", links, 100);
            } else {
                thumbnailsSrcArray = [...fun.gae("img[data-src]")].map(e => e.dataset.src);
            }
            let imgSrcs = thumbnailsSrcArray.map(e => e.replace(/resize=[^&]+&/, ""));
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [".col-photos", 2],
        customTitle: () => fun.gt("h1.title").replace("| Body Photography", "").replace("- JVID", "").replace("- 未分类人体摄影", "").trim(),
        css: ".col-photos{margin-bottom:60px}.pagination{margin-top:0px!important}",
        category: "nsfw2"
    }, {
        name: "紳士会所",
        host: ["www.hentaiclub.net"],
        reg: /^https?:\/\/www\.hentaiclub\.net\/r\d+\/\d+\.html$/,
        imgs: "div[data-fancybox]",
        button: [4],
        insertImg: [
            ["#masonry", 2, "#masonry"], 2
        ],
        customTitle: () => fun.gt(".post-info-text"),
        fancybox: {
            v: 3,
            css: false
        },
        css: ".banner-top{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "Nlegs/HoneyLeg www.nlegs.com www.honeyleg.com", //棄用規則，無法完全應對此站的人機驗證，請使用專用腳本 https://greasyfork.org/scripts/463123
        enable: 0,
        reg: /(www\.nlegs\.com|www.honeyleg.com)\/(girls|article)\//,
        init: () => {
            let loopFind = setInterval(() => {
                fun.ge(".pagination>li:last-child>a") && (clearInterval(loopFind), fun.getNP("//div[a/div[contains(@style,'thumb') and span]]", "li.active+li>a", null, ".pagination"))
            }, 100);
        },
        imgs: "js;return fun.getImgA('.img-res','a[href*=image]',1);",
        insertImg: ["//div[div[@class='col-md-2 col-sm-4 col-xs-12']]", 0],
        customTitle: () => fun.gt("strong"),
        threading: 1,
        fetch: 1,
        //css: ".col-md-2.col-sm-4.col-xs-12{width:1000px!important;height:auto!important;display:block!important;margin:0 auto !important;float: none!important;}",
        category: "nsfw2"
    }, {
        name: "NLegs/HoneyLeg/Lady Lap/Nuyet/LegBabe", //需搭配專用腳本 https://greasyfork.org/scripts/463123
        host: ["www.nlegs.com", "www.honeyleg.com", "www.ladylap.com", "www.nuyet.com", "www.legbabe.com"],
        reg: [
            /^https?:\/\/www\.nlegs\.com\/girls\/\d+\/\d+\/\d+\/\d+\.html$/,
            /^https?:\/\/www\.honeyleg\.com\/article\/\d+\/\d+\/\d+\/\d+\.html$/,
            /^https?:\/\/www\.ladylap\.com\/show\//,
            /^https?:\/\/www\.nuyet\.com\/gallery\//,
            /^https?:\/\/www\.legbabe\.com\/hot\/[^\.]+\.html$/
        ],
        imgs: ".col-md-12.col-xs-12 img[src^=blob],.col-md-12.col-lg-12 img[src^=blob]",
        repeat: 1,
        button: [4],
        insertImg: ["//div[img[starts-with(@src,'blob')]]", 0],
        go: 1,
        customTitle: () => fun.gt("strong").replace(/\[\d+[-\.\+\w]+\]/, "").trim(),
        fetch: 1,
        category: "nsfw2"
    }, {
        name: "雅拉伊", //免VIP僅支援PC版和圖片命名是簡單數字遞增的。
        host: ["www.yalayi.com"],
        reg: /https?:\/\/www\.yalayi\.com\/gallery\/\d+\.html/i,
        imgs: async () => {
            await fun.waitEle(".bigimg>img");
            let max = fun.ge(".tishiwenzi-box").innerText.match(/\d+/)[0];
            let firstImg = fun.ge(".bigimg>img");
            let path = firstImg.dataset.original.match(/.+\//)[0];
            let testArr = [path + "1.jpg", path + "01.jpg", path + "001.jpg", path + "0001.jpg"];
            let ok = false;
            let padStart;
            for (let i = 0; i < testArr.length; i++) {
                let obj = await fun.checkImgStatus(testArr[i]);
                console.log(`確認圖片[${i}]`, obj);
                if (obj.ok) {
                    ok = true;
                    padStart = parseInt(i, 10) + 1;
                    break;
                }
            }
            let arr = [];
            if (ok) {
                arr.push(firstImg.src);
                for (let i = 1; i <= max; i++) {
                    let src = path + String(i).padStart(padStart, "0") + ".jpg";
                    arr.push(src);
                }
                return arr;
            } else {
                return arr;
            }
        },
        button: [4, "24%", 4],
        insertImg: [".bigimg", 2],
        customTitle: () => fun.title(" - ", 3),
        threading: 4,
        category: "nsfw1"
    }, {
        name: "JKF",
        host: ["www.jkforum.net"],
        reg: /www\.jkforum\.net\/(p\/)?thread/,
        init: async () => await fun.waitEle("img[id^=aimg]"),
        imgs: "img[id^=aimg]:not([style])",
        customTitle: () => fun.gt(".title-hd h1,.post-title").replace(/\(\d+[\w\s\\.+-]\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "草榴",
        host: ["www.t66y.com", "cl.6962x.xyz"],
        reg: () => /\/htm_data\/\d+\/\d+\/\d+\.html$/.test(siteUrl) && fun.ge("img[ess-data]"),
        imgs: "img[ess-data]",
        customTitle: () => fun.gt("h4.f16").replace(/\[\d+P\]$/i, ""),
        category: "nsfw2"
    }, {
        name: "X成人论坛",
        host: ["xbbs.me"],
        link: "https://xbbs.me/forum/id-61fe70f2b9631.html",
        reg: /xbbs\.me\/thread\/id-\w+\.html$/,
        exclude: "//div[@class='text'][contains(text(),'您尚未登录')]",
        imgs: () => [...fun.gae(".xbbs-thread-image img[data]")].map(e => e.getAttribute("data")),
        customTitle: () => fun.gt(".article>h1").trim(),
        category: "nsfw2"
    }, {
        name: "优丝库HD", //免VIP
        reg: () => {
            let hosts = ["yskhd.com", "yskhd.me"];
            return fun.indexOf(hosts, fun.lh) && /\/archives\/\d+/i.test(fun.lp);
        },
        exclude: "#erphpdown",
        init: () => [...fun.gae(".gallery-blur-item")].forEach(e => e.className = "gallery-item gallery-fancy-item"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".article-content img[src*='-285x285']")].map(e => e.src);
            fun.showMsg("fun.xhrHEA(check)...", 0);
            let xhrNum = 0;
            return [...fun.gae(".article-content img[src*='-285x285']")].map(e => e.src.replace("-285x285", "")).map(async (src, i, arr) => {
                let res = await fun.xhrHEAD(src);
                fun.showMsg(`fun.xhrHEAD(${xhrNum+=1}/${arr.length})`, 0);
                let status = res.status;
                return status == 404 ? src.replace(/(\.[a-z]+)$/i, "-scaled$1") : src;
            });
        },
        button: [4],
        insertImg: [
            [".article-content", 0, ".gallery-login,.gallery"], 2
        ],
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>a",
        customTitle: () => fun.gt(".article-title").replace(/\s?\[\d+P\]/i, ""),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "24FA",
        host: ["www.24fa.com"],
        link: "https://www.24fa.com/c49.aspx",
        reg: /(www\.)?\d{2,3}(m|w|faw|fa|aa|xx)?\.[a-z]{2,4}\/m?n\w+\.aspx/,
        init: "document.onkeydown=null",
        imgs: () => fun.getImgA("#content img", ".pager a:not([title])"),
        button: [4],
        insertImg: ["#content", 1],
        autoDownload: [0],
        next: ".prevNews>a",
        prev: ".nextNews>a",
        customTitle: () => fun.gt("h1"),
        css: "body>section[id],#footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}",
        category: "nsfw2"
    }, {
        name: "Hit-x-Hot/Hitxhot Album Archive II/dongojyousan.com",
        host: ["www.hitxhot.org", "hitxhot.com", "www.dongojyousan.com"],
        reg: [
            /^https?:\/\/www\.hitxhot\.org\/(gallerys|articles|photos)\/(?!\?page=|\?m=|hot|top|tag)\w+\.html(\?m=1)?$/i,
            /^https?:\/\/hitxhot\.com\/blog\/\w+\.html(\?m=1)?$/i,
            /^https?:\/\/www\.dongojyousan\.com\/articles\/\w+\.html/i
        ],
        init: async () => await fun.clearElementEvent(),
        imgs: async () => {
            let max;
            try {
                max = fun.gt(".entry-title").match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            let imgSrcs = /\?m=1/.test(siteUrl) ? await fun.getImg(".entry-content img", max, "8") : await fun.getImg(".entry-content img", max);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.title(/^[a-z-\s\.I]+:/i).split("|")[0].trim(),
        category: "nsfw2"
    }, {
        name: "www.depvailon.com crimejunkiespodcast.com pic.yailay.com nungvl.net www.kaizty.com lootiu.com depday.info thismore.fun cosxuxi.club baobua.com cn.looives.com redseats.org",
        reg: [
            /^https?:\/\/(www\.depvailon\.com|crimejunkiespodcast\.com)\/(?!\?page=|\?m=).+\.html/i,
            /^https?:\/\/(pic\.yailay\.com|www\.kaizty\.com)\/(gallerys|articles|photos)\/(?!\?page=|\?m=|hot|top|tag)\w+\.html/i,
            /^https?:\/\/nungvl\.net\/gallerys\/\d+\.cg/i,
            /^https?:\/\/lootiu\.com\/gallery\/.+\.cfg/i,
            /^https?:\/\/depday\.info\/v2\/\w+\.html/i,
            /^https?:\/\/thismore\.fun\/view\/[^\.]+\.php/i,
            /^https?:\/\/cosxuxi\.club\/[^\.]+\.html/i,
            /^https?:\/\/baobua\.com\/post\/[^\.]+\.html/i,
            /^https?:\/\/cn\.looives\.com\/view\/[^\.]+\.cfg/i,
            /^https?:\/\/redseats\.org\/gallery\/[^\.]+\.cfg/i
        ],
        init: async () => {
            await fun.clearElementEvent();
            await fun.waitVar("jQuery");
            fun.run("jQuery(document).off();jQuery('body').off();");
            fun.createImgBox(".contentme,.contentme2", 2);
            fun.remove(".mobiletop");
            fun.css("#FullPictureLoadEnd{color:rgb(255, 255, 255)}");
        },
        imgs: async () => {
            let max;
            try {
                max = fun.gt("h1,h2").match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            let imgSrcs = /\?m=1/.test(siteUrl) ? await fun.getImg(".contentme img,.contentme2 img", max, "8") : await fun.getImg(".contentme img,.contentme2 img", max);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".contentme,.contentme2"], 2
        ],
        customTitle: () => document.title.split("|")[0].replace(/^[a-z-\s\.]+:/i, "").replace("NứngVL.net:", "").replace(/【\d+P】|\[\d+[\w\s\+\.]+\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "TGStat Show more",
        reg: /^https?:\/\/([a-z]{2}\.)?tgstat\.com\//,
        observerClick: "//button[contains(text(),'Show more')]",
        category: "autoPager"
    }, {
        name: "Telegram Web",
        host: ["telegra.ph"],
        reg: /^https?:\/\/telegra\.ph\/.+/,
        imgs: ".figure_wrapper img",
        customTitle: () => fun.gt("h1").replace(/\|/g, "").replace(/(\s?-\s?)?\d+P/i, "").replace(/\[\d+[\w\s\.\+-]+\]/i, ""),
        category: "nsfw2"
    }, {
        name: "Rentry.co",
        host: ["rentry.co"],
        reg: () => /^https?:\/\/rentry\.co\/\w+$/.test(fun.url) && fun.ge("img"),
        imgs: "img",
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "新闻吧/新娱乐在线/新娱乐网/福建热线/山东热线/广西热线/武汉热线/天津热线/云南热线/甘肃热线",
        link: "https://www.xinwenba.net/web/meinv/",
        reg: () => {
            let hosts = ["www.xinwenba.net", "www.xwbar.com", "m.xwbar.com", "www.dv67.com", "m.dv67.com", "www.xinent.net", "m.xinent.net", "www.fjrx.org", "m.fjrx.org", "www.sdrx.org", "m.sdrx.org", "www.gxrx.org", "m.gxrx.org", "www.whrx.org", "m.whrx.org", "www.tjrx.org", "m.tjrx.org", "www.ynrx.org", "m.ynrx.org", "www.gsrx.org", "m.gsrx.org"];
            return hosts.includes(fun.lh) && /\/plus\/view-\d+-\d+\.html$/.test(fun.lp);
        },
        include: ".main img",
        imgs: () => {
            let max;
            try {
                max = fun.gt(".paging>li>a,.tags>li>a,.pre_next>li>a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".main img", max, "5");
        },
        button: [4],
        insertImg: [".view_img", 2],
        autoDownload: [0],
        next: "//li[contains(text(),'上一篇')]/a",
        prev: "//li[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".title>h1"),
        css: "div.web{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "四海资讯/娱乐吧/娱乐屋/美女图片库",
        link: "https://www.shzx.org/b/12-0.html",
        reg: () => {
            let hosts = ["www.shzx.org", "m.shzx.org", "www.yuleba.org", "m.entba.net", "www.entwu.com", "m.entwu.com", "www.xwbzx.com", "m.xwbzx.com"];
            return hosts.includes(fun.lh) && /\/a\/[\d-]+\.html$/.test(fun.lp);
        },
        imgs: () => {
            let max;
            try {
                max = fun.gt(".paging>a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".main img", max, "5");
        },
        button: [4],
        insertImg: [".main", 2],
        autoDownload: [0],
        next: ".pre_next li:last-child a",
        prev: ".pre_next li:first-child a",
        customTitle: () => fun.gt(".title>h1"),
        css: ".a_img .main img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "留园酷",
        host: ["www.cool18.com"],
        reg: /(www\.cool18\.com\/bbs\d*\/index\.php\?app=forum&act=threadview&tid=\d+|wap\.cool18\.com\/index\.php\?app=index&act=view&cid=\d+)/,
        imgs: "img[mydatasrc],#shownewsc img,.show_content img",
        customTitle: () => fun.gt(".show_content b,h1.article-tit").replace(/(\s?\.?)?\s?\(\d+P\)\s?/i, ""),
        css: ".img_ad_list{display:none!important}",
        category: "nsfw2"
    }, {
        name: "秀人集",
        host: ["www.123781.xyz"],
        reg: () => /\/\w+\/\d+\.html$/.test(siteUrl) && fun.ge("//div[@class='item_info']//a[text()='秀人集']"),
        init: () => {
            let pag = [...fun.gae(".page")];
            if (pag.length > 0) pag[0].remove();
        },
        imgs: () => fun.getImg(".content>p img[alt]", fun.gt(".page a:last-child", 2), 3, null, 200),
        button: [4],
        insertImg: ["//div[p[img[@alt and @title]]]", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一篇')]/a[contains(@href,'html')]",
        prev: "//span[contains(text(),'上一篇')]/a[contains(@href,'html')]",
        customTitle: () => fun.gt(".item_title>h1"),
        //threading: 4,
        css: ".content br{display:none!important}",
        category: "nsfw1"
    }, {
        name: "秀人美女網",
        host: ["www.xrmn09.top", "xrmn9.ooov.bf"],
        reg: () => /\/\w+\/\d+\/\d+\.html$/.test(siteUrl) && fun.ge("//div[@class='single-cat']/a[text()='秀人美女网']"),
        imgs: () => fun.getImg(".content p img[alt]", fun.gt(".page a:last-child", 2), 3, null, 200),
        button: [4],
        insertImg: ["//div[p[img[@alt]]]", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一篇')]/a[contains(@href,'html')]",
        prev: "//span[contains(text(),'上一篇')]/a[contains(@href,'html')]",
        customTitle: () => fun.gt(".item_title>h1").replace(/\d+P$/i, ""),
        //threading: 4,
        css: ".item_title>div[id],.item_title>a,.content br,.bottom_fixed,.update_area_lists>div[id],body>div[id]:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}",
        category: "nsfw1"
    }, {
        name: "极品性感美女",
        host: ["www.12356787.xyz", "x006.nnnq.bf", "尤物网.Com"],
        reg: () => /\/\w+\/\w+\.html$/.test(siteUrl) && fun.ge("//div[@class='toptip']/a[text()='极品性感美女']"),
        init: () => {
            let pag = [...fun.gae(".pagination")];
            if (pag.length > 0) pag[0].remove();
            let p = [...fun.gae("//article/p[not(img)]")];
            if (p.length > 0) {
                let te = fun.ge(".article-content");
                p.forEach(e => te.parentNode.insertBefore(e, te));
            }
        },
        imgs: () => fun.getImg(".article-content img[alt]", fun.gt("a.current~*:last-child", 2), 3, null, 200),
        button: [4],
        insertImg: [
            ["//div[@class='pagination'][last()]", 1, "//p[img[@alt]]"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: ".article-nav-next>a[href$=html]",
        prev: ".article-nav-prev>a[href$=html]",
        customTitle: () => fun.gt(".article-title").replace(/\d+p$/i, ""),
        //threading: 4,
        css: ".article-header>div[id],.article-header>a,.article-content br,img[src*='zz1.gif'],.bottom_fixed,.article-content~a,#bottom-banner,.content>div[id],body>.footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(a):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}",
        category: "nsfw1"
    }, {
        name: "爱美女网",
        host: ["www.imn5.vip"],
        reg: /^https?:\/\/www\.imn5\.\w+\/\w+\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".imgwebp p img[alt]", fun.gt(".page a:last-child", 2), 3, null, 200),
        button: [4],
        insertImg: ["//div[p[img[@alt]]]", 2],
        autoDownload: [0],
        next: "//span/b[contains(text(),'下一篇')]/a[contains(@href,'html')]",
        prev: "//span/b[contains(text(),'上一篇')]/a[contains(@href,'html')]",
        customTitle: () => fun.gt(".focusbox h1+div").replace(/\d+P$/i, ""),
        //threading: 4,
        css: ".imgwebp br,img[src*='zz2.gif']{display:none!important}",
        category: "nsfw1"
    }, {
        name: "爱看美女网",
        host: ["www.ikmn05.top"],
        reg: () => /^https?:\/\/www\.ikmn(\d+)?\.\w+\/\w+\/\d+\.html$/.test(siteUrl) && fun.ge(".info-pagebar>a"),
        init: () => {
            let pag = [...fun.gae(".pagebar")];
            if (pag.length > 0) pag[0].remove();
        },
        imgs: () => fun.getImg(".info-imtg-box img[alt]", fun.gt(".pagebar>*:last-child", 2), 3, null, 200),
        button: [4],
        insertImg: ["//p[img[@alt]]", 2],
        autoDownload: [0],
        next: ".info-next li:last-child a",
        prev: ".info-next li:first-child a",
        customTitle: () => fun.gt("h1").replace(/\d+p$/i, ""),
        //threading: 4,
        category: "nsfw1"
    }, {
        name: "美人图",
        reg: () => {
            let hosts = ["meirentu.me", "meirentu.cc", "meirentu.top", "meirentu.icu"];
            return hosts.includes(fun.lh) && /\/pic\/\d+\.html$/.test(fun.lp);
        },
        imgs: () => fun.getImg(".content_left img[alt]", fun.gt(".page a:last-child", 2), 5),
        button: [4],
        insertImg: [".content_left", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一篇')]/a[contains(@href,'html')]",
        prev: "//span[contains(text(),'上一篇')]/a[contains(@href,'html')]",
        customTitle: () => fun.gt(".item_title>h1").replace(/\d+P$/i, ""),
        //threading: 4,
        css: "img[alt]~br{display:none!important}",
        category: "nsfw1"
    }, {
        name: "美女秀",
        host: ["www.22mm.net"],
        reg: /www\.22mm\.net\/a\/\w+\.html$/i,
        imgs: () => fun.getImgO(".content img", fun.ge(".page>li:last-child>a").href.match(/_(\d+)/)[1], 9),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'上一篇')]/a",
        prev: "//span[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".item_title>h1"),
        css: "union,.update_area_lists>li:nth-child(n+3):nth-child(-n+4){display:none!important}",
        category: "nsfw1"
    }, {
        name: "卡卡美女网",
        host: ["www.kaka234.cc", "m.kaka234.cc"],
        reg: () => /^https?:\/\/(www|m)\.kaka234\.cc\/HTM\/\w+\/(\w+\/)?\d+\/\d+\/\d+\.html$/.test(siteUrl) && fun.ge(".Title>h1,.PsBox"),
        init: () => {
            let ele = fun.ge(".PsBox");
            if (ele) {
                let eleParent = ele.parentNode;
                eleParent.parentNode.insertBefore(ele.cloneNode(true), eleParent);
            }
        },
        imgs: () => {
            let max;
            try {
                max = fun.gt(".dede_pages li>a,.article_page li>a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".content img,.ArticleImageBox img", max, 9);
        },
        button: [4],
        insertImg: ["//div[@class='content'] | //div[div[@class='ArticleImageBox']]", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//li[contains(text(),'上一篇')]/a");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: () => fun.gt(".Title>h1,.PsBox"),
        css: ".m_adv{display:none!important}",
        category: "nsfw1"
    }, {
        name: "雅拉图",
        host: ["www.yalatu.com"],
        reg: /^https?:\/\/www\.yalatu\.com\/big-image\.html\?type=\d+&imageId=\d+$/,
        init: async () => {
            await fun.waitVar("mImageWebsite");
            let fetchJson = await fetch(mServerUrl + "/Image/ImageUrl", {
                "headers": {
                    "access-control-allow-origin": "*",
                    "content-type": "application/json;charset=UTF-8"
                },
                "referrer": "http://www.yalatu.com/",
                "referrerPolicy": "strict-origin-when-cross-origin",
                "body": `{\"type\":${parseInt(mRequestType, 10)},\"imageId\":${parseInt(mImageId, 10)}}`,
                "method": "POST"
            }).then(res => res.json());
            siteJson = fetchJson;
            fun.remove("#costom-page-control");
            document.onkeydown = null;
            document.oncontextmenu = null;
            document.onselectstart = null;
        },
        imgs: () => JSON.parse(siteJson.data).map(e => mImageWebsite + e),
        button: [4],
        insertImg: ["#custom-row-0", 2],
        customTitle: () => siteJson.title,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw1"
    }, {
        name: "ROSI写真",
        host: ["www.rosipic.com", "rosipic.com"],
        reg: /^https?:\/\/(www\.)?rosipic\.com\/rosi\/\d+\.html$/i,
        imgs: () => [...fun.gae("a.spotlight")].map(a => a.href.replace("https://wsrv.nl/?url=", "").replace(/&blur=\d+/, "")),
        button: [4],
        insertImg: [
            ["#waterfall-container", 2], 2
        ],
        go: 1,
        category: "nsfw1"
    }, {
        name: "ROSI美女写真",
        host: ["www.rosixiezhen.cc", "rosixiezhen.cc", "www.rosi985.com", "www.rosi365.cc", "www.rosi360.cc", "www.2meinv.cc", "www.silk-necktie.com"],
        reg: /^https?:\/\/((www\.)?rosixiezhen\.\w+|(www\.)?rosi\d{3}\.\w+|(www\.)?\dmeinv\.cc|www\.silk-necktie\.com)\/\w+\/\w+\.html/i,
        exclude: "//span/a[text()='ROSI视频']",
        init: () => {
            let pag = [...fun.gae(".pagination2")];
            if (pag.length > 0) pag[0].remove();
            fun.remove(".content>b,.content>br,.asst");
        },
        imgs: () => {
            let max;
            try {
                max = fun.gt("//a[contains(text(),'共')]").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".article-content img", max, 9);
        },
        button: [4],
        insertImg: [".article-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>.a",
        customTitle: () => fun.gt(".article-title"),
        category: "nsfw1"
    }, {
        name: "ROSI小莉最新写真",
        host: ["www.rosi211.cc"],
        reg: /^https?:\/\/(www\.)?rosi\d{3}\.cc\/\d+$/i,
        init: () => {
            let pag = [...fun.gae(".wp-pagenavi")];
            if (pag.length > 0) pag[0].remove();
            let ele = fun.ge(".entry-header");
            if (ele) {
                let x = fun.ge("article.post");
                x.parentNode.insertBefore(ele, x);
            }
        },
        imgs: () => {
            let links = [...new Set([...fun.gae(".wp-pagenavi a")].map(a => a.href))];
            return fun.getImgA("article img", links);
        },
        button: [4],
        insertImg: ["article.post", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".entry-title"),
        css: "@media only screen and (max-width:480px){#primary{padding:6px !important}.col-md-12{padding:0px !important}}",
        category: "nsfw1"
    }, {
        name: "爱图社",
        host: ["itushe.com"],
        reg: /^https?:\/\/itushe\.com\/p\/\w+\.html$/i,
        imgs: "a[data-fancybox]",
        button: [4],
        insertImg: ["#fload", 2],
        customTitle: () => fun.gt("h1"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "闺秀网",
        host: ["www.guixiu.org", "guixiu.org"],
        reg: /^https:\/\/(www\.)?guixiu\.org\/post\/\d+\.html/i,
        imgs: () => fun.getImgA("#lightgallery img", "#ipage a[href*=ipage]"),
        button: [4],
        insertImg: ["#lightgallery", 2],
        customTitle: () => fun.gt(".focusbox-title"),
        category: "nsfw1"
    }, {
        name: "福利图",
        host: ["fulitu.me"],
        reg: /fulitu\.me\/pic\/\d+\.html/i,
        imgs: () => fun.getImg(".content_left img", fun.gt("//a[text()='下页']", 2), 5),
        button: [4],
        insertImg: [".content_left", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一篇')]/a",
        prev: "//span[contains(text(),'上一篇')]/a",
        customTitle: () => fun.gt(".item_title>h1").replace(/\d+P$/i, "").trim(),
        css: ".content br{display:none!important}",
        category: "nsfw1"
    }, {
        name: "爱图门",
        host: ["aitu.men"],
        reg: /^https:\/\/aitu\.men\/[^\/]+\/\d+\.html/i,
        imgs: async () => {
            await fun.getNP(".context img", ".pagelist span+a", null, ".pagelist", 0, null, 0);
            return [...fun.gae(".context img")];
        },
        button: [4],
        insertImg: [".context", 1],
        autoDownload: [0],
        next: ".post-previous a",
        prev: ".post-next a",
        customTitle: () => fun.gt("#content h1"),
        category: "nsfw1"
    }, {
        name: "K55",
        host: ["k55.net"],
        link: "https://k55.net/arttype/2.html",
        reg: () => /^https?:\/\/k55\.net\/artdetail-\d+\.html/.test(siteUrl) && fun.ge(".photo_box"),
        imgs: () => [...fun.gae(".photo_box img")].map(e => e.src).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]),
        button: [4],
        insertImg: [".photo_box", 2],
        autoDownload: [0],
        next: ".item_prev_next>.item_right>a",
        prev: ".item_prev_next>.item_left>a",
        customTitle: () => fun.gt(".title-box>.h3-md.mb-1").replace(/\s?\[\d+P\].+$/i, ""),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "Hotgirl.biz",
        host: ["hotgirl.biz"],
        reg: /^https?:\/\/hotgirl\.biz\/[^\/]+\/$/i,
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "AsupanPenyegar",
        host: ["asupanpenyegar.com"],
        reg: /^https?:\/\/asupanpenyegar\.com\/[^\/]+\/$/i,
        imgs: ".s-post-content img,.entry-content img",
        button: [4, "23%"],
        insertImg: [".s-post-content,.entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replace(/\[\d+[-\.\+\s\w]+\]/, "").trim(),
        category: "nsfw1"
    }, {
        name: "XLUST.ORG",
        host: ["xlust.org"],
        reg: /^https?:\/\/xlust\.org\/[^\/]+\/$/i,
        imgs: ".rl-gallery-item a",
        button: [4],
        insertImg: [
            [".entry-content", 0, ".rl-gallery-container"], 2
        ],
        customTitle: () => fun.gt(".entry-title").replace(/\([\d\s]+pics\)\s?/, ""),
        fancybox: {
            blacklist: 1
        },
        category: "nsfw1"
    }, {
        name: "秀人网",
        host: ["xiurenwang.me"],
        reg: /^https?:\/\/xiurenwang\.me\/photo\.php\?id=\w+/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".intro>img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace("_600x0", "").replace(".webp", ".jpg"));
        },
        button: [4],
        insertImg: [".intro", 2],
        customTitle: () => fun.gt("h1").replace(/\（\d+P\）/i, "").trim(),
        css: "@media only screen and (max-width:640px){.paragraph .intro img{width:100%!important}}.banner_ad,.push-top,.push-bottom{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "秀人图",
        host: ["www.xiurento.com", "www.aixiuren.com", "www.aixiurentu.com"],
        reg: /^https?:\/\/www\.(xiurento|aixiuren(tu)?)\.com\/\d+\.html/i,
        exclude: "//button[contains(text(),'登录购买')]",
        imgs: () => fun.getImgA("a[data-fancybox],.entry-content img", ".fenye a"),
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: ".article-nav-next a",
        customTitle: () => fun.gt(".entry-title").replace(/\d+p/i, "").trim(),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "8E资源站",
        host: ["8ezy.com"],
        reg: () => /^https?:\/\/8ezy\.com\/[^\/]+\/$/.test(siteUrl) && fun.ge(".entry-content"),
        init: () => fun.clearAllTimer(),
        imgs: async () => {
            if (fun.ge("//div[contains(text(),'分页阅读')]")) {
                fun.showMsg(displayLanguage.str_05, 0);
                let links = [...fun.gae("//div[contains(text(),'分页阅读')]/a")].map(a => a.href);
                links = [fun.url].concat([...new Set(links)]);
                let resArr = links.map(url => fun.fetchDoc(url).then(doc => [...fun.gae(".entry-content img", doc)].map(e => e.dataset.srcset ?? e.src)));
                return Promise.all(resArr).then(data => data.flat()).then(srcs => srcs.filter(i => !/jzfi4j-0\.gif|k0j1um-0\.gif/.test(i)));
            } else {
                return [...fun.gae(".entry-content img")].map(e => e.dataset.srcset ?? e.src).filter(i => !/jzfi4j-0\.gif|k0j1um-0\.gif/.test(i));
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: ".article-nav-next a",
        customTitle: () => fun.gt(".entry-title").replace(/\d+p(\d+v)?$|\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|“\d+ photos.*/i, "").replaceAll("/", "").trim(),
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        category: "nsfw1"
    }, {
        name: "8E资源站",
        host: ["8ezy.com"],
        reg: () => /^https?:\/\/8ezy\.com\//.test(siteUrl) && fun.ge(".infinite-scroll-button"),
        init: () => fun.clearAllTimer(),
        observerClick: ".infinite-scroll-button",
        category: "autoPager"
    }, {
        name: "牛牛美图",
        host: ["www.uyn8.cn"],
        reg: /^https?:\/\/www\.uyn8\.cn\/archives\/\d+/i,
        init: "fun.clearAllTimer();",
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "图片屋",
        host: ["www.tupianwu.com", "tupianwu.com"],
        reg: /^https?:\/\/(www\.)?tupianwu\.com\/post\/\d+\//i,
        init: "fun.clearAllTimer();",
        autoClick: ".readmore>a",
        imgs: () => [...fun.gae(".LightGallery_Item")].map(e => e.getAttribute("lg-data-src")),
        button: [4],
        insertImg: [
            [".umBody", 0, ".LightGallery_Item"], 2
        ],
        autoDownload: [0],
        next: ".prev>a",
        prev: ".next>a",
        customTitle: () => fun.gt(".postTitle>h1"),
        css: "@media only screen and (max-width:480px){.container{padding:0px !important}}",
        category: "nsfw1"
    }, {
        name: "图片屋 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/(www\.)?tupianwu\.com\/(page\/\d+\/)?$|^https?:\/\/(www\.)?tupianwu\.com\/category\/\d+\/(\d+\/)?$|^https?:\/\/(www\.)?tupianwu\.com\/tags\//,
        include: ".pagebar",
        autoPager: {
            mode: 1,
            waitEle: "#article[style]",
            ele: "#article",
            next: "span.current+a",
            re: ".pagebar",
            title: doc => "Page " + fun.gt(".pagebar span.current", 1, doc),
            bottom: screen.height * 3,
            history: 1
        },
        openInNewTab: "#article a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "微密猫",
        host: ["wememiao.com", "wememao.com", "weme.su", "weme2.com", "weme4.com", "weme5.com", "weme6.com", "weme7.com", "weme9.com"],
        reg: /(wememiao\.com|wememao\.com|weme\.su|weme\d\.com)\/archives\/\d+/i,
        imgs: "figure.wp-block-image a[data-fancybox]",
        button: [4],
        insertImg: [
            [".article-content", 0, "figure.wp-block-image,.code-block"], 2
        ],
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: ".article-nav-next a",
        customTitle: () => fun.gt(".article-title").replace(/\[[0-9a-z-\.\s]+\]|【[0-9a-z-\.\s]+】/i, "").trim(),
        go: 1,
        fancybox: {
            v: 3,
            css: false
        },
        css: ".code-block{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "优美图录",
        host: ["umei.net"],
        reg: /umei\.net\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".image_div img", fun.gt(".item_info span"), 9, null, 200),
        button: [4],
        insertImg: [".image_div", 2],
        customTitle: () => fun.gt(".item_title>h1"),
        css: ".content_left img{cursor:unset}.affs,.xg_content>li:nth-child(n+1):nth-child(-n+2){display:none!important}.image_div a img{cursor:unset}",
        category: "nsfw1"
    }, {
        name: "秀人图集",
        host: ["xiuren0.com"],
        reg: () => /xiuren\d\.com\/\d+\.html$/.test(siteUrl) && fun.ge(".article-paging>*:last-child"),
        init: () => fun.remove("//p[img[@decoding and not(contains(@src,'/pic/'))]]"),
        imgs: () => fun.getImg(".article-content img:not([src*='/pic/'])", fun.gt(".article-paging>*:last-child"), "4"),
        button: [4],
        insertImg: [
            [".article-paging", 1], 1
        ],
        next: ".article-nav-prev>a",
        prev: 1,
        customTitle: () => fun.gt(".article-title"),
        css: ".modown-ad{display:none!important}",
        category: "nsfw1"
    }, {
        name: "秀人图集",
        host: ["xiuren0.com"],
        reg: /xiuren\d\.com\/\d+\.html/i,
        imgs: ".article-content img:not([src*='p.xiurenb.top'])",
        next: ".article-nav-prev>a",
        prev: 1,
        customTitle: () => fun.gt(".article-title"),
        category: "nsfw1"
    }, {
        name: "Xiutaku/Kiutaku",
        host: ["xiutaku.com", "kiutaku.com"],
        reg: /(xiutaku\.com|kiutaku\.com)\/\d+$/,
        init: () => fun.remove(".search-form~*,.blog~*:not([class]),.pagination~*:not([class]):not(hr),.article.content~*:not([class]):not(hr),.bottom-articles~*"),
        imgs: async () => {
            let imgSrcs = await fun.getImg(".article-fulltext img", fun.gt(".pagination-list>span:last-child"));
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [".article-fulltext", 2],
        customTitle: () => fun.gt(".article-header>h1").replace(/.mitaku.net./, "").trim(),
        category: "nsfw1"
    }, {
        name: "XGirl/Xerocos",
        host: ["xgirl.one", "xerocos.com"],
        reg: /^https?:\/\/(xgirl\.one|xerocos\.com)\/view\//,
        init: async () => {
            await fun.waitEle("//span[text()='Sponsored ads']");
            fun.remove("//div[iframe]|//*[span[text()='Sponsored ads']]", 1000);
        },
        imgs: () => fun.getImgA(".items-center.min-h-screen img", "a[class*=bg-pink-500][href*='page=']"),
        button: [4],
        insertImg: [".items-center.min-h-screen", 2],
        customTitle: () => fun.gt("//div[strong[contains(text(),'Album Name')]]").replace("Album Name: ", "").replace(/\(\d+[\w\s]+\)/i, "").trim(),
        //customTitle: () => fun.title(/\s?-\sXGirl|\s?-\sXerocos/).replace(/\(\d+[\w\s]+\)/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "XGirl 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/xgirl\.one\//,
        reg: () => /^https?:\/\/xgirl\.one\//.test(siteUrl) && fun.ge("//div[@class='flex py-4 justify-center md:justify-between mt-4']") && fun.ge("//a[text()='Next']"),
        autoPager: {
            mode: 1,
            waitEle: "//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[1][@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4']//img",
            ele: "//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[1][@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4']",
            pos: ["//div[@class='flex py-4 justify-center md:justify-between mt-4']", 1],
            next: "//a[text()='Next']",
            re: "//div[@class='flex py-4 justify-center md:justify-between mt-4']",
            title: () => "Page " + nextLink.match(/\d+$/)[0],
            bottom: screen.height * 2,
            history: 1
        },
        openInNewTab: ".grid a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "Xerocos 分類自動翻頁",
        enable: 1,
        reg: () => /^https?:\/\/xerocos\.com\//.test(siteUrl) && fun.ge("//div[@class='flex py-4 justify-center md:justify-between mt-4']") && fun.ge("//a[text()='Next']"),
        autoPager: {
            mode: 1,
            waitEle: "//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[1][@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4']//img|//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pb-6']//img",
            ele: "//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[1][@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4']|//div[@class='flex py-4 justify-center md:justify-between mt-4']/preceding-sibling::div[@class='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pb-6']",
            pos: ["//div[@class='flex py-4 justify-center md:justify-between mt-4']", 1],
            next: "//a[text()='Next']",
            re: "//div[@class='flex py-4 justify-center md:justify-between mt-4']",
            title: () => "Page " + nextLink.match(/\d+$/)[0],
            aF: () => [...fun.gae(".blur-2xl")].forEach(e => e.classList.remove("blur-2xl")),
            bottom: screen.height * 2,
            history: 1
        },
        openInNewTab: ".grid a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "私图网/图库库/coscoser",
        host: ["baoruba.com", "tukuku.cc", "coscoser.com"],
        reg: /(baoruba\.com|tukuku\.cc|coscoser\.com)\/(bb|t)?\d+\.html/i,
        imgs: ".entry-content img[decoding]",
        button: [4],
        insertImg: [".entry-content", 2],
        go: 1,
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.title(/ - 私图网| - coscoser/),
        css: "[id].widget_text,.gridmode-post-thumbnail-single,.gridbit-thumbnail-alignwide{display:none!important}",
        category: "nsfw1"
    }, {
        name: "Cup2D",
        host: ["www.cup2d.com"],
        reg: /^https?:\/\/www\.cup2d\.com\/[^\/]+\/$/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img[data-high-res-src]")].map(e => e.src);
            return [...fun.gae("img[data-high-res-src]")].map(e => e.dataset.highResSrc);
        },
        button: [4],
        insertImg: ["//div[a[img[@data-high-res-src]]]", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.title(" – Cup2D"),
        category: "nsfw1"
    }, {
        name: "美图社",
        host: ["928r.com"],
        reg: /^https?:\/\/928r\.com\/post\/\d+\.html$/i,
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("//a[text()='显示全文']").href;
            return fun.fetchDoc(url).then(doc => [...fun.gae("#lightgallery img", doc)]);
        },
        button: [4],
        insertImg: ["#lightgallery", 2],
        autoDownload: [0],
        next: ".prev>a",
        prev: ".next>a",
        customTitle: () => fun.gt(".focusbox-title"),
        category: "nsfw1"
    }, {
        name: "找套图/Xiuno BBS",
        host: ["www.zhaotaotu.cc", "zhaotaotu.one", "kantaotu.cc"],
        reg: /^https?:\/\/((www\.)?zhaotaotu\.cc|(www\.)?zhaotaotu\.one|kantaotu\.cc)\/\??thread-\d+\.htm/i,
        imgs: ".message>img:not(:first-of-type)",
        button: [4],
        insertImg: [".message", 2],
        customTitle: () => fun.gt(".media-body>h4").replace(/\(\d+P\)/i, ""),
        category: "nsfw1"
    }, {
        name: "尤美图库",
        host: ["www.umeitu.com"],
        reg: /www\.umeitu\.com\/img\/\d+\.html/,
        imgs: () => fun.getImg(".vipimglist img", fun.gt(".stitle>h1>span").match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".vipimglist", 2],
        customTitle: () => fun.title(" - 尤美图库", 1).replace(/\[\d+P\]/i, ""),
        css: ".sb.list2>li:nth-child(n+2):nth-child(-n+3){display:none!important}.vipimglist img{min-height:unset!important;}",
        category: "nsfw1"
    }, {
        name: "美图库",
        host: ["www.meituku.org"],
        reg: /www\.meituku\.org\/\d+\/\d+\.html/,
        imgs: () => [...fun.doc(imgs.join("")).images],
        button: [4],
        insertImg: ["#content", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'下一篇')]/a",
        prev: "//div[contains(text(),'上一篇')]/a",
        customTitle: () => fun.gt(".info-title>a:nth-child(3)"),
        category: "nsfw1"
    }, {
        name: "秀爱美女网/秀套图吧",
        host: ["www.2mn.cc", "www.taotu8.cc"],
        reg: /(www\.2mn\.cc|www\.taotu8\.cc)\/mm\/\d+\.html/i,
        imgs: () => {
            let max;
            try {
                max = fun.ge(".page_navi a:last-child").href.split("_")[1].match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".sg_img img", max, 9);
        },
        button: [4],
        insertImg: [".sg_img", 2],
        customTitle: () => fun.gt("h1"),
        css: "#divpsg,.tujia{display:none!important}.sg_img img{min-height:unset!important}",
        category: "nsfw1"
    }, {
        name: "Xiuren 秀人网",
        host: ["www.xiuren.org"],
        reg: /www\.xiuren\.org\/.+\.html/i,
        imgs: "a[rel='gallery']:not([href*='html']",
        button: [4],
        insertImg: [
            [".post p>a:not([title])", 2, ".post p>a[title],.post p>span"], 2
        ],
        customTitle: () => fun.gt("#title>h1").replace(/\d+p$/i, "").trim(),
        css: "#post .post img{max-width:100% !important}",
        category: "nsfw2"
    }, {
        name: "微圖坊",
        host: ["www.v2ph.com", "www.v2ph.net", "www.v2ph.ru", "www.v2ph.ovh"],
        reg: () => /^https?:\/\/www\.v2ph\.(com|net|ru|ovh)\/album\//.test(siteUrl) && !fun.indexOf(siteUrl, "?page=") && fun.ge(".photos-list"),
        imgs: async () => {
            let picTotalNum = fun.gt("dd:last-child").match(/\d+/)[0];
            let pagePicNum = [...fun.gae(".album-photo img[alt]")].length;
            let max = Math.ceil(picTotalNum / pagePicNum);
            let links = fun.arr(max).map((_, i) => siteUrl.replace(/\?hl=.+|\?page=\d+/, "") + `?page=${(i + 1)}`);
            let srcArr = [];
            let status = 200;
            let vip = false;
            let fetchNum = 0;
            fun.showMsg(displayLanguage.str_01, 0);
            for (let page = 0; page < links.length; page++) {
                await fetch(links[page]).then(res => {
                    if (res.status == 403) status = 403;
                    fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${links.length}`, 0);
                    return res.arrayBuffer();
                }).then(buffer => {
                    const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                    const htmlText = decoder.decode(buffer);
                    const doc = fun.doc(htmlText);
                    debug(`\n${links[page]}\n`, doc);
                    let vipEle = fun.ge(".lead", doc);
                    if (vipEle) vip = true;
                    let imgs = [...fun.gae(".album-photo img[alt]", doc)];
                    imgs.length == 0 ? debug(`\n${links[page]}\n沒有任何圖片`) : debug(`\n${links[page]}\n此頁圖片`, imgs);
                    let tE = [...fun.gae("div.album-photo")].at(-1);
                    imgs.forEach(img => {
                        img.dataset.src ? srcArr.push(img.dataset.src) : srcArr.push(img.src);
                        if (page != 0) tE.parentNode.insertBefore(img.parentNode.cloneNode(true), tE.nextSibling);
                    });
                    if (page != 0 && !vipEle && fun.ge(".pagination", doc)) fun.ge(".pagination").outerHTML = fun.ge(".pagination", doc).outerHTML;
                });
                if (status == 403) {
                    setTimeout(() => {
                        fun.showMsg("403請先登錄網站!", 0);
                    }, 1200);
                    return srcArr;
                }
                if (vip) {
                    setTimeout(() => {
                        fun.showMsg("VIP限定專輯圖片!", 5000);
                    }, 1200);
                    return srcArr;
                }
                await fun.delay(600, 0);
            }
            if (picTotalNum != srcArr.length && !vip) {
                setTimeout(() => {
                    fun.hideMsg();
                    fun.showMsg("圖片有缺，請看主控台訊息", 5000);
                }, 1300)
            }
            return srcArr;
        },
        button: [4],
        insertImg: [".photos-list", 2],
        customTitle: () => fun.gt("h1"),
        css: ".albums-list img,.photos-list img{opacity:1!important}",
        threading: 8,
        category: "nsfw2"
    }, {
        name: "柠檬皮",
        host: ["www.emonl.com"],
        reg: () => /www\.emonl\.com\/\d+\.html$/i.test(siteUrl) && fun.ge(".page-links") && !fun.ge(".read-point-box"),
        imgs: () => fun.getImg(".single-content img", (fun.gt(".page-links>a:last-child", 2) || 1), 7),
        button: [4],
        insertImg: [".single-content", 1],
        customTitle: () => fun.gt("h1.entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "柠檬皮",
        host: ["www.emonl.com"],
        reg: () => /www\.emonl\.com\/\d+\.html$/i.test(siteUrl) && fun.ge(".single-content img") && !fun.ge(".read-point-box"),
        imgs: ".single-content img",
        button: [4],
        insertImg: [".single-content", 1],
        customTitle: () => fun.gt("h1.entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "51sex",
        host: ["51sex.vip"],
        reg: /51sex\.vip\/pic\/\d+/i,
        init: () => fun.addUrlHtml(siteData.next(), ".headling_main", 1, "下一篇"),
        imgs: () => {
            let max;
            try {
                max = fun.gt(".headling_swiper_num_small").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            let links = fun.arr(max).map((_, i) => siteUrl + "/" + (i + 1));
            return fun.getImgA("#bigimg", links);
        },
        button: [4, "24%"],
        insertImg: [".headling_main", 2],
        next: () => {
            let num = siteUrl.match(/\d+$/)[0];
            return siteUrl.replace(/\d+$/, "") + (parseInt(num, 10) - 1);
        },
        customTitle: () => fun.gt(".headling_word_main_box_title").replace(/\[\d+P\]/i, "").replace(/\d+P$/i, "").replace(/\(\d+P\)/i, "").trim(),
        css: ".headling_main{height:auto}",
        category: "nsfw1"
    }, {
        name: "51sex分類自動翻頁",
        host: ["51sex.vip"],
        reg: /https?:\/\/51sex\.vip\/category\/\d+/i,
        init: () => fun.lp.split("/").length == 3 ? currentPageNum = 1 : currentPageNum = parseInt(fun.lp.split("/").at(-1), 10),
        autoPager: {
            ele: ".headling_main_a",
            observer: ".headling_main_a",
            next: () => siteUrl.match(/https?:\/\/51sex\.vip\/category\/\d+/)[0] + "/" + (currentPageNum += 1),
            stop: doc => {
                let currentEleURLs = [...fun.gae(".headling_main_a")].map(a => a.href);
                if (currentEleURLs.length < 24) {
                    return true;
                } else {
                    if (currentEleURLs.length > 24) currentEleURLs = currentEleURLs.slice(-24);
                    let nextEleURLs = [...fun.gae(".headling_main_a", doc)].map(a => a.href);
                    for (let i in currentEleURLs) {
                        if (nextEleURLs.includes(currentEleURLs[i])) return true;
                    }
                }
                return false;
            },
            history: 1,
            title: () => "Page " + currentPageNum
        },
        openInNewTab: "a.headling_main_a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "美图乐",
        host: ["www.meitule.net", "www.meitule.com", "www.meitulu.cc"],
        reg: /(www\.)?(meitule|meitulu)\.\w+\/photo\/\d+\.html/i,
        imgs: () => {
            let max;
            try {
                max = fun.ge(".page>li:last-child>a").href.split("_")[1].match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImgO(".content img", max, 9);
        },
        button: [4],
        insertImg: [".content", 2],
        customTitle: () => fun.gt("h1.h5"),
        css: "#dtag>center,#divpsg,.tujia,.list-album>li:nth-child(n+1):nth-child(-n+2){display:none!important}",
        category: "nsfw1"
    }, {
        name: "美桌",
        host: ["www.win4000.com"],
        link: "http://www.win4000.com/meitu.html",
        reg: /www\.win4000\.com\/meinv\d+\.html/,
        imgs: () => fun.getImgA(".pic-large", "#scroll>li:not(.current)>a", 200),
        button: [4],
        insertImg: ["#pic-meinv,.pic-meinv", 2],
        autoDownload: [0],
        next: ".group-next>a",
        prev: ".group-prev>a",
        customTitle: () => fun.gt(".ptitle>h1"),
        threading: 3,
        category: "nsfw1"
    }, {
        name: "MM1311",
        host: ["www.mm1311.net", "m.mm1311.net"],
        reg: /(www|m)\.mm1311\.net\/\w+\/\d+\.html/,
        imgs: () => {
            let max;
            fun.ge(".page-ch") ? max = fun.gt(".page-ch").match(/\d+/)[0] : max = fun.gt(".fenye>.rw").match(/\d+\/(\d+)/)[1];
            return fun.getImg(".content-pic img,.post-content img", max, 9);
        },
        button: [4],
        insertImg: [".content-pic,.post-content", 1],
        autoDownload: [0],
        next: ".updown_r",
        prev: ".updown_l",
        customTitle: () => fun.gt(".content>h5,.mm-title"),
        css: "union{display:none!important}",
        category: "nsfw1"
    }, {
        name: "656G精品套图",
        host: ["www.656g.com", "m.656g.com"],
        reg: /^https?:\/\/(www|m)\.656g\.com\/tid\/\d+\.html$/,
        imgs: () => {
            let max = fun.gt(".i1").match(/\d+/)[0];
            return fun.getImgO(".imgg img", max, 9);
        },
        button: [4],
        insertImg: [".imgg", 2],
        customTitle: () => fun.gt(".c-tt>h1"),
        category: "nsfw1"
    }, {
        name: "依依图片网",
        host: ["www.eemm.cc"],
        reg: /www\.eemm\.cc\/pic\/\d+\.html/,
        imgs: async () => {
            await fun.getNP("#content img", "a.on+a:not(.next)", null, ".page", 0, null, 0, 0);
            return [...fun.gae("#content img")];
        },
        button: [4],
        insertImg: ["#content", 1],
        customTitle: () => fun.gt(".article>h1"),
        css: ".article .content img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "依依图片网M",
        host: ["m.eemm.cc"],
        reg: /m\.eemm\.cc\/pic\/\d+\.html/,
        imgs: () => {
            let max = fun.gt(".contentpage").match(/\d+\/(\d+)/)[1];
            return fun.getImg(".content img", max, 9);
        },
        button: [4],
        insertImg: [".content", 1],
        customTitle: () => fun.gt(".content>h1"),
        css: ".topad,.mdiv{display:none!important}",
        category: "nsfw1"
    }, {
        name: "青年美圖",
        host: ["jrants.com"],
        reg: /^https?:\/\/(\w+\.)?jrants\.com\/\d+\.html$|^https:\/\/\w+\.jrants\.com\/[^\/]+\/$/,
        imgs: () => fun.ge(".page-links") ? fun.getImg(".entry-content img", fun.gt(".page-links>a:last-child"), 7) : [...fun.gae(".entry-content img")],
        button: [4],
        insertImg: [".entry-content", 1],
        autoDownload: [0],
        next: "span.prev>a",
        prev: "span.next>a",
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+P\)|\[\d+P\]|\[\d+P\/\d+1M\]/gi, "").trim(),
        css: ".code-block{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "CosBlay/風流雜誌/泰撲美圖",
        host: ["cosblay.com", "trendszine.com", "www.tiplogo.com"],
        reg: /^https?:\/\/(cosblay\.com|trendszine\.com|www\.tiplogo\.com)\/\d+\.html/i,
        imgs: () => fun.getImg(".entry-content img", fun.gt(".pgntn-page-pagination-block>*:last-child", 2) || 1, 7),
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "span.prev>a",
        prev: "span.next>a",
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+\s?Photos\)|\(\d+p\)|【\d+[\w\s\.\+-]+】/i, "").trim(),
        css: ".code-block{display:none!important;}@media (max-width:768px){.separate-containers .inside-article,.separate-containers .comments-area,.separate-containers .page-header,.separate-containers .paging-navigation,.one-container .site-content,.inside-page-header{padding:2px}.entry-content:not(:first-child),.entry-summary:not(:first-child),.page-content:not(:first-child){margin-top:2px}}",
        category: "nsfw2"
    }, {
        name: "MM5MM5美女图片",
        host: ["www.mm5mm5.com"],
        reg: /www\.mm5mm5\.com\/mm\/\d+/,
        imgs: () => picinfo[0].split(","),
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.gt(".article>h2"),
        css: ".article .content img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "MM5MM5美女图片M",
        host: ["m.mm5mm5.com"],
        reg: /m\.mm5mm5\.com\/mm\/\d+/,
        imgs: () => {
            let max = fun.gt(".contentpage>span>i").match(/\/(\d+)/)[1];
            let links = [siteUrl];
            for (let i = 1; i < max; i++) {
                links.push(siteUrl + "/" + i);
            }
            return fun.getImgA("div>a>img", links, 333);
        },
        button: [4],
        insertImg: ["//div[a[img]]", 2],
        customTitle: () => fun.gt(".content>h1"),
        css: "union[id],.pag-ts,.contentpage{display:none!important}",
        category: "nsfw1"
    }, {
        name: "888美女网",
        host: ["www.888meinv.com"],
        reg: () => /^https?:\/\/www\.888meinv\.com\/\w+\/\d+$/.test(siteUrl) && fun.ge(".suoyou"),
        imgs: () => {
            let max = fun.gt(".suoyou").match(/\/(\d+)/)[1];
            let links = fun.arr(max).map((_, i) => siteUrl + "/" + (i + 1));
            return fun.getImgA(".pannel img", links);
        },
        button: [4],
        insertImg: [".pannel", 1],
        autoDownload: [0],
        next: ".pre_pageload>a",
        prev: ".next_pageload>a",
        customTitle: () => fun.gt("h1"),
        css: ".nr .tupianqu img{margin-top:0px!important}@media only screen and (max-width:480px){.nr .tupianqu,.nr .tupianqu .pannel{padding:0px!important}}union{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "可爱小图",
        host: ["www.keaitupian.com", "m.keaitupian.com"],
        reg: /(www|m)\.keaitupian\.com\/pic\/\d+\.html/,
        imgs: () => {
            try {
                let max = fun.gt(".entry-title,.desk-tit>h1").match(/\/(\d+)/)[1];
                let links = [siteUrl];
                let url = siteUrl.replace(".html", "");
                for (let i = 1; i < max; i++) {
                    links.push(url + "-" + i + ".html");
                }
                return fun.getImgA(".entry-content img,#content_pic img", links, 1000);
            } catch (e) {
                return [...fun.gae(".entry-content img,#content_pic img")];
            }
        },
        button: [4],
        insertImg: [".entry-content,#content_pic", 1],
        customTitle: () => fun.gt(".entry-title,.desk-tit>h1").replace(/（\d+\/\d+）/, "").trim(),
        category: "nsfw1"
    }, {
        name: "回车桌面",
        host: ["www.enterdesk.com", "m.enterdesk.com"],
        reg: /^https?:\/\/((m\.)?mm?\.|www\.|(m\.)?sj\.)enterdesk\.com\/\w+\/[0-9-]+\.html/,
        include: ".arc_pandn .swiper-wrapper img,.marc_pandn .swiper-wrapper img,.arc_main_pic_img,#main_img",
        imgs: () => [...fun.gae(".arc_pandn .swiper-wrapper img,.marc_pandn .swiper-wrapper img,.arc_main_pic_img,#main_img")].map(e => e.src.replace("_360_360", "")),
        button: [4],
        insertImg: [".arc_main_pic,.marc_img", 2],
        autoDownload: [0],
        next: "//a[div[text()='下一组']]|//div[@id='next_pics']",
        prev: 1,
        customTitle: () => fun.gt(".arc_location>a:last-child,.m_h1>a"),
        css: ".marc_img img{min-height:unset!important}",
        category: "nsfw1"
    }, {
        name: "女人吧",
        host: ["www.nvhai8.com", "m.nvhai8.com"],
        reg: /^https?:\/\/(www|m)\.nvhai8\.com\/body\/\d+\/\d+\.htm/,
        init: () => {
            fun.remove("//div[iframe] | //div[@class='hengfu2'] | //div[@onclick]");
            document.body.removeAttribute("style");
        },
        imgs: () => {
            try {
                let max = fun.gt(".imgfooter>a").match(/\d+/)[0];
                return fun.getImgA(".remark img,.ui-article-detail img", ".imgfooter>a[href]");
            } catch (e) {
                return [...fun.gae(".remark img,.ui-article-detail img")]
            }
        },
        button: [4],
        insertImg: [".remark,.ui-article-detail", 2],
        autoDownload: [0],
        next: "//label[contains(text(),'下一篇')]/preceding-sibling::a[1]",
        prev: "//label[contains(text(),'上一篇')]/following-sibling::a[1]",
        customTitle: () => fun.gt(".text_content>h1,.arc_location>a:last-child,.m_h1>a,h1"),
        category: "nsfw1"
    }, {
        name: "淑女爱",
        host: ["www.shunvi.com", "www.shunvai.com"],
        reg: () => /^https?:\/\/www\.shunva?i\.com\/\w+\/\d+\.html$/.test(siteUrl) && fun.ge("#allnum"),
        imgs: () => {
            let max = fun.gt("#allnum");
            let links = fun.arr(max).map((_, i) => i == 0 ? siteUrl : siteUrl.replace(".html", "") + "_" + (i + 1) + ".html");
            return fun.getImgA(".picsbox img", links, 200);
        },
        button: [4],
        insertImg: [".picsbox>center", 2],
        customTitle: () => fun.gt(".picmainer>h1").replace(/\(\d+\/\d+\)/, ""),
        css: ".picpege{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "淑女爱M",
        host: ["m.shunvi.com", "m.shunvai.com"],
        reg: () => /^https?:\/\/m\.shunva?i\.com\/photo\/\d+\.html$/.test(siteUrl) && fun.ge("#thenum"),
        imgs: () => {
            let max = fun.gt("//span[b[@id='thenum']]").match(/\d+$/)[0];
            let links = fun.arr(max).map((_, i) => i == 0 ? siteUrl : siteUrl.replace(".html", "") + "_" + (i + 1) + ".html");
            return fun.getImgA(".swiper-slide img", links, 200);
        },
        button: [4],
        insertImg: ["#slider", 2],
        customTitle: () => fun.gt(".infoline").replace(/\d+\s\/\s\d+\n/, ""),
        category: "nsfw1"
    }, {
        name: "mn52图库",
        host: ["www.mn52.com", "wap.mn52.com"],
        link: "https://www.mn52.com/xingganmeinv/",
        reg: /^https?:\/\/(www|wap)\.mn52\.com\/\w+\/\d+\.html$/,
        imgs: "#originalpic img,.w100 img",
        button: [4],
        insertImg: ["#originalpic,.w100", 2],
        autoDownload: [0],
        next: "//a[span[text()='上一个图集']]|//li[contains(text(),'上一篇')]/a",
        prev: "//a[span[text()='下一个图集']]|//li[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".title>h1,.general-title>h4"),
        css: ".general-title{padding:unset!important}",
        category: "nsfw1"
    }, {
        name: "三千图片网",
        host: ["www.win3000.com"],
        link: "https://www.win3000.com/tags/xingganmeinv/",
        reg: /^https?:\/\/www\.win3000\.com\/\w+\/\d+\.html$/,
        imgs: () => {
            let max = fun.gt(".title>span").match(/\d+$/)[0];
            let links = fun.arr(max).map((_, i) => siteUrl.replace(".html", "") + "_" + (i + 1) + ".html");
            return fun.getImgA(".pic-cont img", links);
        },
        button: [4],
        insertImg: [".pic-cont", 2],
        autoDownload: [0],
        next: "a.other-group.fr",
        prev: "a.other-group.fl",
        customTitle: () => fun.gt(".title>h1"),
        category: "nsfw1"
    }, {
        name: "三千图片网M",
        host: ["m.win3000.com"],
        link: "https://m.win3000.com/tags/xingganmeinv/",
        reg: /^https?:\/\/m\.win3000\.com\/\w+\/\d+\.html$/,
        imgs: () => {
            let max = fun.gt(".show-page>i");
            let links = fun.arr(max).map((_, i) => siteUrl.replace(".html", "") + "_" + (i + 1) + ".html");
            return fun.getImgA(".pic-showbox .imgbox img", links);
        },
        button: [4],
        insertImg: [".pic-showbox", 2],
        autoDownload: [0],
        next: "a.page-next",
        prev: "a.page-prev",
        customTitle: () => fun.gt(".pic-infobox h1"),
        css: "#app{font-size:14px!important}",
        category: "nsfw1"
    }, {
        name: "3G 壁纸",
        host: ["www.3gbizhi.com", "m.3gbizhi.com"],
        link: "https://www.3gbizhi.com/meinv",
        reg: /(www|m|desk)\.3gbizhi\.com\/meinv\/(\w+\/)?\w+\.html/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".swiper-slide>a>img")].map(e => e.src);
            return fun.getImgA("#contpic,#mobile_c_img>img", ".swiper-slide:not(:first-child) a");
        },
        button: [4],
        insertImg: ["#showimg", 1],
        autoDownload: [0],
        next: "a.next[href$=html]",
        prev: "a.pver[href$=html]",
        customTitle: () => fun.gt("h2.title,.titlew>h2"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.showcontw #showimg{height:auto!important}[class^=ad_id]{display:none!important}",
        category: "nsfw1"
    }, {
        name: "亿图全景图库",
        host: ["www.yeitu.com", "m.yeitu.com"],
        link: "https://www.yeitu.com/meinv/",
        reg: /(www|m)\.yeitu\.com\/\w+\/\w+\/\w+\.html/,
        init: () => {
            let a = fun.ge(".article-body>a,.gallery-item>a");
            if (a) a.outerHTML = a.innerHTML;
        },
        imgs: () => {
            let max = fun.gt(".imageset-sum,span.num").match(/\/\s?(\d+)/)[1];
            let links = [siteUrl];
            let url = siteUrl.replace(".html", "");
            for (let i = 2; i <= max; i++) {
                links.push(url + "_" + i + ".html");
            }
            return fun.getImgA(".img_box img[alt],.gallery-item img[alt],.article-show img", links, 2);
        },
        button: [4],
        insertImg: [".img_box,.gallery-item,.article-show", 2],
        customTitle: () => fun.gt("#title>h1,h1.article-title,.article-info>h1"),
        css: ".appbox,.uk-page~section,.yt-pages+.mssp{display:none!important}",
        category: "nsfw1"
    }, {
        name: "优美图库",
        host: ["www.umei.cc"],
        link: "https://www.umei.cc/meinvtupian/",
        reg: /www\.umei\.cc\/meinvtupian\/\w+\/\d+\.htm/i,
        imgs: () => {
            let a = fun.ge(".pages li:last-child>a");
            let max = a.href.match(/_(\d+).htm/)[1];
            return fun.getImg(".big-pic img", max, 17);
        },
        button: [4],
        insertImg: [".big-pic", 1],
        autoDownload: [0],
        next: ".preandnext:not(.connext)>a",
        prev: ".preandnext.connext>a[href$=htm]",
        customTitle: () => fun.gt("#photos>h1"),
        css: ".photo img {max-width:100% !important}",
        category: "nsfw1"
    }, {
        name: "优美图库M",
        host: ["wap.umei.cc"],
        reg: () => /wap\.umei\.cc\/meinvtupian\/\w+\/\d+\.htm$/.test(siteUrl) && fun.ge("//a[text()='尾页']"),
        imgs: () => {
            let max = fun.ge("//a[text()='尾页']").href.match(/_(\d+).htm/)[1];
            return fun.getImg("#maincont img", max, 17);
        },
        button: [4],
        insertImg: ["#maincont", 1],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("a.f-r.l3");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: () => fun.gt(".title>h1"),
        css: "#maincont>div:not(#FullPictureLoadImgBox),dl:nth-child(n+1):nth-child(-n+2){display:none!important}",
        category: "nsfw1"
    }, {
        name: "MEITU131",
        host: ["www.meitu131.net", "m.meitu131.net"],
        link: "https://www.meitu131.net/nvshen/，https://www.meitu131.net/jigou/",
        reg: /(www|m)\.meitu131\.(com|net)\/(\w+\/)?meinv\/\d+\//,
        imgs: () => {
            let max = fun.gt("a[title],.uk-page>span").match(/\/(\d+)/)[1];
            return fun.getImgO(".work-content img,.uk-article-bd img", max, 15);
        },
        button: [4],
        insertImg: [".work-content>p,.uk-article-bd", 1],
        customTitle: () => fun.gt(".contitle-box>h1,h1.uk-article-title"),
        css: ".appbox,.uk-page~section{display:none!important}.work-content img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "晴空头像图库",
        host: ["www.qq7k.com"],
        reg: /www\.qq7k\.com\/\w+\/\w+\/\d+.html/i,
        init: () => {
            let a = fun.ge(".content a");
            a.outerHTML = a.innerHTML;
        },
        imgs: () => {
            let max = parseInt(qingtiancms_Details.Total, 10);
            return max > 1 ? fun.getImg(".content img", max, 9) : [...fun.gae(".content img")];
        },
        button: [4],
        insertImg: [".content", 1],
        autoDownload: [0],
        next: "//a[text()='上一篇']",
        prev: 1,
        customTitle: () => fun.gt(".contitle-box>h1"),
        css: ".content img{cursor:unset!important;margin:0px auto!important;border:none!important}",
        category: "nsfw1"
    }, {
        name: "晴空头像图库M",
        host: ["m.qq7k.com"],
        reg: /m\.qq7k\.com\/\w+\/\w+\/\d+.html/i,
        init: () => {
            let a = fun.ge(".show-simg a");
            a.outerHTML = a.innerHTML;
        },
        imgs: async () => {
            await fun.getNP(".show-simg img", "#playnext[href*=_]", null, ".show-pages", 0, null, 0);
            return [...fun.gae(".show-simg img")];
        },
        button: [4],
        insertImg: [".show-simg", 1],
        autoDownload: [0],
        next: "#playpre",
        prev: 1,
        customTitle: () => fun.gt(".m-article>h1"),
        css: "#bigImg{margin:0px!important}",
        category: "nsfw1"
    }, {
        name: "唯一图库",
        host: ["www.mmonly.cc", "m.mmonly.cc"],
        reg: /^https?:\/\/(www|m)\.mmonly\.cc\/\w+\/\w+\/\d+\.html$/i,
        init: "$(document).off();",
        imgs: () => {
            let max;
            try {
                max = fun.gt(".pages a,.article_page a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".big-pic img,#ArticleBox img", max, 9);
        },
        button: [4],
        insertImg: [".big-pic,#ArticleBox", 2],
        customTitle: () => fun.gt(".imgtitle>h1,.PsBox").replace(/\(\d+\/\d+\)/, "").trim(),
        category: "nsfw1"
    }, {
        name: "和邪社",
        host: ["www.hexieshe.cn"],
        reg: /^https?:\/\/www\.hexieshe\.cn\/\d+\/$/i,
        init: async () => await fun.getNP("#content-innerText>p", "span.current+a", null, ".post-links"),
        imgs: "#content-innerText img",
        customTitle: () => fun.gt(".entry-title").replace("为您朗读", "").trim(),
        category: "nsfw1"
    }, {
        name: "天极图片",
        host: ["pic.yesky.com"],
        reg: /^https?:\/\/pic\.yesky\.com\/\d+\/\d+\.shtml$/i,
        init: () => fun.ge(".bigPic").outerHTML = '<div class="imgBox"></div>',
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".previewPic img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/d-|\/180x320/g, ""));
        },
        button: [4],
        insertImg: [".imgBox", 2],
        customTitle: () => fun.gt("h1"),
        css: ".atlasSwiper .floatR,.atlasSwiper .floatR .previewPic{width:unset!important}",
        category: "nsfw1"
    }, {
        name: "天极图片M",
        host: ["wap.yesky.com"],
        reg: /^https?:\/\/wap\.yesky\.com\/pic\/\d+\/\d+\.shtml$/i,
        init: () => {
            globalImgArray = [...fun.gae("[data-imgid] img")];
            fun.ge(".swiper-container").outerHTML = '<div class="imgBox"></div>';
        },
        imgs: () => globalImgArray,
        button: [4],
        insertImg: [".imgBox", 2],
        customTitle: () => fun.gt(".atlas_introduce h1"),
        css: ".swiper-sum,[class^=ad]{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "爱美女",
        host: ["www.92meinv.com"],
        reg: /www\.92meinv\.com\/article.+\.html/,
        imgs: () => {
            let max = fun.gt(".des>h1,.post_title_topimg").match(/\/\s?(\d+)/)[1];
            let links = fun.arr(max).map((_, i) => siteUrl.replace(/\.html$/, "") + "-" + (i + 1) + ".html");
            return fun.getImgA(".pp.hh img[alt],#image_div img", links, 200);
        },
        button: [4],
        insertImg: [".pp.hh,.content", 1],
        autoDownload: [0],
        next: "//a[@class='active' and contains(text(),'下一篇')] | //a[@class='active' and contains(text(),'下一组')]",
        prev: "//a[@class='active' and contains(text(),'上一篇')] | //a[@class='active' and contains(text(),'上一组')]",
        css: ".pp img{max-width:100%!important}",
        customTitle: () => fun.title("_", 1),
        category: "nsfw1"
    }, {
        name: "爱美女M",
        host: ["m.92meinv.com"],
        reg: /m\.92meinv\.com\/article-\d+\.html/,
        imgs: () => {
            let max = fun.gt(".article-page>*:last-child", 2);
            let links = fun.arr(max).map((_, i) => siteUrl.replace(/\.html$/, "") + "-" + (i + 1) + ".html");
            return fun.getImgA(".arcmain img,#image_div img", links, 200);
        },
        button: [4],
        insertImg: [".clearfix.arcmain,.content", 1],
        autoDownload: [0],
        next: "a.f-r.l3",
        prev: "a.f-l.l2",
        css: "body>a{display:none!important}",
        customTitle: () => fun.title("_", 1),
        category: "nsfw1"
    }, {
        name: "绅士猫",
        host: "www.cos6.net",
        reg: /www\.cos6\.net\/\d+\.html/,
        exclude: ".hidden-text.signin-loader,.hidden-text.pay-vip",
        imgs: ".wp-posts-content img[data-src]",
        button: [4],
        insertImg: [".bialty-container", 2],
        autoDownload: [0],
        next: ".article-nav>div:first-child>a[href$=html]",
        prev: ".article-nav>div:last-child>a[href$=html]",
        customTitle: () => fun.gt("h1.article-title"),
        fancybox: {
            blacklist: 1
        },
        category: "nsfw1"
    }, {
        name: "泡泡",
        host: "paopoi.com",
        reg: /^https?:\/\/paopoi\.com\/\d+\.html/,
        imgs: ".article-content img",
        button: [4],
        insertImg: [
            ["//p[img]", 2, "//p[img] | //div[@class='read-more']"], 2
        ],
        customTitle: () => fun.gt(".article-title"),
        css: "div[data-nav=posts][style]{max-height:unset!important}",
        category: "nsfw1"
    }, {
        name: "涩涩乐园",
        host: "sesew.top",
        reg: /^https?:\/\/sesew\.top\/\w+\.html/i,
        imgs: ".wp-posts-content img[data-src]",
        button: [4],
        insertImg: [".wp-posts-content", 2],
        autoDownload: [0],
        next: ".article-nav>div:first-child>a[href$=html]",
        prev: ".article-nav>div:last-child>a[href$=html]",
        customTitle: () => fun.gt("h1.article-title"),
        category: "nsfw1"
    }, {
        name: "扮之狐狸",
        host: "www.costhisfox.com",
        reg: () => /^https?:\/\/www\.costhisfox\.com\/\d+\/$/i.test(siteUrl) && fun.ge("//ul[@class='breadcrumb']//a[text()='cos福利美图']|//ul[@class='breadcrumb']//a[text()='写真系列']"),
        imgs: ".wp-posts-content img[data-src]",
        button: [4],
        insertImg: [".wp-posts-content", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt("h1.article-title").replace(/\d+P/i, "").trim(),
        fancybox: {
            blacklist: 1
        },
        css: "div[data-nav=posts][style]{max-height:unset!important}",
        category: "nsfw1"
    }, {
        name: "男人之家",
        host: "nanrenhome.cc",
        reg: () => /^https?:\/\/nanrenhome\.cc\/\d+\.html/.test(siteUrl) && fun.ge("//a[@rel='category tag'][text()='福利美图']"),
        imgs: () => {
            let pag = fun.ge(".article-paging a[href]");
            return pag ? fun.getImgA(".article-content img", ".article-paging a[href]") : [...fun.gae(".article-content img")];
        },
        button: [4],
        insertImg: [
            ["//article/p[img]", 2, "//article/p[img] | //div[@class='article-paging']"], 2
        ],
        customTitle: () => fun.gt(".article-title"),
        category: "nsfw1"
    }, {
        name: "网红跟我俩",
        host: "www.2wh.net",
        reg: () => /^https?:\/\/www\.2wh\.net\/\d+\.html$/.test(siteUrl) && fun.ge("//div[@class='breadcrumbs']/a[2][text()='美女写真机构']"),
        imgs: () => {
            let pag = fun.ge(".article-paging a[href]");
            return pag ? fun.getImgA(".article-content img", ".article-paging a[href]") : [...fun.gae(".article-content img")];
        },
        button: [4],
        insertImg: [".article-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: ".article-nav-next a",
        customTitle: () => fun.gt(".article-title").replace("无删减私房写真流出", "").replace(/\[\d+[\w\s\+-]+\]/, "").replace(/\(\d+[\w\s\+-]+\)/, ""),
        category: "nsfw1"
    }, {
        name: "网红跟我俩",
        reg: /^https?:\/\/www\.2wh\.net\/\d+\.html$/,
        imgs: ".article-content img",
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: ".article-nav-next a",
        customTitle: () => fun.gt(".article-title").replace("无删减私房写真流出", "").replace(/\[\d+[\w\s\+-]+\]/, ""),
        category: "nsfw1"
    }, {
        name: "RedBust",
        host: "redbust.com",
        reg: () => /redbust\.com\/[^\/]+\/$/.test(siteUrl) && fun.ge(".entry-inner img"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".entry-inner img")].map(e => e.src);
            //return fun.getImgA(".image-attachment img", ".gallery a");
            return [...fun.gae(".entry-inner img")].map(img => {
                let srcset = img.getAttribute("srcset");
                if (srcset) {
                    let splitArr = srcset.split(",");
                    splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                    return splitArr.at(-1).trim().split(" ")[0];
                } else {
                    return img.src.replace(/-\d+x\d+\./, ".");
                }
            });
        },
        button: [4],
        insertImg: [".entry-inner", 2],
        autoDownload: [0],
        next: ".previous>a",
        prev: ".next>a",
        customTitle: () => fun.gt("h1.post-title"),
        category: "nsfw2"
    }, {
        name: "妞妞之家",
        host: ["niuniuhome.club"],
        reg: /^https?:\/\/niuniuhome\.club\/[^\/]+\/$|^https?:\/\/niuniuhome\.club\/\?p=\d+$/,
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".post-content", 2],
        autoDownload: [0],
        next: "a.post-nav-prev",
        prev: "a.post-nav-next",
        customTitle: () => fun.gt(".post-title").replace(/\(\d+P\)/i, ""),
        css: ".post-inner{width:98%!important;max-width:98%!important;padding:0!important}",
        category: "nsfw1"
    }, {
        name: "妞妞之家 分類自動翻頁",
        enable: 1,
        reg: /^^https?:\/\/niuniuhome\.club\/(\?paged=\d+|\?cat=\d+)?$/,
        autoPager: {
            mode: 1,
            waitEle: "#posts[style]",
            ele: "#posts",
            next: "a.archive-nav-older.fleft",
            re: ".archive-nav",
            title: () => "Page " + nextLink.match(/\d+$/)[0],
            bottom: screen.height * 3,
            history: 1
        },
        openInNewTab: ".post-container a:not([target=_blank])",
        css: ".post-container{opacity:1 !important}",
        category: "autoPager"
    }, {
        name: "PixiBB",
        host: ["www.pixibb.com"],
        reg: /^https?:\/\/www\.pixibb\.com\/$|^https?:\/\/www\.pixibb\.com\/\?list=/,
        openInNewTab: ".list-item-image a",
        category: "none"
    }, {
        name: "PixiBB",
        host: ["www.pixibb.com"],
        reg: /^https?:\/\/www\.pixibb\.com\/album\//,
        imgs: async () => {
            await fun.getNP("#list-most-recent>.pad-content-listing", ".pagination-next>a");
            try {
                thumbnailsSrcArray = [...fun.gae(".list-item-image img")].map(e => e.src.replace(/(-\d+)-1(\.md\.\w+)$/i, "$1$2")).sort((a, b) => a.match(/-(\d+)\.md\./)[1] - b.match(/-(\d+)\.md\./)[1]);
            } catch (e) {
                thumbnailsSrcArray = [...fun.gae(".list-item-image img")].map(e => e.src).sort();
            }
            return thumbnailsSrcArray.map(e => e.replace(".md.", "."));
        },
        button: [4],
        insertImg: ["#list-most-recent", 2],
        topButton: true,
        customTitle: () => fun.title(" - PixiBB", 1),
        category: "nsfw1"
    }, {
        name: "Luscious",
        host: ["www.luscious.net", "luscious.net"],
        reg: /^https?:\/\/(www\.)?luscious\.net\/albums\//,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            const getApiUrl = ((id, page) => `https://apicdn.luscious.net/graphql/nobatch/?operationName=PictureListInsideAlbum&query=%20query%20PictureListInsideAlbum(%24input%3A%20PictureListInput!)%20%7B%20picture%20%7B%20list(input%3A%20%24input)%20%7B%20info%20%7B%20...FacetCollectionInfo%20%7D%20items%20%7B%20__typename%20id%20title%20description%20created%20like_status%20number_of_comments%20number_of_favorites%20moderation_status%20width%20height%20resolution%20aspect_ratio%20url_to_original%20url_to_video%20is_animated%20position%20permissions%20url%20tags%20%7B%20category%20text%20url%20%7D%20thumbnails%20%7B%20width%20height%20size%20url%20%7D%20%7D%20%7D%20%7D%20%7D%20fragment%20FacetCollectionInfo%20on%20FacetCollectionInfo%20%7B%20page%20has_next_page%20has_previous_page%20total_items%20total_pages%20items_per_page%20url_complete%20%7D%20&variables={"input":{"filters":[{"name":"album_id","value":"${id}"}],"display":"position","items_per_page":50,"page":${page}}}`);
            let id = parseInt(new URL(fun.ge("a[href*='/read/'],.album-heading a").href).pathname.split("/")[2].match(/\d+$/)[0], 10);
            let max = await fetch(getApiUrl(id, 1)).then(res => res.json()).then(json => json.data.picture.list.info.total_pages);
            let fetchNum = 0;
            let resArr = fun.arr(max).map((_, i) => {
                let url = getApiUrl(id, (i + 1));
                return fetch(url).then(res => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                    return res.json();
                }).then(json => json.data.picture.list.items.map(e => {
                    return e.url_to_video ? {
                        video: e.url_to_video
                    } : {
                        original: e.url_to_original,
                        thumbnail: e.thumbnails.at(-1).url
                    }
                }));
            });
            return Promise.all(resArr).then(data => {
                videosSrcArray = data.flat().filter(item => item.video).map(e => e.video);
                thumbnailsSrcArray = data.flat().filter(item => item.thumbnail).map(e => e.thumbnail);
                return data.flat().filter(item => item.original).map(e => e.original);
            });
        },
        button: [4],
        insertImg: ["article.o-padding-top-bottom,.picture-frame-wrapper", 3],
        downloadVideo: true,
        customTitle: () => fun.gt(".album-heading:not(.o-padding-sides),.album-heading.o-padding-sides a"),
        observerTitle: true,
        css: "body.o-modal-no-scroll{overflow:unset!important}#modal-root{display:none!important;}",
        category: "hcomic"
    }, {
        name: "E次元",
        host: ["www.evacg.org"],
        reg: () => /www\.evacg\.org\/archives\/\d+/.test(siteUrl) && fun.ge(".wp-caption img") && !fun.ge(".poi-alert__msg"),
        imgs: ".wp-caption img",
        button: [4],
        insertImg: [
            [".inn-singular__post__body__content", 0, ".wp-caption"], 2
        ],
        customTitle: () => fun.gt(".inn-singular__post__title"),
        category: "nsfw1"
    }, {
        name: "次元岛",
        host: ["ciyuandao.com"],
        reg: /^https?:\/\/ciyuandao\.com\/photo\/show\/\d+/,
        imgs: ".talk_pic  img",
        button: [4],
        insertImg: [".talk_pic", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw1"
    }, {
        name: "萌次元",
        host: ["www.mtutuu.com"],
        reg: /^https?:\/\/www\.mtutuu\.com\/\d+\.html/,
        exclude: ".content-cap",
        imgs: ".entry-content img",
        button: [4],
        insertImg: [
            ["//div[@class='entry-content']/p[img]", 2, "//div[@class='entry-content']/p[img]"], 2
        ],
        customTitle: () => fun.gt(".post-style-3-title"),
        category: "nsfw1"
    }, {
        name: "次元小镇",
        host: ["dimtown.com"],
        reg: /^https?:\/\/dimtown\.com\/\d+\.html/,
        exclude: ".down-login",
        imgs: "#content img",
        button: [4],
        insertImg: [
            ["//p[img]", 2, "//p[img]/img[@decoding] | //p[img]/img[@decoding]/following-sibling::br"], 2
        ],
        autoDownload: [0],
        next: ".post-pre a",
        prev: ".post-next a",
        customTitle: () => fun.gt("h1"),
        category: "nsfw1"
    }, {
        name: "3楼猫图库",
        host: ["pic.3loumao.org"],
        reg: /pic\.3loumao\.org\/[a-z-]+\/\d+\.html/i,
        imgs: "article img",
        button: [4],
        insertImg: ["//p[img]", 2],
        customTitle: () => fun.gt("h1"),
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        category: "nsfw1"
    }, {
        name: "Simply Porn",
        host: ["www.simply-porn.com"],
        reg: /www\.simply-porn\.com\/gallery\/[^\/]+$/,
        init: async () => await fun.waitEle(".full-gutters>div>a>img", 600),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".full-gutters>div>a>img")].map(e => e.dataset.src ?? e.src);
            return thumbnailsSrcArray.map(e => e.replace("thumb_", ""));
        },
        button: [4],
        insertImg: ["//div[@class='row full-gutters'][div[a[img]]]", 2],
        customTitle: () => fun.gt(".container>h1"),
        fetch: 1,
        category: "nsfw1"
    }, {
        name: "Simply Cosplay",
        host: ["www.simply-cosplay.com"],
        reg: /www\.simply-cosplay\.com\/gallery\//,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_04, 0);
            await fun.waitEle(".swipe-area img", 600);
            return [...fun.gae(".swiper-slide img")].map(e => e.dataset.src.replace("small_square_", ""));
        },
        button: [4],
        insertImg: ["//div[div[div[div[@class='image-wrapper']]]]", 2],
        customTitle: async () => {
            await fun.waitEle("h1.content-headline", 600);
            return fun.gt("h1.content-headline");
        },
        fetch: 1,
        css: ".gallery-view .row{display:block}",
        category: "nsfw1"
    }, {
        name: "Cosplay Porn",
        host: ["cosplayporn.online"],
        link: "https://cosplayporn.online/category/cosplay/",
        reg: () => /^https?:\/\/cosplayporn\.online\/\w+\/[^\/]+\/$/.test(siteUrl) && fun.ge(".video-description img") && !fun.ge(".responsive-player"),
        imgs: ".video-description img",
        button: [4],
        insertImg: [".video-description", 2],
        customTitle: () => fun.gt(".entry-title").replace(/\[\d+[\w\.\+\s-]+\]/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "Cosersets",
        host: ["www.cosersets.com"],
        link: "https://www.cosersets.com/1",
        reg: /^https?:\/\/www\.cosersets\.com/,
        init: async () => await fun.waitEle(".z-breadcrumbs"),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let body = {
                storageKey: "1",
                path: decodeURIComponent(window.location.pathname.replace(/^\/1/, "")),
                password: "",
                orderBy: "name",
                orderDirection: "asc"
            };
            let fetchJson = await fetch("/api/storage/files", {
                "headers": {
                    "accept": "application/json, text/plain, */*",
                    "content-type": "application/json;charset=UTF-8;"
                },
                "body": JSON.stringify(body),
                "method": "POST"
            }).then(res => res.json());
            return fetchJson.data.files.map(file => file.url);
        },
        repeat: 1,
        customTitle: () => fun.gt(".z-breadcrumbs").replace(/\n/g, " - ").replace(/首页 - |Cosersets - /, ""),
        observerTitle: true,
        category: "nsfw1"
    }, {
        name: "小丁 (Fantasy Factory) Patreon Cosplay Leaks",
        host: ["www.fantasyfactory.xyz"],
        reg: /^https?:\/\/www\.fantasyfactory\.xyz\//,
        init: async () => await fun.waitEle("#crumbbar"),
        imgs: ".item.file>a",
        repeat: 1,
        customTitle: () => fun.gt("#crumbbar").replace("www.fantasyfactory.xyz", "小丁 (Fantasy Factory)"),
        observerTitle: true,
        category: "nsfw1"
    }, {
        name: "COSPLAY ZIP",
        host: ["www.coszip.com", "coszip.com"],
        reg: /^https?:\/\/(www\.)?coszip\.com\/\d+\.html(\?noamp=mobile.*)?$/,
        imgs: () => {
            let max;
            try {
                max = fun.gt(".page-links>a:last-child").match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".entry-content img", max, 7);
        },
        button: [4],
        insertImg: [
            [".entry-content", 0, "//div[@class='page-links'] | //p[img[@decoding]] | //figure[contains(@class,'wp-block-gallery')] | //figure[@class='wp-block-image']"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "COSPLAY ZIP M",
        host: ["www.coszip.com", "coszip.com"],
        reg: /^https?:\/\/(www\.)?coszip\.com\/\d+\.html\?amp=1$/,
        imgs: ".amp-wp-article-content amp-img",
        button: [4],
        insertImg: [
            [".amp-wp-article-content", 0, "//p[amp-img] | //figure[@class='wp-block-image']"], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".amp-wp-title"),
        css: "pre{white-space:pre-wrap!important}",
        category: "nsfw2"
    }, {
        name: "女神社",
        host: ["nshens.com", "inewgirl.com"],
        reg: /(nshens\.com|inewgirl\.com)\/\d+\/\d+\/\d+\/[^/]+$/,
        exclude: ".justify-center>button>.v-btn__content",
        delay: 800,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let max = fun.gt(".v-pagination li:last-child", 2);
            let links = fun.arr(max).map((_, i) => siteUrl + "/" + (i + 1));
            let fetchNum = 0;
            let resArr = links.map((url, i, arr) => {
                return fun.fetchDoc(url).then(doc => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${arr.length}`, 0);
                    let code = fun.gst("photoList", doc);
                    return fun.run(code.match(/photoList:([^\]]+\])/)[1]);
                });
            });
            let photourl = await Promise.all(resArr).then(data => data.flat().map(e => e.photourl));
            if (photourl.length > [...new Set(photourl)].length) setTimeout(() => fun.showMsg("VIP套圖需升級為VIP", 5000), 1200);
            return photourl;
        },
        button: [4],
        insertImg: ["//div[a[div[@class='v-image v-responsive theme--light']]]", 2],
        customTitle: () => fun.gt("h3"),
        category: "nsfw2"
    }, {
        name: "女神社",
        host: ["nshens.com", "inewgirl.com", "lovens.cc"],
        reg: /(nshens\.com|inewgirl\.com)\/latestpost$/,
        delay: 500,
        observerClick: "//button[span[text()='加載更多'] or span[text()='加载更多'] or span[text()='Load More'] or span[text()='Tải thêm']]",
        category: "autoPager"
    }, {
        name: "Chottie", //很多都需要VIP，不然只會重複抓到第一頁的圖片
        host: ["chottie.com"],
        reg: /chottie\.com\/blog\/(\w{2}\/)?archives\/\d+$/,
        exclude: ".justify-center>button>.v-btn__content",
        delay: 800,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let max = fun.gt(".v-pagination li:last-child", 2);
            let links = fun.arr(max).map((_, i) => siteUrl + "/" + (i + 1));
            let fetchNum = 0;
            let resArr = links.map((url, i, arr) => {
                return fun.fetchDoc(url).then(doc => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${arr.length}`, 0);
                    let code, imgs;
                    try {
                        code = fun.gst("imgList", doc);
                        imgs = fun.run(code.match(/imgList:([^\]]+\])/)[1]);
                    } catch (e) {
                        code = fun.gst("snapshotList", doc);
                        imgs = fun.run(code.match(/snapshotList:([^\]]+\])/)[1]);
                    }
                    return imgs;
                });
            });
            let data = await Promise.all(resArr).then(data => data.flat());
            if (data.length > [...new Set(data)].length) setTimeout(() => fun.showMsg("VIP套圖需升級為VIP", 5000), 1200);
            return data;
        },
        button: [4],
        insertImg: ["//div[a[div[@class='v-image v-responsive theme--light']]]", 2],
        //css: ".text-center{display:none!important}",
        customTitle: () => fun.gt("h3"),
        category: "nsfw2"
    }, {
        name: "街角图片社",
        host: ["ijjiao.com"],
        reg: /^https?:\/\/ijjiao\.com\/\d+\/\d+\/\d+\/album/,
        exclude: "//span[text()='加载更多']",
        init: async () => await fun.waitEle(".v-pagination"),
        imgs: async () => {
            let max = fun.gt("//li[button[@aria-label='Next page']]", 2);
            let url = siteUrl.replace(/\/\d+$/, "");
            let links = fun.arr(max).map((_, i) => url + "/" + (i + 1));
            fun.showMsg(displayLanguage.str_07, 0);
            let check = await fun.fetchDoc(links[1]).then(doc => {
                let code = fun.gst("photoList", doc);
                let photoList = fun.run(code.match(/photoList:([^\]]+\])/)[1]);
                return photoList.length < 1 ? false : true;
            });
            if (check) {
                fun.showMsg(displayLanguage.str_05, 0);
                let fetchNum = 0;
                let resArr = links.map((url, i, arr) => {
                    return fun.fetchDoc(url).then(doc => {
                        fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${arr.length}`, 0);
                        let code = fun.gst("photoList", doc);
                        let photoList = fun.run(code.match(/photoList:([^\]]+\])/)[1]);
                        return photoList;
                    });
                });
                return Promise.all(resArr).then(data => data.flat().map(e => e.photourl));
            } else {
                alert("登錄狀態已失效！請手動點擊第2頁，觸發密碼輸入框重新登錄。");
                return [];
            }
        },
        button: [4],
        insertImg: ["//div[div[@class='image-item']]", 2],
        customTitle: () => fun.gt("h3"),
        category: "nsfw1"
    }, {
        name: "美妹妹",
        host: ["www.meimeimei.org"],
        reg: /www\.meimeimei\.org\/\d+\/\d+\/$|www\.meimeimei\.org\/\d+\/\d+\/\d+\.html/,
        imgs: () => {
            let max = fun.gt(".chapterpage>a:last-child", 2);
            let links = [];
            if (/\.html/.test(siteUrl)) {
                let url = fun.ge(".pageCurr").href.replace("_1.html", "");
                links = fun.arr(max).map((_, i) => url + "_" + (i + 1) + ".html");
            } else {
                let url = fun.ge(".pageCurr").href.replace("1.html", "");
                links = fun.arr(max).map((_, i) => url + (i + 1) + ".html");
            }
            return fun.getImgA(".img>img", links, 100);
        },
        button: [4],
        insertImg: [".txt_tcontent", 1],
        autoDownload: [0],
        next: "//div[contains(text(),'上一篇')]/a[not(@href='#')]",
        prev: "//div[contains(text(),'下一篇')]/a[not(@href='#')]",
        customTitle: () => fun.gt(".bread>li:last-child>a"),
        category: "nsfw1"
    }, {
        name: "tu928美女写真网",
        host: ["tu928.com"],
        reg: /^https?:\/\/tu928\.com\/\d+\.html/,
        imgs: () => fun.getImgA(".wp-block-image img", ".page-links>a", 300),
        button: [4],
        insertImg: [
            [".post-item-metadata", 1, ".wp-block-image"], 2
        ],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".entry-title"),
        css: "#af-preloader{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "图集网",
        host: ["aiavr.uk"],
        reg: /^https?:\/\/aiavr\.uk\/detail\?aid=\d+/,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            let total = await fetch(`/api/image/list?aid=${id}&pageNum=1`).then(res => res.json()).then(json => json.total);
            let pages = Math.ceil(total / 6);
            let links = fun.arr(pages).map((_, i) => `/api/image/list?aid=${id}&pageNum=${i+1}`);
            let resArr = links.map(url => fetch(url).then(res => res.json()).then(json => json.data));
            return Promise.all(resArr).then(data => data.flat()).then(arr => arr.map(e => e.sourceUrl == null ? e.sourceWeb + e.url : e.sourceWeb + e.sourceUrl));
        },
        button: [4],
        insertImg: [".q-infinite-scroll", 2],
        customTitle: () => {
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            return fetch(`https://admin.aiavr.uk/album/info?id=${id}`).then(res => res.json()).then(json => json.data.title);
        },
        category: "nsfw1"
    }, {
        name: "图集网",
        host: ["user.aiavr.uk"],
        reg: /^https?:\/\/user\.aiavr\.uk\/detail\?aid=\d+/,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            let total = await fetch(`https://admin.aiavr.uk/image/list?aid=${id}&pageNum=1`).then(res => res.json()).then(json => json.total);
            let pages = Math.ceil(total / 6);
            let links = fun.arr(pages).map((_, i) => `https://admin.aiavr.uk/image/list?aid=${id}&pageNum=${i+1}`);
            let resArr = links.map(url => fetch(url).then(res => res.json()).then(json => json.data));
            return Promise.all(resArr).then(data => data.flat()).then(arr => arr.map(e => e.sourceUrl == null ? e.sourceWeb + e.url : e.sourceWeb + e.sourceUrl));
        },
        button: [4],
        insertImg: [".q-infinite-scroll", 2],
        customTitle: () => {
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            return fetch(`https://admin.aiavr.uk/album/info?id=${id}`).then(res => res.json()).then(json => json.data.title);
        },
        category: "nsfw1"
    }, {
        name: "图集网",
        host: ["user.aiavr.uk"],
        reg: /^https?:\/\/user\.aiavr\.uk\/userAlbumDetail\?aid=\d+/,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            let vip = await fetch(`https://admin.aiavr.uk/userAlbum/getInfo/${id}`).then(res => res.json()).then(json => json.data.isSee);
            if (vip == false) {
                setTimeout(() => {
                    fun.showMsg("VIP限定專輯圖片!", 5000);
                }, 1200);
                return [];
            }
            let total = await fetch(`https://admin.aiavr.uk/userImage/list?aid=${id}&pageNum=1`).then(res => res.json()).then(json => json.total);
            let pages = Math.ceil(total / 6);
            let links = fun.arr(pages).map((_, i) => `https://admin.aiavr.uk/userImage/list?aid=${id}&pageNum=${i+1}`);
            let resArr = links.map(url => fetch(url).then(res => res.json()).then(json => json.data));
            return Promise.all(resArr).then(data => data.flat()).then(arr => arr.map(e => e.imgUrl == null ? null : "https://image.51x.uk/xinshijie" + e.imgUrl).filter(item => item));
        },
        button: [4],
        insertImg: [".q-infinite-scroll", 2],
        customTitle: () => {
            let id = fun.url.match(/\?aid=(\d+)/)[1];
            return fetch(`https://admin.aiavr.uk/userAlbum/getInfo/${id}`).then(res => res.json()).then(json => json.data.title);
        },
        category: "nsfw1"
    }, {
        name: "爱死美女图片站",
        host: ["www.24tupian.org"],
        reg: () => /^https?:\/\/www\.24tupian\.org\/\w+\/\d+\/\d+\/\d+\.html$/.test(siteUrl) && fun.ge("img[data-original*='imgs.diercun.com']"),
        imgs: async () => {
            let pid = fun.gt("#pid");
            let num = parseInt(fun.gt(".mores>a").match(/\d+/)[0], 10);
            let max = Math.ceil(num / 21);
            let html = "";
            let fetchNum = 0;
            for (let i = 0; i < num; i += 21) {
                fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                await fetch(`/ajaxs.aspx?fun=getmore&id=${pid}&p=${i}`).then(res => res.text()).then(text => html += text);
            }
            let dom = fun.doc(html);
            let datas = [...fun.gae("img[data]", dom)].map(e => e.getAttribute("data"));
            thumbnailsSrcArray = datas.map(data => "https://imgs.diercun.com" + data);
            return datas.map(data => "https://big.diercun.com" + getbig(data));
        },
        button: [4],
        insertImg: [
            [".mores", 2], 2
        ],
        go: 1,
        topButton: true,
        threading: 12,
        customTitle: () => fun.gt(".gtitle1>h1"),
        css: "body>.mask{display:none!important}",
        category: "nsfw1"
    }, {
        name: "爱死cos美女图片站",
        host: ["www.24cos.org", "www.lovecos.net"],
        reg: /(www\.24cos\.org|www\.lovecos\.net)\/\w+\/\d+\.html$/,
        imgs: async () => {
            let pages = [...fun.gae(".page>a")].map(a => a.href);
            let liImgs = [...fun.gae(".mtp>li")];
            if (pages.length > 0 && liImgs.length < 21) await fun.getEle(pages, ".mtp>li", [".mtp", 0]);
            thumbnailsSrcArray = [...fun.gae(".mtp img")].map(e => decodeURIComponent(e.src));
            return thumbnailsSrcArray.map(url => {
                let i = url.lastIndexOf("/");
                let murl = url.substring(i + 1);
                url = url.replace(murl, murl.substring(1));
                return url;
            });
        },
        button: [4],
        insertImg: [
            [".mtp", 2, ".mtp"], 2
        ],
        topButton: true,
        threading: 5,
        customTitle: () => fun.gt(".tmsg>h1"),
        css: ".tpmh img{filter:unset!important;}",
        category: "nsfw1"
    }, {
        name: "Huamao wallpaper 花猫壁纸",
        host: ["ja.huamaobizhi.com", "en.huamaobizhi.com"],
        reg: /^https?:\/\/[a-z]{2}\.huamaobizhi\.com\/mix\/\d+/,
        init: async () => {
            let load = fun.ge(".load-more-photos");
            if (load) load.remove();
            await fun.getNP(".images-card", "li.active+li>a", null, ".pagination");
            [...document.querySelectorAll(".thumb-nsfw")].forEach(e => e.classList.remove("thumb-nsfw"));
        },
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".images-card img")].map(e => e.dataset.src ?? e.src);
            fun.clearAllTimer(2);
            fun.showMsg(displayLanguage.str_05, 0);
            let fetchNum = 0;
            const resBlobUrl = (id) => {
                return fetch(`/normal-download/`, {
                    "headers": {
                        "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",
                        "content-type": "application/x-www-form-urlencoded"
                    },
                    "body": `wallpaperId=${id}`,
                    "method": "POST"
                }).then(res => res.blob()).then(blob => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${IDs.length}`, 0);
                    return URL.createObjectURL(blob);
                });
            };
            let IDs = [...fun.gae("span[data-imgid]")].map(e => e.dataset.imgid);
            let bigImgsArr = [];
            for (let i = 0; i < IDs.length; i++) {
                bigImgsArr.push(await resBlobUrl(IDs[i]));
                //await fun.delay(1500, 0);
            }
            return bigImgsArr;
        },
        button: [4],
        insertImg: [
            ["#main", 2], 0
        ],
        go: 1,
        customTitle: () => fun.gt(".title>h1"),
        fetch: 1,
        ex: "jpg",
        category: "nsfw1"
    }, {
        name: "Huamao wallpaper 花猫壁纸 en.huamaobizhi.com 分類自動翻頁",
        host: ["ja.huamaobizhi.com", "en.huamaobizhi.com"],
        enable: 1,
        reg: /^https?:\/\/[a-z]{2}\.huamaobizhi\.com\/(mixs|tags|artists|people-tags)\/\?/,
        autoPager: {
            ele: "//div[@class='row'][div[div[@class='mixs-card']]] | //div[@class='table-responsive table-sm-no-border'] | //div[div[div[@class='thumbnail']]] | //div[@class='tags-wrap']",
            next: ".pagination li.active+li>a",
            re: ".pagination",
            title: doc => "Page " + fun.ge(".pagination li.active", doc).innerText,
            bF: doc => {
                [...fun.gae(".mixs-card-img:not(.lock)", doc)].forEach(e => {
                    let url = e.attributes[1].value.replaceAll("'", "");
                    e.outerHTML = `<div class="mixs-card-img" data-src="${url}" lazy="loaded" style="background-image: url(&quot;${url}&quot;);"></div>`;
                });
                [...fun.gae(".thumbnail .img-circle[v-lazy]", doc)].forEach(e => {
                    let url = e.getAttribute("v-lazy").replaceAll("'", "");
                    e.outerHTML = `<img src="${url}" alt="${e.alt}" class="img-circle" data-src="${url}" lazy="loaded">`;
                });
                [...fun.gae(".tags-item img[v-lazy]", doc)].forEach(e => {
                    let url = e.getAttribute("v-lazy").replaceAll("'", "");
                    e.outerHTML = `<img src="${url}" alt="${e.alt}" data-src="${url}" lazy="loaded">`;
                });
            }
        },
        openInNewTab: ".mixs-card-content>a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "云边网盘",
        host: ["qinzhi.top"],
        reg: /^https?:\/\/qinzhi\.top\/[^\/]+\/[^\/]+\/.+/,
        init: async () => {
            await fun.waitEle("div.list");
            fun.createImgBox(".body");
        },
        imgs: () => fun.getAList(),
        repeat: 1,
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 3],
        go: 1,
        observerTitle: true,
        downloadVideo: true,
        customTitle: () => fun.title(" | 云边网盘").replace(/\s?\d+p\s?|\[\d+[\w\s\.\+-]+\]/i, ""),
        category: "nsfw1"
    }, {
        name: "新美图录/臺灣美腿女郎",
        host: ["www.xinmeitulu.com", "www.twlegs.com"],
        reg: /(www\.xinmeitulu\.com|www\.twlegs\.com)\/photo\/.+/,
        imgs: "img[data-original]",
        button: [4],
        insertImg: [".text-center", 2],
        customTitle: () => fun.gt("h1.h3"),
        category: "nsfw1"
    }, {
        name: "美图录",
        host: ["meitulu.me"],
        reg: /meitulu\.me\/item\/\d+\.html/,
        imgs: () => fun.getImg(".mb-4>img[alt]", fun.gt(".pagination>li:last-child", 2), 9),
        button: [4],
        insertImg: [".mb-4", 1],
        customTitle: () => fun.gt(".top-title"),
        category: "nsfw1"
    }, {
        name: "爱图集谷",
        host: ["www.tujigu.top"],
        reg: /^https?:\/\/www\.tujigu\.top\/photo\//,
        imgs: ".entry-body img",
        button: [4],
        insertImg: [".entry-body", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "jk-coser",
        host: ["www.jk-coser.com"],
        reg: /www.\jk-coser\.com\/m\d\/\d+\.html/,
        imgs: ".image_div img",
        button: [4],
        insertImg: [".image_div", 2],
        autoDownload: [0],
        next: ".article-nav-prev a,.nav-links .next",
        prev: 1,
        customTitle: () => fun.gt(".item_title>h1").replace(/\/?\(\d+P\)/i, "").trim(),
        css: ".content_left img{cursor:unset!important;}",
        category: "nsfw1"
    }, {
        name: "秀窝/RMM吧/赞MM/恩图集/美Girl图集/狐图网/930圖片網/爱秀美女/四魔写真/JN美眉网",
        host: ["www.xiuwo.net", "rmm8.com", "www.zanmm.com", "www.entuji.com", "www.mhgirl.com", "www.hutu6.com", "www.930tu.com", "www.930tp.com", "wap.kunv.cc", "www.smkwan.com", "www.jnmmw.com"],
        reg: [
            /(www\.xiuwo\.net|rmm8\.com|www\.mhgirl\.com|wap\.kunv\.cc)\/tu([\w]+)?\/\d+\.html/,
            /www\.zanmm\.com\/tupian\/\d+\.html/,
            /(www\.entuji\.com|www\.hutu6\.com)\/\w+\/\d+\.html/,
            /www\.930t(u|p)\.com\/\w+\/\d+\.html/,
            /www\.smkwan\.com\/mm\/\d+\.html/,
            /www\.jnmmw\.com\/meimei\/\d+\.html/
        ],
        init: () => fun.clearAllTimer(),
        imgs: () => fun.getImgO("#showimg img", fun.gt("//p[contains(text(),'图片数量')]").match(/\d+/)[0], 9),
        button: [4],
        insertImg: ["#showimg", 2],
        customTitle: () => fun.gt(".weizhi h1"),
        css: "@media only screen and (max-width:3840px){.content img{max-width:100%!important}}",
        category: "nsfw1"
    }, {
        name: "妹妹图",
        host: ["mm.tvv.tw"],
        reg: /mm\.tvv\.tw\/archives\/\d+\.html/,
        imgs: ".img-responsive",
        button: [4],
        insertImg: ["//p[img]", 2],
        customTitle: () => fun.gt(".blog-details-headline"),
        category: "nsfw1"
    }, {
        name: "小姐姐",
        host: ["www.nvsheng.cc"],
        reg: /nvsheng\.cc\/\w+\/\d+\.html/,
        imgs: () => fun.getImg(".info-imtg-box>img[alt]", fun.gt(".pagebar>*:last-child", 3)),
        button: [4],
        insertImg: [".info-imtg-box", 1],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.title("-", 1),
        //threading: 4,
        category: "nsfw1"
    }, {
        name: "小姐姐么",
        host: ["xiaojiejie.me"],
        reg: /^https?:\/\/xiaojiejie\.me\/\d+\/[^\/]+\/$/,
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            return fetch("/wp-admin/admin-ajax.php", {
                "headers": {
                    "accept": "*/*",
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `action=chenxing_imageall&type=all&post_id=${chenxing.PID}`,
                "method": "POST",
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images]);
        },
        button: [4],
        insertImg: ["#content", 2],
        insertImgAF: () => fun.run("$(document).off()"),
        customTitle: () => fun.title(" – 小姐姐").replace(/\[\d+[\s\.\+\w-]+\]/gi, "").replace(/\s?\d+p(\d+V)?/i, "").replace(/[\d\.\s]+(GB|MB)/i, "").replace(/（\d+月\d+打赏群(自购)?资源）/, "").trim(),
        category: "nsfw1"
    }, {
        name: "图片吧/14MM图片网",
        host: ["www.tp8.org", "www.14mm.net", "www.14mm.cn"],
        reg: /^https:\/\/(www\.tp8\.org|www\.14mm\.\w+)\/\d+\.html$/,
        exclude: "//a[@rel='category tag'][text()='演出视频']",
        imgs: async () => {
            let max = fun.gt("a[title='最后页']");
            return fun.getImg("#image_div img", max, 9, [/\?x-oss-process.+$/, ""]);
            //return fun.getImg("#image_div img", max, 9);
        },
        button: [4],
        insertImg: ["#content", 2],
        insertImgAF: () => fun.run("$(document).off()"),
        customTitle: () => fun.title(" – 14MM图片网"),
        category: "nsfw1"
    }, {
        name: "Coser Lab",
        host: ["coserlab.io"],
        reg: /^https?:\/\/coserlab\.io\/archives\/\d+$/,
        exclude: ".card-body .error-empty",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a.masonry-image img")].map(e => e.src);
            fun.showMsg("fun.xhrHEA(check)...", 0);
            let xhrNum = 0;
            return [...fun.gae("a.masonry-image")].map(a => a.href.replace("-scaled", "")).map(async (src, i, arr) => {
                await fun.delay(100 * i, 0);
                let res = await fun.xhrHEAD(src);
                fun.showMsg(`fun.xhrHEAD(${xhrNum+=1}/${arr.length})`, 0);
                let status = res.status;
                return status == 404 ? src.replace(/(\.[a-z]+)$/i, "-scaled$1") : src;
            });
        },
        button: [4],
        insertImg: [
            [".masonry-list", 2, ".masonry-list"], 2
        ],
        customTitle: () => fun.gt("span.current"),
        category: "nsfw1"
    }, {
        name: "孔雀海/洛丽网/ladymao图库/懒人看图",
        host: ["www.kongquehai.net", "www.lolili.net", "www.ladymao.net", "www.lazymanpic.net"],
        reg: [
            /^https?:\/\/((www\.)?kongquehai\.net|(www\.)?lolili\.net)\/\w+\/\w+\/\w+\.html(\?btwaf=\d+)?$/i,
            /^https?:\/\/(www\.)?ladymao\.net\/[a-z]{2,3}\/\w+(\?btwaf=\d+)?$/,
            /^https?:\/\/(www\.)?lazymanpic\.net\/[a-z]{2,3}\/\w+(\?btwaf=\d+)?$/
        ],
        imgs: async () => {
            await fun.getNP(".m-list-content img", "//a[text()='下一页'][@class='next']", null, ".link_pages");
            return [...fun.gae(".m-list-content img")];
        },
        button: [4],
        insertImg: [".m-list-content", 2],
        autoDownload: [0],
        next: ".sxpage_r>a",
        prev: ".sxpage_l>a",
        customTitle: () => fun.gt(".m-list-tools>h2").replace(/\(\d\)/, "").replace(/\[\d+[\s\.\+\w-\/]+\].*/, "").replace(/全网首发|免费下载|无损图包下载|未删减版|无删减图包/g, ""),
        category: "nsfw1"
    }, {
        name: "尤物秀",
        host: ["www.youwushow.net"],
        reg: /^https?:\/\/(www\.)?youwushow\.net\/pic\/\w+\.html(\?btwaf=\d+)?$/,
        imgs: async () => {
            await fun.getNP(".entry-content>*:not(.page-links)", "span.current+a", null, ".page-links");
            return [...fun.gae(".entry-content img")];
        },
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "a.prev-link",
        prev: "a.next-link",
        customTitle: () => fun.gt(".entry-title").replace(/\(\d\)/, "").replace(/\[\d+[\s\.\+\w-\/]+\].*/, "").replace(/全网首发|免费下载|无损图包下载|未删减版|无删减图包/g, ""),
        category: "nsfw1"
    }, {
        name: "iLegs时光印象网",
        host: ["legskr.com"],
        reg: /^https?:\/\/legskr\.com\/album\/detail\/\d+\.html$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#lightgallery .img-fluid[data-src]")].map(e => e.dataset.src ?? e.src);
            return [...fun.gae("#lightgallery div.col-6[data-src]")];
        },
        button: [4],
        insertImg: ["#lightgallery", 2],
        customTitle: () => fun.gt(".title").replace("Album name：", "").replace(/\[\d+[\s\.\+\w-\/]+\]/, "").trim(),
        category: "nsfw1"
    }, {
        name: "比思在線圖庫",
        host: ["bisipic.xyz", "bisipic.online"],
        reg: /^https?:\/\/bisipic\.(xyz|online)\/thread[\d-]+\.html$/,
        imgs: () => [...fun.gae("img[zoomfile]")].map(e => location.origin + "/" + e.getAttribute("zoomfile")),
        button: [4],
        insertImg: ["[id^=postmessage]", 2],
        customTitle: () => fun.ge("meta[name=keywords]").content.replace(/【\d+P】.*/i, ""),
        category: "nsfw1"
    }, {
        name: "洛秀网/维秘秀",
        host: ["www.loxiu.com", "www.counv.com"],
        reg: /^https?:\/\/((www\.)?loxiu\.com|(www\.)?counv\.com)\/post\/\d+\.html/,
        imgs: () => fun.getImg(".info-imtg-box>img[alt]", fun.gt(".pagebar>*:last-child", 3)),
        button: [4],
        insertImg: [".info-imtg-box", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt(".info-title>h1").replace(/\[\d+p\]/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "遛无写真/推妹妹美图/无圣光/有脾气美图/KP写真/美女云图网/tck天天番号/4tck番号库/5pwc番号库/5tck天天番号/6K美女/6vtr宅男社区/7tck番号网/1凸5宅男福利/有脾气美图/极品番号社/过热E宅男天堂/杰瑞宅男频道/宅男番号库/PXA番号库/54k5宅男必备/0niz宅男频道/7k1a番号库/男人沉默宅男在线/7c0a宅男福利网站",
        host: ["www.6evu.com", "www.6kpo.com", "www.6vtr.com", "www.tmm123.vip", "www.wushengguang.biz", "www.1plq.com", "www.c0h.net", "www.3tck.com", "www.3pxa.com", "www.4tck.com", "www.5pwc.com", "www.5tck.com", "www.6tck.com", "www.7tck.com", "www.7c0a.com", "www.1tu5.com", "www.wsqap.com", "www.gr2e.com", "www.joerei.com", "www.game1313.net", "www.54k5.com", "www.0niz.com", "www.7k1a.com", "www.1nlm.com"],
        reg: /^https?:\/\/www\.(6evu|6kpo|6vtr|c0h|\dtck|3pxa|5pwc|7c0a|1tu5|wsqap|gr2e|joerei|game1313|54k5|0niz|7k1a|1nlm|1plq|tmm123|wushengguang)\.(com|net|vip|biz)\/\d+\.html/,
        include: "#post_content img,.article-content img,.entry-content img",
        exclude: "//a[@rel='category tag'][contains(text(),'人物简历') or contains(text(),'宅男科技') or contains(text(),'时尚玩酷') or contains(text(),'身边事') or contains(text(),'追星一族') or contains(text(),'网红头条') or contains(text(),'大众娱乐') or contains(text(),'生活热点') or contains(text(),'影评剧透') or contains(text(),'娱乐时尚') or contains(text(),'吃喝玩乐') or contains(text(),'体育') or contains(text(),'亲子宠物') or contains(text(),'番号大全') or contains(text(),'番号推荐') or contains(text(),'最新番号') or contains(text(),'素人番号')]",
        imgs: () => fun.getImgA("#post_content img,.article-content img,.entry-content img", ".pagelist a,.pagination a,.article-paging a"),
        button: [4],
        insertImg: ["#post_content,.article-content,.entry-content", 2],
        autoDownload: [0],
        next: "a[rel=prev],.article-nav-prev a",
        prev: "a[rel=next],.article-nav-next a",
        customTitle: () => fun.gt("h1").replace(/\(\d+P\)/i, "").replace(/无圣光写真福利套图|高品质写真作品收藏合集|超高清绝版网图流出|无圣光私房写真个人分享|无水印私房写真流出|无删减写真作品良心推荐|无删减写真大图流出|无圣光壁纸图片良心推荐|无圣光绝版网图传疯了|无水印私房照片收藏合集|高品质壁纸图片传疯了|高品质壁纸图片珍藏版|无圣光壁纸图片免费在线|无圣光私房写真良心推荐|超高清私家拍摄作品珍藏版|超高清私房照片在线浏览|无圣光写真作品流出|无水印壁纸图片良心推荐|无水印绝版网图在线浏览|无水印私房照片珍藏版|无水印私房照片个人分享/g, "").trim(),
        css: ".article_container{padding:10px 0px!important}#post_content{padding:0px!important}@media only screen and (max-width:640px){.container{max-width:100% !important}}",
        category: "nsfw1"
    }, {
        name: "出物社区写真网",
        host: ["www.ywsq.cc"],
        reg: /^https?:\/\/www\.ywsq\.cc\/[^\/]+\/[^.]+\.html$/,
        imgs: () => fun.getImgA("#post_content img", ".pagelist a"),
        button: [4],
        insertImg: ["#post_content", 2],
        autoDownload: [0],
        next: ".post-previous a",
        prev: ".post-next a",
        customTitle: () => fun.gt(".article_container>h1").replace(/\(\d+P\)|\d+P$/i, "").trim(),
        css: ".article_container{padding:10px 0px!important}#post_content{padding:0px!important}@media only screen and (max-width:640px){.container{max-width:100% !important}}",
        category: "nsfw1"
    }, {
        name: "原创妹子图/尤物私房图/极品美女图/免费私房图/私房网红图/尤物妹妹图",
        host: ["www.ycmzt.com", "www.ywsft.com", "www.jpmnt.com", "www.mfsft.com", "www.sfwht.com", "www.ywmmt.com"],
        reg: /www\.(ywmmt|mnwht|ycmeinv|yhsft|yhmnt|mfsft|jpsft|akxzt|flwht|threnti|ywnmt|ztmeinv|mstaotu|tstaotu|ywmtw|mgtaotu|prmzt|xrtaotu|jjtaotu|prmeinv|axtaotu|mgmeinv|xsmeinv|ugtaotu|msmeinv|flxzw|axmeinv|swtaotu|hjtaotu|nsxzw|ugmeinv|hytaotu|xrmeinv|zfmeinv|jpmnt|zttaotu|mfmzt|ykmeinv|qjtaotu|pmtaotu|ddtaotu|plxzw|mfxzt|mtgqt|fltuku|yhtuku|ycmeitu|mttuku|xhtuku|qjtuku|jpflt|ycwht|yctuk|akywt|ywtuk|jctuk|xstuk|xgtuk|mztuk|xztuk|sytuk|gcxzt|tsxzt|gqxzt|mfnmt|spxzt|yhxzt|mtxzt|nsxzt|jdxzt|spmeitu|jpmzw|yhmeitu|mzmeitu|qpmzt|flsft|ywsft|wkmzt|snmzt|thmzt|brtaotu|aimzt|qtmzt|mtmnt|jrmzt|yztaotu|jrmeinv|xsmzt|zbtaotu|yhmnw|zbmzt|xjjtaotu|jpnst|ywmeitu|jrmnt|ftmeinv|xjjmzt|smtaotu|mtywt|sfsnt|jdtaotu|xgyouwu|ywmzt|xgywt|mtflt|nmtaotu|mtmnw|flmeitu|gqtaot|plmeitu|zpmzt|mtmzt|mtwht|sfwht|gqsft|yhmeinv|jdmnt|yctaotu|wkrenti|yzrenti|mtsyt|sptaotu|mttaotu|wsgtu|ywtaotu|sfmzt|sftaotu|gcmeinv|nstaotu|xhtaotu|jdwht|mtmeinv|gqwht|jpywt|jcwht|tptaotu|spyouwu|xgmeitu|nsmeitu|jstaotu|yhtaotu|sytaotu|nsxiez|swmzt|jpmzt|yhflt|sfywt|ywxzt|plmzt|sfmtw|jpyouwu|sfxzt|zftaotu|ycmzt|whtaotu|jpxzt|sftuku|plwht|symzt|sfmnt|sfnmt|jcmeinv|tsmnt|jjmeinv|wsgmzt|gqnmt)\.com\/[a-z]+\/[a-z]+\/\d+\/\d+\.html$/,
        include: "#picg",
        init: () => {
            [...fun.gae(".b a")].forEach(a => a.removeAttribute("target"));
            [...fun.gae("#picg a")].forEach(a => a.outerHTML = a.innerHTML);
            fun.remove("iframe", 2000);
        },
        imgs: async () => {
            let max = fun.gt(".pagelist font~*:last-child", 2);
            let links = [siteUrl.replace(/(_\d+)?\.html$/, "") + ".html"];
            let imgsArr = [];
            for (let i = 2; i <= max; i++) {
                links.push(siteUrl.replace(/(_\d+)?\.html$/, "") + `_${i}.html`);
            }
            for (let i = 0; i < links.length; i++) {
                let doc = await new Promise(async resolve => {
                    for (let check = 1; check <= 100; check++) {
                        let res = await fetch(links[i]);
                        if (res.status == 304 || res.status == 200) {
                            let buffer = await res.arrayBuffer();
                            let decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                            let htmlText = decoder.decode(buffer);
                            let doc = fun.doc(htmlText);
                            resolve(doc);
                            break;
                        } else {
                            fun.showMsg(`第${parseInt(i, 10) + 1}頁${res.status}重試第${check}次`, 2900);
                            await fun.delay(3000, 0);
                        }
                    }
                });
                let imgs = [...fun.gae("#picg img[alt]", doc)];
                let te = [...fun.gae("#picg img[alt]")].at(-1);
                imgs.forEach(e => {
                    imgsArr.push(e.cloneNode(true));
                    if (i != 0) te.parentNode.insertBefore(e.cloneNode(true), te.nextSibling);
                });
                if (i != 0) {
                    let ne = [...fun.gae("h1,.page .pagelist")];
                    let re = [...fun.gae("h1,.page .pagelist", doc)];
                    if (ne.length == re.length) {
                        for (let i in ne) {
                            ne[i].outerHTML = re[i].outerHTML;
                        }
                    }
                }
                await fun.delay(200, 0);
            }
            return imgsArr;
        },
        button: [4],
        insertImg: ["#picg", 2],
        autoDownload: [0],
        next: "//div[@class='b' and contains(text(),'上一')]/a",
        prev: "//div[@class='b' and contains(text(),'下一')]/a",
        customTitle: () => fun.gt("h1").replace(/\s?\[\d+[\.\+\s\w-]+\]|\(\d+[\.\+\s\w-]+\)|\/?(\d+P)?|\|/gi, "").replace(/第\d+页|^- /g, "").trim(),
        topButton: true,
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        css: "#imgc img{margin:0px auto!important}#picg{max-width: 1110px!important;margin: 0 auto;}#picg img:hover{transform:none !important}#picg img{filter:blur(0px)!important}body>br,#apic,#bzs7,.interestline+center,center+#pic,#d4a,#divone,#xzpap1,#divpsgx,#bdivpx,#divfts,#divftsp,#app+div,#xzappsq,div.bg-text,#divpsg,#divStayTopright2,#bdssy,#qrcode2>.erweima-text,#qrcode2>center,#qrcode2>center+div,#d5tig,#pcapicb,#google_translate_element,#d5a>*:not([id]):not([class]),.slide>a+div,.slide>img+div,#xtjpp,.interestline+.nav~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none !important}",
        category: "nsfw2"
    }, {
        name: "魅狸图片网/美女私房照/看妹图",
        host: ["www.rosi8.com", "www.rosi8.net", "www.sfjpg.com", "www.kanmeitu.net", "www.kanmeitu1.cc", "www.kanmeitu1.com", "kanmeitu.net", "kanmeitu1.cc", "kanmeitu1.com"],
        reg: /(www\.rosi\d\.(com|net)|www\.sfjpg\.\w+|kanmeitu\d?\.\w+)\/\w+\/\d+\.html$/,
        include: "#picg img",
        init: () => {
            [...fun.gae(".b a")].forEach(a => a.removeAttribute("target"));
            [...fun.gae("#picg a")].forEach(a => a.outerHTML = a.innerHTML);
        },
        imgs: () => {
            let max = fun.gt(".pagelist span,.pagelist a[title=Page]").match(/\/(\d+)/)[1];
            return fun.getImgO("#picg img", max, 9, null, 200, ".page .pagelist", siteUrl, 0);
        },
        button: [4],
        insertImg: ["#picg", 2],
        autoDownload: [0],
        next: "//div[@class='b' and contains(text(),'上一')]/a",
        prev: "//div[@class='b' and contains(text(),'下一')]/a",
        customTitle: () => fun.gt("h1").replace(/\/(\d+P)?/i, ""),
        topButton: true,
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        css: "#imgc img{margin:0px auto!important}#picg{max-width: 1110px!important;margin: 0 auto;}#picg img:hover{transform:none !important}#picg img{filter:blur(0px)!important}body>br,.interestline+center,center+#pic,#xzpap1,#divpsgx,#bdivpx,#divfts,#divftsp,#app+div,#xzappsq,div.bg-text,#divpsg,#divStayTopright2,#bdssy,#qrcode2>center,#d5tig,#pcapicb,#pcapic,#google_translate_element,#d5a>*:not([id]):not([class]),union[id]{display:none !important}",
        category: "nsfw2"
    }, {
        name: "六色美图",
        host: ["www.06se.com"],
        reg: /^https?:\/\/www\.06se\.com\/\d+\.html/,
        imgs: ".article-content img",
        button: [4],
        insertImg: [
            [".wp-posts-content", 2, ".wp-posts-content"], 2
        ],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt(".article-title").replace(/\[\d([／\+\.\w]+)?\]\s?|【\d+P】/i, ""),
        css: ".modal-open{overflow:unset!important;}#modal-system-notice,.container.fluid-widget,#zibpay_modal,#mini-imgbox,.modal-backdrop{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "女神部落",
        host: ["girlsteam.club"],
        reg: () => /^https?:\/\/girlsteam\.club\//.test(siteUrl) && fun.ge("#content img") && fun.ge(".item_title>h1"),
        imgs: "#content img",
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.gt(".item_title>h1"),
        category: "nsfw1"
    }, {
        name: "丝袜客",
        host: ["siwake.cc"],
        reg: /^https?:\/\/siwake\.cc\/post\//,
        imgs: ".Content>a",
        button: [4],
        insertImg: [".Content", 2],
        autoDownload: [0],
        next: "a.fas",
        prev: "a.next.fas",
        customTitle: () => fun.gt(".title"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}@media only screen and (max-width:480px){#wrapper  .single{padding:0!important}}",
        category: "nsfw1"
    }, {
        name: "丝袜客 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/siwake\.cc\//,
        autoPager: {
            ele: "#main.gallery",
            observer: "#main.gallery>.thumb",
            next: "a.next.fas",
            re: ".pagelist",
            history: 1
        },
        openInNewTab: "#main.gallery a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "柔丝映画",
        host: ["www.mfpho.com"],
        reg: /^https?:\/\/www\.mfpho\.com\/\d+\.html$/i,
        imgs: () => fun.getImgA(".single-content img", ".page-links a"),
        button: [4],
        insertImg: [".single-content", 2],
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "爱妹子",
        host: ["xx.knit.bid", "mm.187187.xyz", "999888.best"],
        reg: /^https?:\/\/(xx\.knit\.bid|mm\.187187\.xyz|999888\.best)\/([\w-]+\/)?article\/\d+\//i,
        init: () => fun.clearAllTimer(2),
        imgs: async () => {
            await fun.getNP(".item-image", ".next-page>a", null, ".pagination");
            return [...fun.gae(".item-image img,#img-box img")];
        },
        button: [4],
        insertImg: [
            [".item-image", 2, ".item-image"], 2
        ],
        customTitle: () => fun.gt(".focusbox-title").replace(/\[\d+P\]/i, "").replace(/\d+P/i, "").trim(),
        css: "a{white-space:unset!important}",
        category: "nsfw1"
    }, {
        name: "爱妹子 反反廣告提示",
        host: ["xx.knit.bid"],
        reg: /(xx\.knit\.bid|mm\.187187\.xyz|999888\.best)\//,
        init: () => fun.clearAllTimer(2),
        openInNewTab: ".excerpts-wrapper a:not([target=_blank])",
        category: "ad"
    }, {
        name: "美女写真",
        host: ["portrait.knit.bid"],
        reg: () => /portrait\.knit\.bid\/\w+\/\d+$/.test(siteUrl) && fun.ge(".container>.container>img"),
        imgs: async () => {
            let max = fun.gt("//li[a[text()='下页']]", 2);
            let links = fun.arr(max).map((_, i) => siteUrl + "?page=" + (i + 1));
            return fun.getImgA(".container>.container>img", links, 300);
        },
        button: [4],
        insertImg: [
            [".container>.container>nav", 2, "nav[aria-label=pagination],.img-fluid"], 2
        ],
        customTitle: () => fun.gt(".container h1"),
        category: "nsfw1"
    }, {
        name: "美图网",
        host: ["meitu.knit.bid"],
        reg: () => /^https?:\/\/meitu\.knit\.bid\/(beauty|handsome)\/[^\/]+$/.test(siteUrl) && fun.ge(".details_item>img"),
        imgs: async () => {
            let max = [...document.querySelectorAll("a[href*=gotoPage]")].at(-2).href.match(/\d+/)[0];
            let links = fun.arr(max).map((_, i) => siteUrl + "?page=" + (i + 1));
            return fun.getImgA(".details_item>img", links, 300);
        },
        button: [4],
        insertImg: [".details_item", 2],
        customTitle: () => fun.gt(".text-center>h1").replace("|", "-"),
        category: "nsfw1"
    }, {
        name: "美图网",
        host: ["meitu.knit.bid"],
        reg: /^https?:\/\/meitu\.knit\.bid\/(news|street)\/\d+$/,
        imgs: ".news-body img",
        customTitle: () => fun.gt(".text-center>h1").replace("|", "-"),
        category: "nsfw1"
    }, {
        name: "萌图社",
        host: ["www.446m.com", "446m.com"],
        reg: () => /^https?:\/\/(www\.)?446m\.com\/index\.php\/\w+\/\d+\.html/.test(siteUrl) && fun.ge(".post-content"),
        imgs: "span.post-item",
        button: [4],
        insertImg: [".post-content", 2],
        customTitle: () => document.title.slice(0, -6),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "日式JK",
        host: ["www.jk.rs"],
        reg: /^https?:\/\/www\.jk\.rs\/\d+\/\d+\/\d+\/\d+\.html/,
        imgs: "div[data-fancybox]",
        button: [4],
        insertImg: ["#masonry", 2],
        customTitle: () => fun.title(" - 日式JK"),
        fancybox: {
            v: 3,
            css: false
        },
        css: "#masonry{position:unset!important;height:unset!important}",
        category: "nsfw1"
    }, {
        name: "妹妹美",
        host: ["mmm.red"],
        reg: /(www\.)?mmm\.red\/art\/\d+$/,
        exclude: ".login-tip",
        imgs: "div[data-fancybox][data-src]",
        autoDownload: [0],
        next: "//div[text()='上一篇']/following-sibling::a",
        prev: "//div[text()='下一篇']/following-sibling::a",
        customTitle: () => fun.gt(".post-info-text"),
        category: "nsfw1"
    }, {
        name: "胴体的诱惑",
        host: ["dongti.blog.2nt.com"],
        reg: /dongti\.blog\.2nt\.com\/blog-entry-\d+.html/,
        imgs: ".inner-contents img",
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "//a[div[@class='pager_entry-box next-justify']]",
        prev: "//a[div[@class='pager_entry-image-prev']]",
        customTitle: () => fun.gt("#entry-title").replace(/\[\d+[-\s\.\+\w]+\]/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "好圖屋",
        host: ["www.haotuwu.com", "m.haotuwu.com"],
        reg: () => /(www|m)\.haotuwu\.com\/\w+\/\d+(\/page\/\d+)?(\.html)?$/.test(siteUrl) && fun.ge(".suoyou"),
        init: () => {
            let url = location.href;
            if (/\/page\/\d+/.test(url)) location.href = location.href.replace(/\/page\/\d+/, "");
            let a = fun.ge("#showimg a:has(img),.img-box a:has(img)");
            if (a) a.outerHTML = a.innerHTML;
        },
        imgs: () => {
            let links = [siteUrl];
            let url = siteUrl.replace(".html", "");
            let max = fun.gt(".suoyou").match(/\d+\/(\d+)/)[1];
            for (let i = 2; i <= max; i++) {
                links.push(url + "/page/" + i + ".html");
            }
            return fun.getImgA("#showimg img,.img-box img", links, 2);
        },
        button: [4],
        insertImg: ["#showimg,.img-box", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'上一篇')]/a | //span[contains(text(),'上一篇')]/following-sibling::a[1]",
        prev: "//div[contains(text(),'下一篇')]/a | //span[contains(text(),'下一篇')]/following-sibling::a[1]",
        customTitle: () => fun.gt(".showtitle>h2,.imgTitle-name"),
        css: "#imgshow .flow-box:nth-child(n+1):nth-child(-n+2){display:none!important}",
        category: "nsfw1"
    }, {
        name: "秀色女神",
        host: ["www.xsnvshen.co"],
        reg: /www\.xsnvshen\.(co|com)\/album\/\d+/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img[id^='imglist'][data-original]")].map(e => e.dataset.original);
            return [...fun.gae("img[id^='imglist'][data-original]")].map(e => e.dataset.original.replace("thumb_600x900/", ""));
        },
        button: [4],
        insertImg: ["//li[img[@id='bigImg']]", 2],
        customTitle: () => fun.gt("h1"),
        css: ".workShow li img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "秀色女神M",
        host: ["m.xsnvshen.co"],
        reg: /m\.xsnvshen\.(co|com)\/album\/\d+/,
        imgs: async () => {
            let max = fun.gt(".pg_current").match(/\d+$/)[0];
            thumbnailsSrcArray = await fun.getImg("#arcbox img.lazy", max, 6);
            return thumbnailsSrcArray.map(e => e.replace("thumb_600x900/", ""));
        },
        button: [4],
        insertImg: [
            ["#arcbox", 0, "//div[@id='arcbox']/p[img]"], 2
        ],
        customTitle: () => fun.gt("h1>a"),
        css: "#arcbox img{max-width:100%!important;margin:0px!important;min-height:50px!important;min-width:50px!important}",
        category: "nsfw1"
    }, {
        name: "秀色女神news",
        host: ["www.xsnvshen.co", "m.xsnvshen.co"],
        reg: /^https?:\/\/(www|m)\.xsnvshen\.co\/news\/\d+/,
        imgs: "#arcbox img",
        button: [4],
        insertImg: [
            ["#arcbox>*:first-child", 1, "//p[img]"], 2
        ],
        customTitle: () => fun.gt("h1"),
        css: "#arcbox img{max-width:100%!important;margin:auto!important;min-height:50px!important;min-width:50px!important}",
        category: "nsfw1"
    }, {
        name: "HotAsiaGirl分頁模式",
        host: ["hotgirl.asia"],
        reg: () => /hotgirl\.asia\/.+\//.test(siteUrl) && fun.ge(".galeria_img"),
        imgs: () => fun.getImgA(".galeria_img>img", ".pagination a[href]"),
        button: [4],
        insertImg: [".mx-auto", 1],
        customTitle: () => fun.gt("h3"),
        css: ".galeria_img{display:none!important}",
        category: "nsfw2"
    }, {
        name: "HotAsiaGirl幻燈片模式",
        host: ["hotgirl.asia"],
        reg: () => /hotgirl\.asia\/.+\//.test(siteUrl) && fun.ge("#carouselImageIndicators"),
        imgs: "#carouselImageIndicators img",
        button: [4],
        insertImg: [".mx-auto", 2],
        customTitle: () => fun.gt("h3"),
        css: ".galeria_img{display:none!important}",
        category: "nsfw2"
    }, {
        name: "HotGirl World",
        host: ["www.hotgirl2024.com"],
        reg: /^https?:\/\/www\.hotgirl2024\.com\/g\/\w+\.html\//,
        imgs: () => fun.getImg(".article__image-list img", fun.gt(".pagination__total") || 1),
        button: [4],
        insertImg: [".article__image-list", 2],
        go: 1,
        customTitle: () => fun.gt(".article-header__title"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "HotGirl World 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/www\.hotgirl2024\.com\/(\?page=\d+)?$|^https?:\/\/www\.hotgirl2024\.com\/(category|agency|tag)\/\d+\.html\/(\?page=\d+)?$|^https?:\/\/www\.hotgirl2024\.com\/search\.html\/\?(page=\d+&)?q=/,
        include: ".pagination",
        init: () => [...fun.gae(".blur-image")].forEach(e => e.classList.remove("blur-image")),
        autoPager: {
            ele: ".articles-grid",
            next: ".pagination__item--active+a",
            re: ".pagination",
            lazySrc: "img[data-src]",
            title: doc => "Page " + fun.gt(".pagination__item--active", 1, doc),
            aF: () => siteData.init(),
            bottom: screen.height * 2,
            history: 1
        },
        openInNewTab: ".articles-grid a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "1Y Beauties",
        host: ["www.1y.is"],
        reg: /^https?:\/\/www\.1y\.is\/[\w-]+\/[^\.]+\.html$/,
        imgs: async () => {
            let max;
            try {
                max = fun.ge(".page-links>a:last-child").href.match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".entry-content img", max);
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "BeautyLeg",
        host: ["www.beautyleg6.com"],
        reg: /www\.beautyleg6\.com\/\w+\/\d+\/\d+\.html/i,
        imgs: () => {
            let max;
            try {
                max = fun.gt(".page a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".contents img[alt]", max, 9);
        },
        button: [4],
        insertImg: [".contents", 2],
        autoDownload: [0],
        next: ".pre>a",
        prev: ".next>a",
        customTitle: () => fun.gt(".content>h1").replace(/\[\d+P\/\d+M\]/i, ""),
        css: ".content .contents img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "BeautyLegM",
        host: ["m.beautyleg6.com"],
        reg: /m\.beautyleg6\.com\/view\.php\?aid=\d+/,
        imgs: async () => {
            let links = [siteUrl];
            for (let i = 2; i <= totalpage; i++) {
                links.push(siteUrl + "&pageno=" + i);
            }
            await fun.getEle(links, "#bigImg", ".show-simg", ".show-pages");
            return [...fun.gae("#bigImg")];
        },
        button: [4],
        insertImg: [".show-simg", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("a.f-r.l3");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: () => fun.gt(".showcontbt>h1").replace(/\s?\(\d+\/\d+\)/, ""),
        category: "nsfw1"
    }, {
        name: "Asianude4u",
        host: ["www.asianude4u.net"],
        reg: /www\.asianude4u\.net\/.+\/.+\/(#small-1)?$/,
        exclude: "//a[@rel='category tag' and text()='Videos'] | //a[@rel='category tag' and text()='Madonna-AV']",
        imgs: () => fun.ge(".wp-block-image a[href*=attachment_id]") ? [...fun.gae(".wp-block-image img[data-id]")] : [...fun.gae(".wp-block-image>a,.mgl-img-container>a,.gallery a")].map(e => e.href),
        button: [4],
        //insertImg: ["//li[img[@id='bigImg']]", 1],
        insertImg: [
            ["div.entry>*:last-child", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("h1.entry-title"),
        css: ".single-box,.entry-img-300{display:none!important}@media only screen and (max-width:409px){.entry{width:100%!important}}button.rmp_menu_trigger{z-index:100!important}",
        category: "nsfw1"
    }, {
        name: "NICEGIRL4U",
        host: ["nicegirl4u.cyou"],
        reg: () => /^https?:\/\/nicegirl4u\.cyou\/[^\/]+\/$/.test(siteUrl) && fun.ge(".wp-block-image>img"),
        init: () => fun.remove(".ads_custom"),
        imgs: async () => {
            let pag = fun.ge(".page-links");
            if (pag) {
                let max = fun.gt(".page-links>a:last-child");
                return fun.getImg(".wp-block-image>img", max, 14);
            } else {
                return [...fun.gae(".wp-block-image>img")];
            }
        },
        button: [4],
        insertImg: [
            [".responsive-tabs-wrapper,.entry-meta", 2], 2
        ],
        insertImgAF: () => [...document.querySelectorAll("figure.wp-block-image")].forEach(e => e.outerHTML = ""),
        go: 1,
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "Nudegirls4u",
        host: ["nudegirls4u.com"],
        reg: /^https?:\/\/nudegirls4u\.com\/[^\/]+\/$/,
        imgs: ".rgg-imagegrid>a",
        button: [4],
        insertImg: [".rgg-container", 2],
        customTitle: () => fun.gt(".entry-title"),
        css: ".rgg-imagegrid{height:auto!important}",
        category: "nsfw1"
    }, {
        name: "Chinese Beauties",
        host: ["sxchinesegirlz.one", "sxchinesegirlz01.xyz"],
        reg: /sxchinesegirlz(\d+)?\.\w+\/\d+\/\d+\/\d+\/.+\/$/,
        imgs: () => fun.getImg(".wp-block-image img", fun.gt(".pagination>*:last-child", 2), 4),
        button: [4],
        insertImg: [".thecontent", 2],
        customTitle: () => fun.gt("h1.entry-title"),
        category: "nsfw2"
    }, {
        name: "爱看 INS",
        host: ["www.ikanins.com"],
        reg: /www\.ikanins\.com\/[\w-]+\//,
        imgs: "img[srcset]",
        button: [4],
        insertImg: [
            [".entry-content", 0, "//p[img]"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt(".entry-title").replace(/\s?\d+P\s?$/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "第一美女图",
        host: ["www.dmmtu.com", "www.kkmnt.com"],
        reg: /^https?:\/\/(www\.dmmtu\.com|www\.kkmnt\.com)\/\w+\/\d+\.html/,
        imgs: () => {
            let max = fun.gt("a[title=Page]>b").match(/共(\d+)/)[1];
            return fun.getImg(".main-body img", max, 9);
        },
        button: [4],
        insertImg: [".main-body", 1],
        autoDownload: [0],
        next: "//a[text()='上一组']",
        prev: 1,
        customTitle: () => fun.gt(".main-title"),
        css: ".single .main-body img{max-width:100%!important}#showlast1{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "好女神网",
        host: ["www.haonvshen.com", "www.nvshen5.com"],
        reg: /(www\.haonvshen\.com|www\.nvshen\d\.com)\/gallery\/\d+\.html/,
        imgs: () => {
            let max;
            fun.ge(".page") ? max = fun.gt(".page").match(/\d+\/(\d+)/)[1] : max = fun.gt("#pages>*:last-child", 3) || 1;
            return fun.getImg("#hgallery>img,#imgwrap img", max, 9);
        },
        button: [4],
        insertImg: ["#hgallery,#imgwrap", 1],
        customTitle: () => fun.title(" - 第1页-美女图片-好女神网"),
        css: ".f_b_c_d{display:none!important}",
        category: "nsfw1"
    }, {
        name: "Jablehk",
        host: ["jablehk.com"],
        reg: /jablehk\.com\/\w+/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("figure.gallery-strips-item")].map(e => e.dataset.thumb);
            return [...fun.gae(".gallery-strips-lightbox-link>img[data-src]")];
        },
        button: [4],
        insertImg: [
            [".gallery-strips-wrapper", 2], 2, 2000
        ],
        autoDownload: [0],
        next: ".item-pagination-link--next",
        prev: ".item-pagination-link--prev",
        go: 1,
        customTitle: () => fun.gt("h1>strong"),
        category: "nsfw1"
    }, {
        name: "TangMoc",
        host: ["tangmoc.com"],
        reg: /^https?:\/\/tangmoc\.com\/blog\/show\/\w+\/.+/,
        init: () => fun.remove("//div[@class='row mt-3'] | //div[ins[@class='adsbygoogle']] | //div[@class='mt-3'][@id] | //div[@class='row my-5'] | //iframe[@id]"),
        imgs: () => fun.ge(".btn-warning+.btn-secondary") ? fun.getImgA("a[href*=media]>.media-preview", "a.btn-secondary") : [...fun.gae("a[href*=media]>.media-preview")],
        button: [4],
        insertImg: ["//media[article]", 2],
        go: 1,
        customTitle: () => fun.gt("h1"),
        category: "nsfw1"
    }, {
        name: "TangMoc去廣告",
        host: ["tangmoc.com"],
        reg: /^https?:\/\/tangmoc\.com\//,
        init: () => fun.addMutationObserver(() => fun.remove("//div[@class='row mt-3'] | //div[ins[@class='adsbygoogle']] | //div[@class='mt-3'][@id] | //div[@class='row my-5'] | //iframe[@id]")),
        category: "ad"
    }, {
        name: "☆ Ảnh đẹp ☆",
        host: ["tuyetnhan.com"],
        reg: /^https?:\/\/tuyetnhan\.com\/[^\/]+\/$/,
        init: () => {
            let ele = fun.ge("//div[@class='entry-content']/p[em]");
            if (ele) {
                let x = fun.ge(".entry-footer");
                x.parentNode.insertBefore(ele, x);
            }
        },
        imgs: ".entry-content img:not(.emoji,[src*=logo])",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "Fapello",
        host: ["fapello.com"],
        reg: /^https?:\/\/fapello\.com\/[^\/]+\/$/,
        init: async () => {
            if (fun.ge("#showmore")) {
                fun.run("scrollMore=()=>{};");
                let ele = fun.ge("#showmore");
                let max = ele.dataset.max;
                fun.remove("#showmore");
                let links = [];
                for (let i = 2; i <= max; i++) {
                    links.push(siteUrl + `page-${i}/`);
                }
                await fun.getEle(links, "#content>div", ["#content", 0]);
                fun.remove("#next_page");
            }
        },
        imgs: () => {
            let imgSrcs = [...fun.gae("#content>div")].map(node => {
                if (fun.ge("img[src*='icon-play.svg']", node)) {
                    let videoSrc = fun.ge("img", node).src.replace("https://fapello.com/", "https://cdn.fapello.com/").replace("_300px", "").replace(/\.jpg$/i, ".mp4");
                    videosSrcArray.push(videoSrc);
                    return null;
                } else {
                    thumbnailsSrcArray.push(fun.ge("img", node).src);
                    let imgSrc = fun.ge("img", node).src.replace("_300px", "");
                    return imgSrc;
                }
            }).filter(item => item);
            return imgSrcs;
        },
        button: [4],
        insertImg: ["#content", 3],
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Fapello.su",
        host: ["fapello.su"],
        reg: /^https?:\/\/fapello\.su\/[^\/]+\/$/,
        init: async () => {
            let total = parseInt(fun.gt("//div[strong[text()='Media']]").match(/\d+/)[0], 10); //媒體總數
            console.log("媒體總數", total);
            let ele = fun.ge("#showmore");
            let max = ele.dataset.max;
            fun.showMsg(displayLanguage.str_05, 0);
            let ajaxNum = 0;
            let resArr = fun.arr(max).map((_, i, arr) => {
                return new Promise(resolve => {
                    $.ajax({
                        url: `/ajax/model_new/${model_bid}/page-${i+1}/photos`,
                        dataType: "html",
                        success: (data) => {
                            fun.showMsg(`${displayLanguage.str_06}${ajaxNum+=1}/${arr.length}`, 0);
                            resolve(data);
                        }
                    });
                });
            });
            let tempDom1;
            let picNum;
            await Promise.all(resArr).then(async arr => {
                await fun.delay(1000, 0);
                fun.hideMsg();
                ajaxNum = 0;
                let html = "";
                arr.forEach(str => html += str);
                tempDom1 = fun.doc(html);
                picNum = [...tempDom1.images].length; //圖片數量
                console.log("圖片數量", picNum);
                thumbnailsSrcArray = [...tempDom1.images].map(e => e.dataset.src);
                console.log("縮圖地址", thumbnailsSrcArray);
            });
            let videoNum = total - picNum;
            let videoPages = Math.ceil(videoNum / 16);
            fun.showMsg(displayLanguage.str_05, 0);
            let resArr2 = fun.arr(videoPages).map((_, i, arr) => {
                return new Promise(resolve => {
                    $.ajax({
                        url: `/ajax/model_new/${model_bid}/page-${i+1}/videos`,
                        dataType: "html",
                        success: (data) => {
                            fun.showMsg(`${displayLanguage.str_06}${ajaxNum+=1}/${arr.length}`, 0);
                            resolve(data);
                        }
                    });
                });
            });
            let tempDom2;
            await Promise.all(resArr2).then(async arr => {
                await fun.delay(1000, 0);
                fun.hideMsg();
                ajaxNum = 0;
                let html = "";
                arr.forEach(str => html += str);
                tempDom2 = fun.doc(html);
                let videoUrls = [...fun.gae("iframe.saint-iframe", tempDom2)].map(e => e.src);
                console.log("iframeVideoUrls", videoUrls);
                fun.showMsg(displayLanguage.str_05, 0);
                let getVideoUrlsArr = videoUrls.map((url, i, arr) => {
                    return fun.xhrDoc(url).then(doc => {
                        fun.showMsg(`${displayLanguage.str_06}${ajaxNum+=1}/${arr.length}`, 0);
                        return fun.ge("source[type]", doc)?.src ?? null;
                    });
                });
                await Promise.all(getVideoUrlsArr).then(async mp4Arr => {
                    await fun.delay(1000, 0);
                    mp4Arr = mp4Arr.filter(item => item);
                    fun.hideMsg();
                    console.log("MP4地址", mp4Arr);
                    videosSrcArray = mp4Arr;
                });
            });
        },
        imgs: () => thumbnailsSrcArray.map(e => e.replace(".md.", ".")),
        button: [4],
        insertImg: ["#content", 3],
        insertImgAF: () => {
            fun.run("scrollMore=()=>{};");
            fun.remove("#showmore,#next_page,.content-action-buttons");
        },
        downloadVideo: true,
        threading: 4,
        category: "nsfw2"
    }, {
        name: "Fapachi",
        host: ["fapachi.com"],
        reg: /^https?:\/\/fapachi\.com\/[^\/]+$/,
        imgs: async () => {
            let medias = parseInt(fun.gt("//p[contains(text(),'Media')]").match(/\d+/)[0], 10);
            if (medias > 24) {
                let max = Math.ceil(medias / 24);
                let links = fun.arr(max).map((_, i) => siteUrl + "/page/" + (i + 1));
                thumbnailsSrcArray = await fun.getImgA(".model-media-prew img", links);
                return thumbnailsSrcArray.map(e => e.replace("/300px/", "/full/").replace("_300px", ""));
            } else {
                thumbnailsSrcArray = [...document.querySelectorAll(".model-media-prew img")].map(e => e.src);
                return thumbnailsSrcArray.map(e => e.replace("/300px/", "/full/").replace("_300px", ""));
            }
        },
        button: [4],
        insertImg: ["//div[div[contains(@class,'model-media-prew')]]", 3],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "Faponic/Fapellas",
        host: ["faponic.com", "fapellas.com"],
        reg: /^https?:\/\/(faponic\.com|fapellas\.com)\/[^\/]+\/$/,
        init: async () => {
            if (fun.ge("#showmore")) {
                fun.run("scrollMore=()=>{};");
                let ele = fun.ge("#showmore");
                let max = ele.dataset.max;
                fun.remove("#showmore");
                let links = [];
                for (let i = 2; i <= max; i++) {
                    links.push(siteUrl + `page-${i}/`);
                }
                await fun.getEle(links, "#content>div", ["#content", 0]);
                fun.remove("#next_page");
            }
        },
        imgs: () => [...fun.gae(".photo-item>img")].map(e => e.src).reverse(),
        button: [4],
        insertImg: ["#content", 3],
        category: "nsfw2"
    }, {
        name: "The Fappening Plus",
        host: ["thefappening.plus"],
        reg: /^https?:\/\/thefappening\.plus\/[^\/]+\/$/,
        imgs: async () => {
            await fun.getNP(".gallery__item", "//a[text()='Next']", null, ".fusion-meta-info");
            thumbnailsSrcArray = [...fun.gae(".gallery_thumb")].map(e => e.src).reverse();
            return thumbnailsSrcArray.map(e => e.replace(/_s(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".post-content", 2],
        customTitle: () => fun.gt(".entry-title").replaceAll("/", "-"),
        category: "nsfw2"
    }, {
        name: "TheFappening",
        host: ["thefappeningblog.com"],
        reg: /^https?:\/\/thefappeningblog\.com\/[^\/]+\/(#more-\d+)?$/,
        include: "//a[noscript][not(@class)]",
        imgs: "//a[noscript]",
        button: [4],
        insertImg: [
            ["//a[noscript]", 2, "//a[noscript]"], 2
        ],
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+[\w\s\.\+-]+\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "TheFappening",
        host: ["thefappeningblog.com"],
        reg: /^https?:\/\/thefappeningblog\.com\/gallery\/[^\/]+\/$/,
        imgs: async () => {
            await fun.getNP(".item_content", ".nav-next>a", null, ".nav-single");
            thumbnailsSrcArray = [...fun.gae(".item_img>img")].map(e => e.src).reverse();
            return thumbnailsSrcArray.map(e => e.replace(/_\d+px(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replaceAll("/", "-"),
        category: "nsfw2"
    }, {
        name: "Fapomania",
        host: ["fapomania.com"],
        reg: /^https?:\/\/fapomania\.com\/[^\/]+\/$/,
        init: () => fun.createImgBox(".previzakosblo", 2),
        imgs: async () => {
            const last = doc => {
                let ele = fun.ge(".leftocontar .previzako", doc);
                return ele ? false : true;
            }
            await fun.getNP(".leftocontar .previzako", "//a[contains(text(),'Next')]", last, ".morebutaro");
            thumbnailsSrcArray = [...fun.gae(".leftocontar .previzakoimag>img:not([src$='videoleaks.png'])")].map(e => e.src).reverse();
            return thumbnailsSrcArray.map(e => e.replace(/_\d+px(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".leftocontar .previzakosblo,.morebutaro"], 2
        ],
        customTitle: () => fun.gt(".leftocontar>h1").replaceAll("/", "-"),
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        category: "nsfw2"
    }, {
        name: "NudoStar.TV",
        host: ["nudostar.tv"],
        reg: /^https?:\/\/nudostar\.tv\/models\/[^\/]+\/$/,
        imgs: async () => {
            await fun.getNP("#list_videos_common_videos_list_items>.item", ".next>a", null, "#list_models_models_list_pagination");
            thumbnailsSrcArray = [...fun.gae("#list_videos_common_videos_list img.thumb")].map(e => e.src).reverse();
            return thumbnailsSrcArray.map(e => e.replace(/_\d+px(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".list-videos", 2],
        customTitle: () => fun.gt(".headline>h1").replaceAll("/", "-"),
        category: "nsfw2"
    }, {
        name: "Nudogram",
        host: ["nudogram.com"],
        reg: /^https?:\/\/nudogram\.com\/models\/[^\/]+\/$/,
        imgs: async () => {
            await fun.getNP("#list_videos_common_videos_list_items>.item", "//li[span]/following-sibling::li[1]/a", null, ".pagination");
            thumbnailsSrcArray = [...fun.gae("#list_videos_common_videos_list div.img>img")].map(e => e.src).reverse();
            return thumbnailsSrcArray.map(e => e.replace(/_\d+(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".list-videos", 2],
        customTitle: () => fun.gt(".headline>h2").replaceAll("/", "-"),
        category: "nsfw2"
    }, {
        name: "HentaiDude TV",
        host: ["hentaidude.tv"],
        link: "https://hentaidude.tv/category/cosplay/",
        reg: /^https?:\/\/hentaidude\.tv\/\w+\/[^\/]+\/$/,
        imgs: ".entry-content a.swipebox",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Sankaku Complex",
        host: ["www.sankakucomplex.com"],
        reg: /^https?:\/\/www\.sankakucomplex\.com\/\d+\/\d+\/\d+\/[^\/]+\/$/,
        imgs: ".entry-content a.swipebox",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Influencers GoneWild",
        host: ["influencersgonewild.com"],
        reg: /^https?:\/\/influencersgonewild\.com\/[^\/]+\/$/,
        include: [
            ".entry-title",
            ".entry-content"
        ],
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source[type='video/mp4']")].map(e => e.src);
            return [...fun.gae(".entry-content img[data-src]")].map(e => fun.lo + e.dataset.src);
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".entry-title"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Fan Leaks",
        host: ["fanleaks.club"],
        reg: /^https?:\/\/fanleaks\.club\/[^\/]+$/,
        imgs: async () => {
            thumbnailsSrcArray = await fun.getImg("#content img", fun.gt("nav[aria-label=Pagination]>*:last-child", 2) || 1);
            return thumbnailsSrcArray.map(e => e.replace("thumbs/", ""));
        },
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "Thotsbay/Hotleak/Leakedzone",
        host: ["thotsbay.tv", "hotleak.vip", "leakedzone.com"],
        reg: () => /^https?:\/\/(thotsbay\.tv|hotleak\.vip|leakedzone\.com)\/[\w\.]+(\/photo)?$/i.test(fun.url) && !/^\/home/.test(fun.lp),
        init: () => {
            if (location.href.split("/").length == 4) location.href = location.href + "/photo";
        },
        imgs: async () => {
            if (/\/photo/.test(location.href)) fun.clearAllTimer();
            let ptext = fun.gt("#photos-tab");
            let m = ptext.match(/\(([\d\.K]+)\)/)[1];
            let num;
            if (/\./.test(m) && /K/.test(m)) {
                num = (parseInt(m.replace(/\.|K/g, ""), 10) + 1) * 100;
            } else if (/K/.test(m)) {
                num = parseInt(m.replace(/K/g, ""), 10) * 1000 + 100;
            } else {
                num = parseInt(m, 10);
            }
            let pages = Math.ceil(num / 48);
            let actorName = siteUrl.split("/")[3];
            let imgsSrcArr = [];
            let fetchNum = 0;
            fun.showMsg(displayLanguage.str_05, 0);
            for (let i = 1; i <= pages; i++) {
                let json = await fetch(`/${actorName}?page=${i}&type=photos&order=0`, {
                    "headers": {
                        "x-requested-with": "XMLHttpRequest"
                    }
                }).then(res => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${pages}`, 0);
                    return res.json();
                });
                if (json.length == 0) break;
                let images;
                if (fun.lh == "leakedzone.com") {
                    images = json.map(e => e.thumbnail.replace("_300.", "."));
                } else {
                    images = json.map(e => e.player);
                }
                let thumbnails = json.map(e => e.thumbnail);
                imgsSrcArr = imgsSrcArr.concat(images);
                thumbnailsSrcArray = thumbnailsSrcArray.concat(thumbnails);
                if (json.length < 48) break;
            }
            return imgsSrcArr;
        },
        button: [4],
        insertImg: ["#photos", 3],
        customTitle: () => fun.gt(".actor-name>h1"),
        category: "nsfw2"
    }, {
        name: "Hot Girl Pix",
        host: ["www.hotgirlpix.com"],
        reg: /^https?:\/\/www\.hotgirlpix\.com\/p\//,
        imgs: () => fun.getImgA("article img", "#singlePostPagination a", 300),
        button: [4],
        insertImg: ["article", 2],
        customTitle: () => fun.gt("#singlePostTitle"),
        css: "#modalAdblock,.alignCenter{display:none!important}",
        category: "nsfw1"
    }, {
        name: "Hot Girl Pix",
        host: ["www.hotgirlpix.com"],
        reg: /^https?:\/\/www\.hotgirlpix\.com\//,
        css: "#modalAdblock{display:none!important}",
        category: "ad"
    }, {
        name: "自拍图库",
        host: ["自拍图库.com", "zipaipic.com"],
        reg: () => /\/content_\d+\.html$/.test(siteUrl) && fun.ge("//title[contains(text(),'自拍图库')]"),
        init: () => fun.clearAllTimer(),
        imgs: ".showimg",
        button: [4],
        insertImg: ["#imgviewer", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一组']",
        prev: "//a[text()='上一组']",
        customTitle: () => fun.gt(".ttle").replace(/\n|\d+p/gi, "").trim(),
        referer: "",
        css: "a[rel]{display:none!important}",
        category: "nsfw2"
    }, {
        name: "美拍 - 我自拍",
        host: ["5zipai.com", "7aipai.com", "9zipai.net"],
        reg: /^https?:\/\/(\d+aipai\.com|\d+zipai.com|\d+zipai\.net)\/\w+\/\d+\/\d+\.html/i,
        init: () => fun.clearAllTimer(),
        imgs: async () => {
            await fun.waitEle("#showCon img");
            videosSrcArray = [...fun.gae("#showCon video")].map(e => /\.mp4/.test(e.src) ? e.src : null).filter(item => item);
            thumbnailsSrcArray = [...fun.gae("#showCon img")].map(e => /zipai/.test(e.src) ? e.src.replace(/&w=\d+/, "&w=100") : null).filter(item => item);
            return [...fun.gae("#showCon img")].map(e => /zipai/.test(e.src) ? e.src.replace(/&output.+/, "") : null).filter(item => item);
        },
        button: [4],
        insertImg: ["#showCon", 2],
        go: 1,
        autoDownload: [0],
        next: ".article-nav-prev a",
        prev: 1,
        customTitle: () => fun.gt(".item_title>h1").replace(/\[[\d\+PV]+\]/i, "").trim(),
        referer: "",
        css: ".affs{display:none!important}.content_left img{cursor:unset}",
        category: "nsfw2"
    }, {
        name: "套圖TAOTU.ORG",
        host: ["taotu.org"],
        reg: () => /^https?:\/\/(\w{2}\.)?taotu\.org\/[\w-]+\//.test(siteUrl) && fun.ge(".piclist"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a[data-fancybox=gallery] img")].map(e => e.src);
            return [...fun.gae("a[data-fancybox=gallery]")];
        },
        button: [4],
        insertImg: [
            ["#wrapper-footer", 2], 2
        ],
        autoDownload: [0],
        next: ".next a",
        prev: ".prev a",
        customTitle: () => fun.gt(".suit_title>h1").replace(/\d+p/i, "").trim(),
        go: 1,
        css: "#right-bottom,#ad,.ad{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "Taotuxp.com/www.taotucd.com",
        host: ["www.taotucc.com", "www.taotucd.com"],
        reg: /www\.taotuc(c|d)\.com\/\d+\.html/,
        imgs: () => fun.getImg("#post_content img[alt]", fun.gt(".pagelist>*:last-child"), 7),
        button: [4],
        insertImg: ["#post_content", 1],
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt("h1"),
        category: "nsfw1"
    }, {
        name: "MM 范",
        host: ["www.95mm.vip"],
        reg: /www\.95mm\.\w+\/\d+\.html/,
        init: "$(document).unbind('keydown');$(document).unbind('keyup');",
        imgs: () => {
            let max = fun.gt(".post-title").match(/\/(\d+)/)[1];
            return fun.getImg(".post img[alt]", max, 2);
        },
        button: [4],
        insertImg: [".post", 2],
        autoDownload: [0],
        next: "//div[div[text()='上一组']]/preceding-sibling::div/a",
        prev: "//div[div[text()='下一组']]/preceding-sibling::a",
        customTitle: () => fun.gt(".post-title").replace(/（\d+\/\d+）$/, ""),
        category: "nsfw1"
    }, {
        name: "18AV",
        host: ["18av.mm-cg.com"],
        link: "https://18av.mm-cg.com/zh/cg_random/all/index.html",
        reg: /18av\.mm-cg\.com\/(\w{2}\/)?\w+\/\d+\/content\.html|18av\.mm-cg\.com\/.+\.html/,
        include: ".sel_enlarge_page,.sel_enlarge",
        imgs: () => Large_cgurl,
        button: [4],
        insertImg: ["#show_cg_html,#showcg_container", 2],
        customTitle: () => fun.gt('.archive-title>h1,h1').replace(/\s?\[\d+p\]|\s?\(\d+p\)/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "Xgirls",
        host: ["xgirlscollection.com", "img3xgirls.com"],
        reg: /(xgirlscollection\.com|img3xgirls\.com)\/(collection|album)\/\d+/,
        imgs: () => fun.getImg("img[id].collection-image,.album-image[data-pin-media]", (fun.gt(".pagination>*:last-child", 2) || 1)),
        button: [4],
        insertImg: ["//div[img[@data-pin-url]]", 1],
        customTitle: () => fun.gt(".container>h1"),
        category: "nsfw1"
    }, {
        name: "SexyAsianGirl",
        host: ["www.sexyasiangirl.xyz"],
        reg: /www\.sexyasiangirl\.xyz\/album\/\d+\.html/,
        init: () => fun.remove("//article/div[a[img]]"),
        imgs: () => fun.getImg("img.block", fun.gt("//a[text()='Next']", 2) || 1),
        button: [4],
        insertImg: ["//div[img[@title]]", 2],
        customTitle: () => fun.gt("header>h2").replace(/\s?\(\d+\s?photos\s?\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "尤物丧志",
        host: ["youwu.pics"],
        reg: () => /\/albums\//.test(siteUrl) && fun.ge("//title[contains(text(),'尤物丧志')]"),
        imgs: () => fun.getImg("img.block", fun.gt("a[rel=next]", 2) || 1),
        button: [4],
        insertImg: ["//div[img[@title]]", 2],
        customTitle: () => fun.gt("#main>h1").replace(/未分类性感写真|^.+人体|AI图区/, "").trim(),
        category: "nsfw2"
    }, {
        name: "HotAsianX",
        host: ["hotasianx.com"],
        reg: /^https?:\/\/hotasianx\.com\/albums\//,
        imgs: async () => {
            let imgSrcs = await fun.getImg("img.block", fun.gt("a[rel=next]", 2) || 1);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: ["//div[img[@title]]", 2],
        customTitle: () => fun.gt("#main>h1").replace(/未分类性感写真|^.+人体|AI图区/, "").trim(),
        category: "nsfw2"
    }, {
        name: "色图",
        host: ["setu.pics"],
        reg: /^https?:\/\/setu\.pics\/albums\//,
        imgs: async () => {
            let imgSrcs = await fun.getImg("img.block", fun.gt("a[rel=next]", 2) || 1);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: ["//div[img[@title]]", 2],
        customTitle: () => fun.gt("#main>h1"),
        category: "nsfw2"
    }, {
        name: "亚色图库",
        host: ["yase.pics"],
        reg: /^https?:\/\/yase\.pics\/albums\//,
        imgs: async () => {
            let imgSrcs = await fun.getImg("img.block", fun.gt("a[rel=next]", 2) || 1);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: ["//div[img[@title]]", 2],
        customTitle: () => fun.gt("#main>h1").replace(/\(\d+[\w\s\.\+-]\)|\d+P/i, ""),
        category: "nsfw2"
    }, {
        name: "乳此动人",
        host: ["rucidongren.neocities.org"],
        reg: /^https?:\/\/rucidongren\.neocities\.org\/posts\/\w+\//,
        imgs: "#gallery img",
        button: [4],
        insertImg: ["#gallery", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'Prev')]/following-sibling::a[1]",
        prev: "//span[contains(text(),'Next')]/following-sibling::a[1]",
        customTitle: () => fun.gt("h1.text-xl").replace(/（\d+月\d+打赏群(自购)?资源）|\[?\d+[\w\s\.\+-]+\]\s?|\[\d+P(\d+v)?-[\d\.]+(M|G)B\]|\[\d+P\]|\d+mb|\s?\d+p(\s?\+?\s?\d+V)?/gi, "").trim(),
        category: "nsfw2"
    }, {
        name: "美图",
        host: ["meitu.neocities.org"],
        reg: /^https?:\/\/meitu\.neocities\.org\/posts\/\w+\/$/i,
        exclude: ".text_mask",
        imgs: ".mb-2>img",
        button: [4],
        insertImg: ["//div[img][@class='mb-2']", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'上一篇')]//following-sibling::a",
        prev: "//span[contains(text(),'下一篇')]/following-sibling::a",
        customTitle: () => fun.gt("h1.text-xl"),
        category: "nsfw1"
    }, {
        name: "福利姬美图",
        host: ["fuligirl.top"],
        reg: /^https?:\/\/fuligirl\.top\/albums\/\d+/,
        imgs: () => fun.getImg("img.block", (fun.gt("a[rel=next]", 2) || 1)),
        button: [4],
        insertImg: ["//div[@class='my-1' and img[@class='block my-1']]", 1],
        customTitle: () => fun.gt("#main h1").replace(/（\d+月\d+打赏群(自购)?资源）|\[?\d+[\w\s\.\+-]+\]\s?|\[\d+P(\d+v)?-[\d\.]+(M|G)B\]|\[\d+P\]|\d+mb|\s?\d+p(\s?\+?\s?\d+V)?/gi, "").trim(),
        category: "nsfw2"
    }, {
        name: "顶尖美女图",
        host: ["djjpg.com"],
        reg: /^https?:\/\/djjpg\.com\/\d+.html/,
        imgs: ".post-countent-data img",
        autoDownload: [0],
        next: "//a[div[h5[text()=' 上一篇']]]",
        prev: "//a[div[h5[text()=' 下一篇']]]",
        customTitle: () => fun.gt(".multi-single-header>h1").replace(/\（\d+\/\d+\）|(\s–\s)?\(\d+P\)/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "秀人图吧",
        host: ["www.502x.com"],
        reg: /^https?:\/\/www\.502x\.com\/\w+\/\d+\.html/,
        //imgs: () => fun.getImg("#image_div img", (fun.gt("a.prev", 2) || 1), 9),
        imgs: () => fun.getImgA("#content img", ".post_au>a"),
        button: [4],
        insertImg: ["#image_div", 2],
        customTitle: () => fun.gt(".item_title>h1"),
        css: ".affs{display:none!important}.image_div a img{cursor:unset}",
        category: "nsfw1"
    }, {
        name: "OSOSEDKI",
        host: ["ososedki.com"],
        reg: /^https?:\/\/ososedki\.com\/([a-z]{2}\/)?photos\//,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a[data-fancybox] img")].map(e => e.src).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]);
            return [...fun.gae("a[data-fancybox]")].map(a => a.href).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]);
        },
        button: [4],
        insertImg: ["//div[div[@id='masonry']]", 2],
        customTitle: () => fun.ge("//meta[@property='og:description']").content,
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "COSPLAYASIAN/COSPLAYTHOTS/COSPLAYRULE34/WAIFUBITCHES/COSPLAY BOOBS",
        host: ["cosplayasian.com", "cosplaythots.com", "cosplayrule34.com", "waifubitches.com", "cosplayboobs.com"],
        reg: [
            /^https?:\/\/cosplayasian\.com\/([a-z]{2}\/)?post\/\d+/,
            /^https?:\/\/cosplaythots\.com\/([a-z]{2}\/)?p\/\d+/,
            /^https?:\/\/cosplayrule34\.com\/([a-z]{2}\/)?post\/\d+/,
            /^https?:\/\/waifubitches\.com\/([a-z]{2}\/)?gallery\/\d+/,
            /^https?:\/\/cosplayboobs\.com\/([a-z]{2}\/)?album\/\d+/
        ],
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a[data-fancybox] img")].map(e => e.src);
            return [...fun.gae("a[data-fancybox]")].map(a => a.href);
        },
        button: [4],
        insertImg: [
            [".grid", 2, ".grid"], 2
        ],
        customTitle: () => fun.ge("h1.text-uppercase:not(.mt-2)").textContent.replace(/^[\w\s]+:/i, "").trim(),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "Pack de chicas",
        host: ["packdechicas.net"],
        reg: /^https?:\/\/packdechicas\.net\/[^\/]+\/$/,
        include: ".tiled-gallery__gallery",
        init: () => {
            fun.createImgBox(".entry.themeform");
            let selectors = ["#twitch-embed", "iframe", "marquee", "audio", "img[alt='LOS NECESITOOOOOOOOO']"];
            fun.remove(selectors);
        },
        imgs: () => {
            videosSrcArray = [...fun.gae("video[src]")].map(e => e.src);
            if (fun.ge(".tiled-gallery__gallery img[srcset]")) {
                let srcset = fun.attr(".tiled-gallery__gallery img[srcset]", "srcset");
                if (srcset.includes(",")) {
                    return [...fun.gae(".tiled-gallery__gallery img[srcset]")].map(img => {
                        let srcset = img.getAttribute("srcset");
                        let splitArr = srcset.split(",");
                        splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                        let src = splitArr.at(-1).trim().split(" ")[0];
                        if (/^https:\/\/i\d\.wp\.com/.test(src)) {
                            return splitArr.at(-1).trim().split(" ")[0].replace(/\?.+$/, "?ssl=1").replace(/-\d+x\d+\./, ".");
                        } else {
                            return src;
                        }
                    });
                }
            }
            if (fun.ge(".tiled-gallery__gallery img[data-orig-file]") && fun.ge(".tiled-gallery__gallery img[data-medium-file]")) {
                return [...fun.gae(".tiled-gallery__gallery img[data-orig-file]")].map(e => e.dataset.origFile);
            } else if (fun.ge(".tiled-gallery__gallery img[data-link]") && fun.ge(".tiled-gallery__gallery img[data-url]")) {
                return [...fun.gae(".tiled-gallery__gallery img[data-url]")].map(e => e.dataset.url.replace(/-\d+x\d+(\.jpg)$/, "$1"));
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt("h1.entry-title"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Pack de chicas AD",
        reg: /^https?:\/\/packdechicas\.net\//,
        init: () => {
            let selectors = ["#twitch-embed", "iframe", "marquee", "audio", "img[alt='LOS NECESITOOOOOOOOO']"];
            fun.remove(selectors);
        },
        category: "ad"
    }, {
        name: "NudoStar",
        host: ["nudostar.com"],
        reg: /^https?:\/\/nudostar\.com\/[^\/]+\//,
        include: "h1.entry-title",
        init: () => fun.createImgBox(".crp_related", 1),
        imgs: "//p/a[img]",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//p[a[img]]"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "a.previous-post",
        prev: "a.next-post",
        customTitle: () => fun.gt("h1.entry-title").replace(/\(\d+[\w\s\.\+-]+\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "OnlyFaps",
        host: ["faps.club"],
        reg: /^https?:\/\/faps\.club\/[^\/]+\//,
        include: "h1.entry-title",
        imgs: () => {
            videosSrcArray = [...fun.gae(".entry-content video>source")].map(e => e.src).reverse();
            return [...fun.gae(".entry-content img[data-srcset]")].map(e => {
                let splitArr = e.dataset.srcset.split(",");
                splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                return splitArr.at(-1).trim().split(" ")[0];
            }).sort((a, b) => a.match(/-(\d+)-/)[1] - b.match(/-(\d+)-/)[1]);
        },
        button: [4],
        insertImg: [
            [".wp-block-image", 2, ".wp-block-image"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "a.previous-post",
        prev: "a.next-post",
        customTitle: () => fun.gt("h1.entry-title").replace(/\(\d+[\w\s\.\+-]+\)/, "").trim(),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "ThotBook.tv/Famous Internet Girls",
        host: ["thotbook.tv", "www.famousinternetgirls.com"],
        reg: [
            /^https?:\/\/thotbook\.tv\/[^\/]+\/thotbook\/[\w-]+\/$/,
            /^https?:\/\/www\.famousinternetgirls\.com\/[^\/]+\/[^\/]+\/[^\/]+\/$/
        ],
        include: "video>source,.mace-gallery-teaser",
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source")].map(e => e.src);
            let picArr1 = [...fun.gae(".entry-featured-media-main[itemprop='image'] meta[itemprop='url']")].map(e => e.content);
            if (fun.ge(".mace-gallery-teaser")) {
                let picArr2 = JSON.parse(fun.ge(".mace-gallery-teaser").dataset.g1Gallery).map(e => {
                    if (e.type === "image" && !/18xmob\.png$/.test(e.full)) {
                        return e.full;
                    } else {
                        return null;
                    }
                }).filter(item => item);
                return picArr1.concat(picArr2);
            } else {
                return picArr1;
            }
        },
        button: [4],
        insertImg: [
            [".entry-inner", 0, ".entry-featured-media-main,.entry-content"], 2
        ],
        autoDownload: [0],
        next: "a[rel='prev']",
        prev: "a[rel='next']",
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+[\w\s\.\+-]+\)/i, "").trim(),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "TNApics",
        host: ["www.tnapics.com"],
        reg: /^https:\/\/www\.tnapics\.com\/[\w-]+\/$/,
        imgs: "a[data-fslightbox]",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "EroThots",
        host: ["erothots.co"],
        reg: () => !hasTouchEvents && /^https?:\/\/erothots\.co\/a\/[^\/]+\/[^\/]+/.test(fun.url),
        imgs: () => {
            videosSrcArray = [...fun.gae("a[data-type='html5video']")].map(e => e.dataset.src);
            return [...fun.gae("a[data-type='image']")].map(e => e.dataset.src);
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".head-title"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Fapdungeon",
        host: ["fapdungeon.com"],
        reg: /^https?:\/\/fapdungeon\.com\/white\/[^\/]+\/$/,
        init: () => fun.addMutationObserver(() => fun.remove("div[class][style*='z-index']")),
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source")].map(e => e.src);
            return [...fun.gae(".entry-content img.size-full")].map(e => e.src);
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".entry-title"),
        referer: "https://fapdungeon.com/",
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Ibradome",
        host: ["ibradome.com"],
        reg: /^https?:\/\/ibradome\.com\/\w+\/photos\/\d+\//i,
        imgs: () => {
            let url = fun.ge("a.gallery-view").href;
            return fun.fetchDoc(url).then(dom => [...fun.gae("a.ohidden", dom)].map(a => a.href));
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".art-title").trim(),
        category: "nsfw2"
    }, {
        name: "Fapopedia",
        host: ["fapopedia.net"],
        reg: () => !hasTouchEvents && /^https?:\/\/fapopedia\.net\/[^\/]+\/$/.test(fun.url) && fun.ge("a[name='photos']"),
        init: () => fun.createImgBox(".shrt-blk", 2),
        imgs: async () => {
            await fun.getNP("//h2[i]/following-sibling::div[1][@class='shrt-blk']/div", "//a[text()='Next ']", null, ".nv-blk");
            thumbnailsSrcArray = [...fun.gae("//h2[i]/following-sibling::div[1][@class='shrt-blk']//img")].map(e => e.src).sort();
            return fun.getImgA(".lrg-pc>a", "//h2[i]/following-sibling::div[1][@class='shrt-blk']//a").then(arr => arr.sort());
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//h2[i]/following-sibling::div[1][@class='shrt-blk']|//div[@class='nv-blk']"], 2
        ],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "fapfappy",
        host: ["fapfappy.com"],
        reg: /^https?:\/\/fapfappy\.com\/\d+\/\d+\/\d+\/[^\/]+\/$/i,
        imgs: ".myrpf-xph img[data-lazy-src]",
        capture: () => [...fun.gae(".myrpf-xph img[data-lazy-src]")].map(e => e.dataset.lazySrc),
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+[\w\s\.\+-]+\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "gotanynudes.com",
        host: ["gotanynudes.com"],
        reg: /^https?:\/\/gotanynudes\.com\/[^\/]+\/$/i,
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source")].map(e => e.src);
            return [...fun.gae("img[data-lazy-srcset]")].map(img => {
                let srcset = img.dataset.lazySrcset;
                let splitArr = srcset.split(",");
                splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                return splitArr.at(-1).trim().split(" ")[0];
            });
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".entry-title"),
        downloadVideo: true,
        referer: "https://gotanynudes.com/",
        category: "nsfw2"
    }, {
        name: "Thotslife.com",
        host: ["thotslife.com"],
        reg: /^https?:\/\/thotslife\.com\/[^\/]+\/$/i,
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source")].map(e => e.src);
            let arr1 = [...fun.gae(".entry-content img[data-srcset]")].map(img => {
                let srcset = img.dataset.srcset;
                let splitArr = srcset.split(",");
                splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                return splitArr.at(-1).trim().split(" ")[0];
            });
            let arr2 = [...fun.gae(".entry-content img[data-src]:not([data-srcset])")].map(e => e.dataset.src);
            return arr1.concat(arr2);
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt(".entry-title"),
        downloadVideo: true,
        referer: "https://thotslife.com/",
        category: "nsfw2"
    }, {
        name: "Nude Cosplay Albums",
        host: ["nudecosplaygirls.com"],
        reg: /^https?:\/\/nudecosplaygirls\.com\/[^\/]+\/$/,
        include: ".msacwl-slide img",
        imgs: ".msacwl-slide img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Jizz to Nude Girls",
        host: ["jizzy.org"],
        reg: /^https?:\/\/jizzy\.org\/[^\/]+\/$/,
        include: ".post-card__image",
        imgs: ".post-card__image",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "VoyeurFlash.com",
        host: ["voyeurflash.com"],
        reg: /^https?:\/\/voyeurflash\.com\/[^\/]+\/$/,
        include: ".gallery_thumb",
        imgs: ".gallery_thumb",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replaceAll("/ ", ""),
        category: "nsfw2"
    }, {
        name: "Leaked Models",
        host: ["leakedmodels.com"],
        reg: /^https?:\/\/leakedmodels\.com\/[^\/]+\/$/,
        include: "//a[span[@class='faux-button'][text()='View']][@class='more-link']",
        init: () => fun.createImgBox("#site-content", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img.size-large")].map(e => e.src).sort();
            let links = [...fun.gae("//a[span[@class='faux-button'][text()='View']][@class='more-link']")].map(a => a.href);
            return fun.getImgA("img.wp-image", links).then(arr => arr.sort());
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.gt(".entry-title").replace("/ ", ""),
        category: "nsfw2"
    }, {
        name: "ThotHD Albums",
        host: ["thothd.com"],
        reg: /^https?:\/\/thothd\.com\/([a-z]{2}\/)?albums\/\d+\/[^\/]+\/$/,
        include: "a[data-fancybox-type]",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".thumb")].map(e => e.src);
            return [...fun.gae("a[data-fancybox-type]")];
        },
        button: [4],
        insertImg: [".images", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "Thothub Albums",
        host: ["thothub.to"],
        reg: /^https?:\/\/thothub\.to\/albums\/\d+\/[^\/]+\/$/,
        include: "a[data-fancybox-type]",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".thumb")].map(e => e.src);
            return [...fun.gae("a[data-fancybox-type]")];
        },
        button: [4],
        insertImg: [".images", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "The Hentai World",
        host: ["thehentaiworld.com"],
        link: "https://thehentaiworld.com/hentai-cosplay-images/",
        reg: /^https?:\/\/thehentaiworld\.com\/[^\/]+\/[^\/]+\/$/,
        include: "#miniThumbContainer",
        init: () => fun.createImgBox("#miniThumbContainer", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#miniThumbContainer img[itemprop='thumbnail']")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/-\d+x\d+(\.\w+)/, "$1"));
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "#miniThumbContainer,#doujin,div.ad"], 2
        ],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "Cosplayers GoneWild",
        host: ["cosplayersgonewild.net"],
        reg: /^https?:\/\/cosplayersgonewild\.net\/albums\/\d+\/$/,
        init: async () => {
            await fun.waitEle("#main-carousel-list img");
            fun.createImgBox(".grid", 2);
        },
        imgs: "#main-carousel-list img",
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.gt("h1.text-3xl"),
        category: "nsfw1"
    }, {
        name: "Share Cosplay",
        host: ["sharecosplay.com"],
        reg: /^https?:\/\/sharecosplay\.com\/(zh|en)\/cosplay\/\d+$/,
        init: async () => await fun.waitEle("img[variant='thumbnail']"),
        imgs: () => {
            let src = fun.attr("img[variant='thumbnail']", "src");
            let srcKey = src.split("/").at(-1);
            let code = fun.gst(srcKey);
            let imgKeys;
            if (/coverColumn/.test(code)) {
                imgKeys = code.match(/\\"images\\":\\"(\[[^\]]+\])/)[1].replaceAll("\\", "");
            } else {
                imgKeys = code.slice(23, -3).replaceAll("\\", "");
            }
            let imgKeysArr = JSON.parse(imgKeys);
            return imgKeysArr.map(key => "https://image.sharecosplay.com/" + key);
        },
        button: [4],
        insertImg: ["//div[@class='flex flex-col items-center'][div[div[a[img]]]] | //div[@class='flex flex-col items-center'][div[div[img]]]", 2, 1000],
        customTitle: () => fun.gt(".justify-between h2").replace(/\[\d+[\w\s\.\+-]+\]\s?/, "").trim(),
        viewMode: 1,
        category: "nsfw1"
    }, {
        name: "Share Cosplay 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/sharecosplay\.com\/(zh|en)\/(cosplays|cosers?|character)\/\d+/,
        delay: 1000,
        include: "//li[a[@aria-current]]/following-sibling::li[1]/a[not(@aria-label)]",
        Observer: new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.unobserve(entry.target);
                    setTimeout(() => {
                        entry.target.style.display = "none";
                    }, 500);
                }
            });
        }),
        autoPager: {
            mode: 1,
            waitEle: "img[variant='avatarThumbnail'],img[variant='avatar']",
            ele: "//nav[@aria-label='pagination']/preceding-sibling::*[1]",
            observer: "//nav[@aria-label='pagination']/preceding-sibling::*[1]",
            next: "a[aria-label='Go to next page']:not(.pointer-events-none)",
            re: "nav[aria-label='pagination']",
            title: doc => "Page " + fun.gt("a[aria-current='page']", 1, doc),
            history: 1,
            bF: doc => {
                doc.querySelectorAll("img[variant='avatarThumbnail'],img[variant='avatar']").forEach(img => img.className = "");
                doc.querySelectorAll("img[variant='cover']").forEach(img => img.className = "h-auto w-auto object-cover transition-all hover:scale-105 aspect-[3/4]");
            },
            aF: () => {
                document.querySelectorAll("div.object-cover").forEach(div => siteData.Observer.observe(div));
            }
        },
        css: ".autoPagerTitle{margin-bottom: 30px!important}",
        category: "autoPager"
    }, {
        name: "Nude Bird/Nude Cosplay",
        host: ["nudebird.biz", "nudecosplay.biz"],
        reg: () => /^https?:\/\/nudecosplay\.biz\/[^\/]+\/$|^https?:\/\/nudebird\.biz\/[^\/]+\/$/.test(siteUrl) && fun.ge("//p[a[img]]"),
        init: () => {
            let video = fun.ge(".online-video");
            if (video) {
                let x = fun.ge("//p[a[img]]");
                [...fun.gae(".online-video")].forEach(e => x.parentNode.insertBefore(e, x));
            }
        },
        imgs: ".thecontent a,.content-inner>p>a",
        button: [4],
        insertImg: ["//p[a[img]]", 2],
        customTitle: () => fun.gt("h1").replace(/\/nudecosplay\.biz\//, "").replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "Cosplaytele",
        host: ["cosplaytele.com"],
        reg: () => /cosplaytele\.com\/[^/]+\//.test(siteUrl) && fun.ge("figure.gallery-item"),
        imgs: "figure.gallery-item a",
        button: [4],
        insertImg: [".gallery", 2],
        customTitle: () => fun.gt("h1.entry-title").replace(/\s?“[^”]+”/, "").trim(),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "JimmysOnline.com",
        host: ["www.jimmysonline.com"],
        reg: /^https?:\/\/www\.jimmysonline\.com\/[^\/]+\/$/,
        include: "a.aigpl-img-link[data-mfp-src]",
        imgs: () => [...fun.gae("a.aigpl-img-link[data-mfp-src]")].map(a => a.dataset.mfpSrc),
        button: [4],
        insertImg: [".aigpl-gallery", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "gaidam18",
        host: ["gaidam18.com"],
        reg: () => /^https?:\/\/gaidam18\.com\/[^\/]+\/$/.test(siteUrl) && fun.ge("figure.gallery-item,.entry-content>div>a[href*='blogger'],.entry-content img[src*='/wp-content/uploads/']"),
        imgs: () => {
            if (fun.ge(".gallery-item img")) {
                return [...fun.gae(".gallery-item img")];
            } else if (fun.ge(".entry-content>div>a[href*='blogger']")) {
                return [...fun.gae(".entry-content>div>a[href*='blogger']")].map(a => {
                    let url = a.href;
                    let urlArr = url.split("/");
                    urlArr[urlArr.length - 2] = "s16000";
                    return urlArr.join("/");
                });
            } else if (fun.ge(".entry-content img[src*='/wp-content/uploads/']")) {
                return [...fun.gae(".entry-content img[src*='/wp-content/uploads/']")];
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [".gallery,.entry-content", 2],
        customTitle: () => fun.gt("h1.entry-title").replace("Ảnh sex ", "").replace(/\s?“[^”]+”|\(\d+ Pics\)/, "").trim(),
        css: "[class^='float']{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "Cosplay69",
        host: ["www.cosplay69.net", "cosplay69.net"],
        reg: /^https?:\/\/(www\.)?cosplay69\.net\/[^\/]+\/$/,
        include: "a[data-fancybox],.gallery-item a,.entry-content img[data-src][alt]",
        init: () => {
            fun.addMutationObserver(() => {
                document.documentElement.style.overflow = "";
                document.body.classList.remove("has-header-ad");
                document.body.classList.remove("tie-popup-is-opend");
                fun.remove("#tie-popup-adblock");
            });
            let iframe = fun.ge(".iframe-container,iframe[scrolling]");
            if (iframe) {
                let x = fun.ge(".entry-content");
                [...fun.gae(".iframe-container,iframe[scrolling]")].forEach(e => x.parentNode.insertBefore(e, x));
            }
        },
        imgs: "a[data-fancybox],.gallery-item a,.entry-content img[data-src][alt]",
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt("h1.entry-title"),
        category: "nsfw2"
    }, {
        name: "Cosplay69",
        reg: /^https?:\/\/(www\.)?cosplay69\.net\//,
        init: () => {
            fun.addMutationObserver(() => {
                document.documentElement.style.overflow = "";
                document.body.classList.remove("has-header-ad");
                document.body.classList.remove("tie-popup-is-opend");
                fun.remove("#tie-popup-adblock");
            });
        },
        category: "ad"
    }, {
        name: "X Cosplay",
        host: ["xcosplay.top"],
        reg: /xcosplay\.top\/\d+\/\d+\/\d+\//,
        imgs: ".galeria_img>img",
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt("h1.entry-title"),
        category: "nsfw1"
    }, {
        name: "CG Cosplay",
        host: ["cgcosplay.org"],
        reg: /^https?:\/\/cgcosplay\.org\/\d+\/$/,
        init: () => {
            let video = fun.ge(".fluid_video_wrapper");
            if (video) {
                let x = fun.ge(".gallery");
                [...fun.gae(".fluid_video_wrapper")].forEach(e => x.parentNode.insertBefore(e, x))
            }
        },
        imgs: ".gallery a",
        button: [4],
        insertImg: [".gallery", 2],
        autoDownload: [0],
        next: ".nav-previous a[rel=prev]",
        prev: ".nav-next a[rel=next]",
        customTitle: () => fun.gt(".elementor-heading-title"),
        category: "nsfw1"
    }, {
        name: "AsiaOnTop",
        host: ["asiaontop.com", "asiaon.top"],
        reg: () => /^https?:\/\/(asiaontop\.com|asiaon\.top)\/[^\/]+\/$/.test(siteUrl) && fun.ge(".modula-items"),
        init: () => fun.addMutationObserver(() => fun.remove("#mdpDeblocker-css")),
        imgs: "a[data-image-id]",
        button: [4],
        insertImg: [
            [".modula-items", 2, ".modula-items"], 2
        ],
        autoDownload: [0],
        next: "a#prepost",
        prev: "a#nextpost",
        customTitle: () => fun.gt(".single_post_title_main").replace(":", " -"),
        go: 1,
        category: "nsfw2"
    }, {
        name: "AsiaOnTop",
        reg: /^https?:\/\/(asiaontop\.com|asiaon\.top)\//,
        init: () => fun.addMutationObserver(() => fun.remove("#mdpDeblocker-css")),
        css: ".mdpDeblocker-wrapper,.mdpDeblocker-blackout.active{display:none!important;}[data-aos^=fade][data-aos^=fade]{opacity:1!important;transition-property:unset!important}[data-aos=fade-up]{transform:unset!important}",
        category: "ad"
    }, {
        name: "Mitaku",
        host: ["mitaku.net"],
        reg: /^https?:\/\/mitaku\.net\/.+\/.+\/$/,
        imgs: () => fun.ge("a.msacwl-img-link[data-mfp-src]") ? [...fun.gae("a.msacwl-img-link[data-mfp-src]")].map(a => a.dataset.mfpSrc).slice(1, -1) : [...fun.gae(".msacwl-img")].slice(1, -1),
        button: [4],
        insertImg: [
            [".article-content", 2], 2
        ],
        go: 1,
        autoDownload: [0],
        next: ".previous>a",
        prev: ".next>a",
        customTitle: () => fun.gt("h1.entry-title").replace(/.[\smitaku]{6,7}\.net./, "").trim(),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Cosplay World",
        host: ["cosplayworld.net"],
        reg: () => /^https?:\/\/cosplayworld\.net\/[^\/]+\/$/.test(siteUrl) && fun.ge(".entry-content"),
        imgs: () => {
            videosSrcArray = [...fun.gae("video.lazy")].map(e => e.dataset.src ?? e.src);
            return [...fun.gae(".entry-content img")];
        },
        button: [4],
        insertImg: [".entry-content", 2],
        go: 1,
        autoDownload: [0],
        next: ".g1-nav-single-prev a",
        prev: ".g1-nav-single-next a",
        customTitle: () => fun.gt(".entry-inner .entry-title").replace(/.mitaku\.net./, "").trim(),
        category: "nsfw2"
    }, {
        name: "Byoru",
        host: ["byoru.net"],
        reg: /^https?:\/\/byoru\.net\/[^\/]+\/$/,
        imgs: () => {
            if (fun.ge(".msacwl-slide>a")) {
                return [...fun.gae(".msacwl-slide>a")].map(a => a.dataset.mfpSrc).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]);
            } else if (fun.ge("figure.wp-block-image img[data-src]")) {
                return [...fun.gae("figure.wp-block-image img[data-src]")].map(e => e.dataset.src.replace(/-\d+x\d+(\.\w+)/, "$1")).sort((a, b) => {
                    try {
                        return a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1];
                    } catch (e) {
                        try {
                            return a.match(/\((\d+)\)\.\w+$/)[1] - b.match(/\((\d+)\)\.\w+$/)[1];
                        } catch (e) {
                            return a;
                        }
                    }
                });
            } else if (fun.ge(".galeria_img>img")) {
                return [...fun.gae(".galeria_img>img")];
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [".s-post-content", 2],
        autoDownload: [0],
        next: "a.next-page-link",
        prev: "a.prev-page-link",
        customTitle: () => fun.gt("h1.entry-title").replace(/Byoru – | \(Cosplay\)/g, ""),
        category: "nsfw1"
    }, {
        name: "NudesLegion",
        host: ["nudeslegion.com"],
        reg: () => /nudeslegion.com\/[^\/]+\/$/.test(siteUrl) && fun.ge(".msacwl-slider-wrap"),
        imgs: () => [...fun.gae(".msacwl-img")].slice(1, -1),
        button: [4],
        insertImg: [
            [".msacwl-slider-wrap", 2], 2
        ],
        customTitle: () => fun.gt("h1.entry-title").replace(/\([\w\/\s]+\)/i, "").trim(),
        css: "footer+script+div[id]{display:none!important}",
        category: "nsfw2"
    }, {
        name: "Gai.vn",
        host: ["www.gai.vn"],
        reg: /^https?:\/\/www\.gai\.vn\/[\w-]+$/,
        include: [
            "#content .gai-thumb>.vn-box",
            "a[data-fancybox='slide']"
        ],
        imgs: async () => {
            await fun.getNP(".gai-thumb", "li.page-item.active+li:not(.disabled)>a");
            fun.remove("//div[nav[@aria-label='Page navigation']]");
            thumbnailsSrcArray = [...fun.gae("a[data-fancybox='slide'] img")].map(e => e.dataset.src ?? e.src);
            return [...fun.gae("a[data-fancybox='slide']")];
        },
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.gt(".nav-breadcrumb>.nav-breadcrumb-item:last-child"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "imgcup.com",
        host: ["imgcup.com"],
        reg: /^https?:\/\/imgcup\.com\/[^\.]+\.html$/,
        init: () => fun.createImgBox(".penci-post-gallery-container", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".item-gallery-masonry>a img")].map(e => e.dataset.src ?? e.src);
            return [...fun.gae(".item-gallery-masonry>a")];
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".penci-post-gallery-container"], 2
        ],
        autoDownload: [0],
        next: ".prev-post-inner>a",
        prev: ".next-post-inner>a",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "Nude Babes",
        host: ["www.mzpic.com"],
        reg: /^https?:\/\/www\.mzpic\.com\/\d+\.html$/,
        init: () => fun.remove(".hide-img"),
        imgs: async () => {
            await fun.getNP("//div[@class='single-content']/p[img]", "//span[@class='post-page-numbers current']/following-sibling::a[1][span[@class='next-page']]", null, ".page-links");
            return [...fun.gae(".single-content img")];
        },
        button: [4],
        insertImg: [".single-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        autoClick: ".s-hide",
        category: "nsfw1"
    }, {
        name: "MissKON.com",
        host: ["misskon.com"],
        reg: /^https?:\/\/misskon\.com\/[^\/]+\/$/,
        imgs: () => fun.getImg(".entry img[decoding]", fun.gt(".page-link>*:last-child"), 4),
        button: [4],
        insertImg: ["//p[img[@decoding]]", 2],
        go: 1,
        customTitle: () => fun.gt("h1").replace(/\(\d+\s?photos?\s?(\+\s?\d+\s?videos?)?\)/gi, "").trim(),
        category: "nsfw1"
    }, {
        name: "Xiuren",
        host: ["xiuren.biz"],
        reg: () => /^https?:\/\/xiuren\.biz\/[^\/]+\//.test(siteUrl) && fun.ge(".content-inner a[data-lbwps-srcsmall],.content-inner a[rel=noopener]"),
        imgs: ".content-inner a[data-lbwps-srcsmall],.content-inner a[rel=noopener]",
        button: [4],
        insertImg: [".content-inner", 2],
        autoDownload: [0],
        next: "a.post.prev-post",
        prev: "a.post.next-post",
        customTitle: () => fun.gt("h1.jeg_post_title").replace(/\d+P/i, ""),
        category: "nsfw1"
    }, {
        name: "4KHD",
        host: ["www.4khd.com", "www.4kep.com", "xjav.cc", "hhhy.quest", "vxkk.cc", "rtlvmk.xxtt.info", "lfdxxb.xxtt.info"],
        reg: () => (/^\/\d+\/\d+\/\d+\/[^\.\/]+\.html$/.test(fun.lp) || /^\/content\/\d+\/[^\.\/]+\.html$/.test(fun.lp)) && fun.ge("//a[@rel='home'][text()='4KHD']"),
        imgs: async () => {
            /*
            await fun.getNP("#basicExample>a,figure.wp-block-image,.entry-content>p>a", ".current+li>a", null, ".page-link-box", 0, null, 1, 0);
            if (fun.ge("figure.wp-block-image>a")) {
                thumbnailsSrcArray = [...fun.gae("figure.wp-block-image>a>img")].map(e => e.src.replace(/\?w=\d+$/, "?w=100"));
                //return [...fun.gae("figure.wp-block-image>a")];
            } else if (fun.ge("#basicExample>a")) {
                thumbnailsSrcArray = [...fun.gae("#basicExample>a>img")].map(e => e.src.replace(/\?w=\d+$/, "?w=100"));
                //return fun.getImgA("#gallery a", "#basicExample>a");
            } else if (fun.ge(".entry-content>p>a")) {
                thumbnailsSrcArray = [...fun.gae(".entry-content>p>a>img")].map(e => e.src.replace(/\?w=\d+$/, "?w=100"));
                //return [...fun.gae(".entry-content>p>a")];
            } else {
                alert("Full Picture Load\nThe website may have been updated, please provide feedback.");
                return [];
            }
            */
            thumbnailsSrcArray = await fun.getImgA("figure.wp-block-image>a>img,#basicExample>a>img,.entry-content>p>a>img", ".page-link-box a").then(arr => arr.map(e => e.replace(/\?w=\d+$/, "?w=100")));
            return thumbnailsSrcArray.map(e => e.replace(/\/w\d+-rw\//, "/w7680-rw/").replace("?w=100", ""));
        },
        button: [4],
        insertImg: [
            [".page-link-box,.wp-block-post-content>*:last-child,#khd", 1, "#basicExample,.wp-block-image,.entry-content>p:not(#FullPictureLoadEnd),.page-link-box"], 2
        ],
        //autoDownload: [0],
        //next: ".post-navigation-link-previous>a",
        //prev: ".post-navigation-link-next>a",
        customTitle: () => fun.gt("h3.wp-block-post-title").replace(/\[\d+[\w\s\.\+-]+\]|\(\d+[\w\s\.\+-]+\)/gi, "").trim(),
        //fetch: 1,
        //threading: 4,
        CSP: 1,
        css: ".centbtd,.popup,.wp-container-13{display:none!important}.FullPictureLoadImage{max-width:100%!important}",
        category: "nsfw2"
    }, {
        name: "AsianPink",
        host: ["asianpink.net"],
        reg: /^https?:\/\/asianpink\.net\/[^\/]+\/$/,
        imgs: "a.e-gallery-item",
        button: [4],
        insertImg: ["//div[div[a[contains(@class,'e-gallery-item')]]][@class='elementor-widget-container']", 2],
        go: 1,
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt("h1.elementor-heading-title"),
        category: "nsfw1"
    }, {
        name: "Buon Dua",
        host: ["buondua.com", "buondua.us"],
        init: () => {
            fun.remove("//div[text()='Sponsored ads']");
            fun.remove(".search-form~*");
        },
        reg: /buondua\.(com|us)\/(?!hot|tag|collection)[^\?]+$/,
        imgs: () => fun.getImg(".article-fulltext img[alt]", fun.gt(".pagination-list>span:last-child>a").match(/\d+/)[0]),
        button: [4],
        insertImg: [".article-fulltext", 1],
        customTitle: () => fun.gt(".article-header>h1").replace(/\(\d+\s?photos\s?\)/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "BaoBua.Com",
        host: ["baobua.com"],
        reg: /^https?:\/\/baobua\.com\/post\/\w+\.html/i,
        imgs: async () => {
            let max;
            try {
                max = fun.gt(".article-header>h1").match(/Page\s?\d+\/(\d+)/i)[1];
            } catch (e) {
                max = 1;
            }
            let imgSrcs = /\?m=1/.test(siteUrl) ? await fun.getImg(".contentme img", max, "8") : await fun.getImg(".contentme img", max);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [".contentme", 2],
        customTitle: () => fun.gt(".article-header>h1").split("|")[0].trim(),
        category: "nsfw2"
    }, {
        name: "BaoBua.Net",
        host: ["www.baobua.net"],
        reg: /www\.baobua\.net\/post\/.+/,
        imgs: () => fun.getImg(".wp-block-image img[alt]", (fun.gt(".nav-links>*:last-child") || 1), 6),
        button: [4],
        insertImg: [".entry-content.read-details", 2],
        customTitle: () => fun.title("|", 1),
        category: "nsfw2"
    }, {
        name: "blog.baobua.net",
        host: ["www.baobua.net"],
        reg: /(blog|fb|vn)\.baobua\.net\/\w+\/.+/,
        imgs: "a.fancybox",
        button: [4],
        insertImg: [".article-body", 2],
        customTitle: () => fun.title("@BaoBua", 1),
        css: "#fix_scale img:hover{transform:none!important}",
        category: "nsfw2"
    }, {
        name: "HOTGIRLchina格式",
        host: ["hotgirlchina.com", "cutexinh.com", "babeasia.com", "anhnguoimau.com", "nongbong.com", "anhnguoidep.com", "anhdoitruy.com", "anhnguoilon.com"],
        reg: [
            /(hotgirlchina\.com|cutexinh\.com)\/.+(photos?|videos?|anh)?\/?/,
            /^https?:\/\/babeasia\.com\/\d+\//,
            /^https?:\/\/anhnguoimau\.com\/\d+\/[^\/]+\/$/,
            /^https?:\/\/nongbong\.com\/[^\/]+\/$/,
            /^https?:\/\/anhnguoidep\.com\/[^\/]+\/$/,
            /^https?:\/\/anhdoitruy\.com\/[^\/]+\/$/,
            /^https?:\/\/anhnguoilon\.com\/[^\/]+\/$/,
        ],
        include: ".entry-inner img[alt]",
        init: () => {
            let share = fun.ge(".entry.share");
            if (share) share.classList.remove("share");
        },
        imgs: () => {
            let max;
            try {
                max = fun.gt("span.pages").match(/\d+$/)[0];
            } catch (e) {
                max = 1
            }
            return fun.getImg(".entry-inner img[alt]", max, 4);
        },
        button: [4],
        insertImg: [
            [".pagination", 1, ".entry-inner>p:not(#FullPictureLoadEnd),.separator"], 2
        ],
        customTitle: () => fun.gt(".post-title").replace(/\(\d+\s?photos\s?\)|(\s?\(\d+\s?photos?\s?\+\s?\d+\s?videos?\))|\([0-9\s]+ảnh[0-9\s\+]+video\)|\([0-9\s]+ảnh.*\)|\/mitaku\.net\//i, "").trim(),
        css: ".boxzilla-container,.boxzilla-overlay,.sharrre-container{display:none!important}",
        category: "nsfw1"
    }, {
        name: "HOTGIRLchina 格式 AD",
        reg: /(hotgirlchina\.com|cutexinh\.com|babeasia\.com|anhnguoimau\.com|nongbong\.com|anhnguoidep|anhnguoilon\.com)\//,
        css: ".boxzilla-container,.boxzilla-overlay,.sharrre-container{display:none!important}",
        category: "ad"
    }, {
        name: "FoamGirl",
        host: ["foamgirl.net"],
        reg: /foamgirl\.net\/\d+\.html/,
        imgs: () => {
            let max;
            try {
                max = fun.gt(".mbx-nav-right").match(/\d+\/(\d+)/)[1];
            } catch (e) {
                max = 1;
            }
            return fun.getImg("a.imageclick-imgbox", max, 9);
        },
        button: [4],
        insertImg: [
            ["#image_div>*:last-child", 1, "#image_div br,a.imageclick-imgbox"], 2
        ],
        customTitle: () => fun.gt(".item_title>h1").replace(/\(\d+P\)|\n/gi, ""),
        css: ".affs{display:none!important}",
        category: "nsfw2"
    }, {
        name: "photo.camcam.cc",
        host: ["photo.camcam.cc"],
        reg: /photo\.camcam\.cc\/[^/]+\/$/,
        init: () => fun.createImgBox(".entry-content"),
        imgs: "a.rgg-img",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".rgg-container"], 2
        ],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt(".page-title").replace(/\[\d+P-?\d+MB?\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "3600000 Beauty",
        host: ["3600000.xyz"],
        reg: /^https?:\/\/3600000\.xyz\/[^\/]+\/$/,
        imgs: () => {
            if (fun.ge("//a[img[@file]]")) {
                return [...fun.gae("//a[img[@file]]")];
            } else if (fun.ge(".entry-content img.ls_lazyimg[file]")) {
                return [...fun.gae(".entry-content img.ls_lazyimg[file]")].map(e => e.getAttribute("file"));
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "Big Boobs Asia",
        host: ["www.tokyobombers.com"],
        reg: /^https?:\/\/www\.tokyobombers\.com\/\d+\/\d+\/\d+\/[^\/]+\/$/,
        imgs: "a[itemprop='contentURL']",
        button: [4],
        insertImg: [".gallery", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "Erogirl",
        host: ["erogirl.net"],
        reg: /^https?:\/\/erogirl\.net\/p\//,
        init: async () => {
            let fetchJson = await fun.fetchDoc(fun.url).then(doc => {
                let data = fun.gt("#__NEXT_DATA__", 1, doc);
                let json = JSON.parse(data);
                return json;
            });
            debug("\n此頁JSON資料\n", fetchJson);
            siteJson = fetchJson;
        },
        imgs: () => {
            thumbnailsSrcArray = siteJson.props.pageProps.post.content.data.map(e => e.attributes.formats.thumbnail.url);
            return siteJson.props.pageProps.post.content.data.map(e => e.attributes.formats.serving_2560.url);
        },
        button: [4],
        insertImg: [".content-img", 2],
        insertImgAF: () => {
            let loop = setInterval(() => !fun.ge(".FullPictureLoadImage") ? fun.immediateInsertImg() : null, 500);
            setTimeout(() => clearInterval(loop), 10000);
        },
        go: 1,
        customTitle: () => siteJson.props.pageProps.post.title,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "Everia.club",
        host: ["everia.club"],
        reg: /(everia\.club|everiaeveria\.b-cdn\.net)\/\d+\/\d+\/\d+\/[^/]+\//,
        imgs: () => {
            if (fun.ge(".wp-block-image img")) {
                return [...fun.gae(".wp-block-image img")];
            } else if (fun.ge(".separator>a.no-lightbox")) {
                return [...fun.gae(".separator>a.no-lightbox")];
            } else {
                return [...fun.gae(".entry-content img")];
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "Everia club",
        host: ["www.everiaclub.com"],
        reg: () => /^https?:\/\/www\.everiaclub\.com\/(?!tags).+/.test(siteUrl) && !fun.indexOf(siteUrl, ".html"),
        imgs: ".mainleft img",
        button: [4],
        insertImg: [".mainleft", 2],
        customTitle: () => fun.gt(".mainleft h1"),
        category: "nsfw2"
    }, {
        name: "SexyGirl",
        host: ["sexygirl.cc"],
        reg: /sexygirl\.cc\/a\/\d+\.html|^https?:\/\/sexygirl\.cc\/photo\/([\w-]+\/)?a\/\d+\.html$/,
        imgs: "div>img.img-f1luid,div>img.img-fluid",
        button: [4],
        insertImg: ["//div[img]", 2],
        next: "//a[text()='Previous']",
        prev: "//a[text()='Next']",
        category: "nsfw2"
    }, {
        name: "Căng Cực",
        host: ["cangcuc.com"],
        reg: /^https?:\/\/cangcuc\.com\/[^\/]+\/[^\/]+\/$/,
        imgs: ".royal_grid a",
        button: [4],
        insertImg: [
            [".royal_grid", 2, ".royal_grid"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: ".widget-previous-post a",
        prev: ".widget-next-post a",
        customTitle: () => fun.gt("h1.title"),
        category: "nsfw1"
    }, {
        name: "Porn Pics",
        host: ["www.pornpics.com"],
        reg: /www\.pornpics\.\w+\/.*galleries\//,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#tiles a.rel-link>img")].map(e => e.dataset.src);
            return [...fun.gae("#tiles a.rel-link")];
        },
        button: [4],
        insertImg: ["#main", 3],
        customTitle: () => fun.gt(".title-section h1"),
        category: "nsfw2"
    }, {
        name: "HD Porn Pictures",
        host: ["hdpornpictures.net"],
        reg: /^https?:\/\/hdpornpictures\.net\/id\/\d+\//,
        imgs: () => {
            let imgs = [...fun.gae("#tiles a.rel-link")].map(a => a.href);
            thumbnailsSrcArray = imgs.map(e => e + "?w=300");
            return imgs;
        },
        button: [4],
        insertImg: ["#main", 3],
        customTitle: () => fun.title(" - HD Porn Pictures"),
        category: "nsfw2"
    }, {
        name: "Hot Sex Picture",
        host: ["www.hotzxgirl.com"],
        reg: /^https?:\/\/www\.hotzxgirl\.com\/\w+\/[^\.]+\.htm$/,
        exclude: "p[class='404info']",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#connbox .im-main-rec>a>img")].map(e => e.src);
            return [...document.querySelectorAll("#connbox .im-main-rec>a")].map(a => "http://" + a.href.split("/").at(-1).replaceAll("*", "/").replace(".asp", "").replace(/-\d+x\d+\./, "."));
        },
        button: [4],
        insertImg: ["#connbox", 2],
        customTitle: () => fun.title(" | Hot Sex Picture"),
        css: "#connbox{height:auto!important}",
        category: "nsfw2"
    }, {
        name: "Freebigtit",
        host: ["www.freebigtitpornpics.com"],
        reg: /www\.freebigtitpornpics\.com\/content\/\d+\//,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("ul#dylan a>img[data-src]")].map(e => e.dataset.src);
            return [...fun.gae("//ul[@id='dylan']//a[img[@data-src]]")];
        },
        button: [4],
        insertImg: [
            ["#dylan", 2], 1
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "Freejappic",
        host: ["www.freejapanpornpics.com"],
        reg: /www\.freebigtitpornpics\.com\/content\/\d+\//,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("ul#dylan a>img[data-src]")].map(e => e.dataset.src);
            return [...fun.gae("//ul[@id='dylan']//a[img[@data-src]]")];
        },
        button: [4],
        insertImg: [
            ["#dylan", 2], 1
        ],
        category: "nsfw2"
    }, {
        name: "NongMo.Zone",
        host: ["www.ilovexs.com", "ilovexs.com"],
        reg: [
            /^https?:\/\/(www\.)?ilovexs\.com\/post_id\/\d+\//,
            /^https?:\/\/(www\.)?ilovexs\.com\/post\/[^\/]+\//,
        ],
        imgs: ".separator img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "idol.gravureprincess.date",
        host: ["idol.gravureprincess.date"],
        reg: /idol\.gravureprincess\.date\/\d+\/\d+\/.+\.html/,
        imgs: ".separator img",
        button: [4],
        insertImg: [
            [".entry-content", 0], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "a.blog-pager-older-link",
        prev: "a.blog-pager-newer-link",
        customTitle: () => fun.gt(".post-title"),
        category: "nsfw2"
    }, {
        name: "劍心回憶",
        host: ["kenshin.hk"],
        link: "https://kenshin.hk/category/jnews/photoalbum/",
        reg: /kenshin\.hk\/\d+\/\d+\/\d+\/[^/]+\/(#small-1)?$/,
        include: "//div[@class='entry-utility']/a[1][text()='寫真組圖'] | //div[@class='cat-tags']/a[1][text()='寫真組圖']",
        init: async () => {
            let p = fun.ge("//p[contains(text(),'寫真')]");
            if (p) {
                let tE = fun.ge(".entry-content,.post-page-content");
                tE.parentNode.insertBefore(p, tE);
            }
            let links = [...fun.gae("//a[button[contains(text(),'寫真')]]")].map(e => e.href);
            await fun.getEle(links, ".entry-content>p>img,.post-page-content>p>img,.videoWrapper", ".entry-content,.post-page-content");
            let v = fun.ge(".videoWrapper");
            if (v) {
                let tE = fun.ge(".entry-content,.post-page-content");
                tE.parentNode.insertBefore(v, tE);
            }
        },
        imgs: ".entry-content>img,.post-page-content>img",
        button: [4],
        insertImg: [".entry-content,.post-page-content", 2],
        go: 1,
        customTitle: () => fun.gt("h1.entry-title,h2.post-title").replace(/【寫真】|\s?\(\d+P,片\)/gi, ""),
        category: "nsfw1"
    }, {
        name: "千葉熊的出沒地/CyberKuma的部落格",
        host: ["chibakuma.pixnet.net", "cyberkuma.pixnet.net"],
        link: "https://www.pixnet.net/pcard/ChibaKuma",
        reg: [
            /^https?:\/\/chibakuma\.pixnet\.net\/blog\/post\/\d+/,
            /^https?:\/\/cyberkuma\.pixnet\.net\/blog\/post\/\d+/
        ],
        imgs: "#article-content-inner img,.article-content-inner img",
        button: [4],
        insertImg: ["#article-content-inner,.article-content-inner", 2],
        customTitle: () => fun.gt(".title  a,.header-title>div"),
        category: "nsfw1"
    }, {
        name: "J M G T",
        host: ["www.qiuyeshudian.com"],
        reg: /^https?:\/\/www\.qiuyeshudian\.com\/[^\/]+\/$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".feature-box img,.entry-content img")].map(e => e.dataset.src ?? e.src);
            return thumbnailsSrcArray.length > 1 ? thumbnailsSrcArray.map(e => e.replace(/\?w=\d+&ssl=1/, "").replace(/\?resize.+/, "")) : [];
        },
        button: [4],
        insertImg: [".entry-content", 2],
        go: 1,
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt("article h1").replace(/（\d+Photos）\s|\（\d+Photos\)\s|\d+Photos\s|\d+\spics|\(选登\)|（选登\d+P）/, ""),
        category: "nsfw1"
    }, {
        name: "J M G T的AList",
        host: ["alist.qiuyeshudian.com"],
        reg: /^https?:\/\/alist\.qiuyeshudian\.com\/[^\/]+\/[^\/]+\/.+/,
        init: async () => {
            await fun.waitEle("div.list");
            fun.createImgBox(".body");
        },
        imgs: () => fun.getAList(),
        repeat: 1,
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 3],
        go: 1,
        observerTitle: true,
        downloadVideo: true,
        customTitle: () => fun.title(" | AList").replace(/\s?\d+p\s?|\[\d+[\w\s\.\+-]+\]/i, "").replace(/（\d+Photos）\s|\（\d+Photos\)\s|\d+Photos\s|\d+\spics|\(选登\)|（选登\d+P）/, ""),
        category: "nsfw1"
    }, {
        name: "Gravia",
        host: ["gravia.site"],
        reg: /gravia\.site\/box\/show\.php\?id=\d+$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".thums img")].map(e => e.src);
            return [...fun.gae(".slideshow .item>img")];
        },
        button: [4],
        insertImg: [".slideshow.for_box", 2],
        customTitle: () => fun.gt(".container>h1").replace(/\s?【\d+枚】/, ""),
        css: "img.small{max-width:100% !important;max-height:auto !important}.cmd_bar.wide{display:none!important}",
        category: "nsfw1"
    }, {
        name: "NEWSグラビアアイドル.net",
        host: ["news.idolsenka.net"],
        reg: /^https?:\/\/news\.idolsenka\.net\/archives\/\d+/,
        init: () => fun.createImgBox("#jp-relatedposts", 1),
        imgs: () => {
            if (fun.ge(".entry-content a[href*='/wp-content/uploads/']")) {
                return [...fun.gae(".entry-content a[href*='/wp-content/uploads/']")];
            } else if (fun.ge(".entry-content a[href*='blogger']")) {
                return [...fun.gae(".entry-content a[href*='blogger']")].map(a => {
                    let url = a.href;
                    let urlArr = url.split("/");
                    urlArr[urlArr.length - 2] = "s16000";
                    return urlArr.join("/");
                });
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//p[a[img]]"], 2
        ],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "グラビア週刊誌 9/グラビア週刊誌 5/グラビア週刊誌 6",
        host: ["gravurezasshi9.doorblog.jp", "magazinejapanese5.blog.jp", "magazinejapanese6.blog.jp"],
        reg: /(gravurezasshi9\.doorblog\.jp|magazinejapanese(5|6)\.blog\.jp)\/archives\/\d+\.html(\?ref=)?/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".article-body-inner>a>img,#article-contents>a>img")].map(e => e.src);
            return [...fun.gae(".article-body-inner>a,#article-contents>a")];
        },
        button: [4],
        insertImg: [".article-body-inner,#article-contents", 2],
        autoDownload: [0],
        next: "//li[text()='前の記事： ']/a | //a[text()='前の記事']",
        prev: "//li[text()='次の記事： ']/a | //a[text()='次の記事']",
        customTitle: () => fun.gt("h1.article-title>a,.article-header>h1").trim(),
        category: "nsfw1"
    }, {
        name: "グラビア週刊誌 9/グラビア週刊誌 5/グラビア週刊誌 6 - 分類自動翻頁",
        host: ["gravurezasshi9.doorblog.jp", "magazinejapanese5.blog.jp", "magazinejapanese6.blog.jp"],
        reg: /^https?:\/\/(gravurezasshi9\.doorblog\.jp|magazinejapanese(5|6)\.blog\.jp)\/(\?p=\d+)?$|^https?:\/\/(gravurezasshi9\.doorblog\.jp|magazinejapanese(5|6)\.blog\.jp)\/archives\/([\d-]+|cat_\d+)\.html(\?p=\d+)?$/,
        autoPager: {
            ele: ".autopagerize_page_element,.article-list-outer",
            observer: "article.article,.article-list-outer>li",
            next: "//li[@class='current']/following-sibling::li[1]/a | //a[span[text()='次へ']]",
            re: ".pager,.pager_fixed,.fractional-page",
            history: 1,
            title: doc => "Page " + nextLink.match(/\?p=(\d+)/)[1]
        },
        openInNewTab: ".autopagerize_page_element a[href]:not([target=_blank]),.article-list-outer a[href]:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "Gravure Idols",
        host: ["gravureidols.top"],
        reg: /^https?:\/\/gravureidols\.top\/\d+\/\d+\/\d+\/[^\/]+\/$/,
        imgs: ".content-inner>div:not(.apss-social-share) a",
        button: [4],
        insertImg: [
            ["//p[a[img]]", 2, "//p[a[img]]"], 1
        ],
        go: 1,
        autoDownload: [0],
        next: ".jeg_prevnext_post a",
        prev: ".jeg_prevnext_post a",
        customTitle: () => fun.gt(".jeg_post_title"),
        category: "nsfw1"
    }, {
        name: "エロ役場",
        host: ["eroyakuba.com"],
        reg: /eroyakuba\.com\/[^/]+\/$/,
        imgs: () => {
            return [...fun.gae(".flexitem_content img[srcset],.entry-content img[srcset]")].map(img => {
                if (img.dataset.srcset !== "") {
                    let splitArr = img.dataset.srcset.split(",");
                    splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                    return splitArr.at(-1).trim().split(" ")[0];
                }
                return img.dataset.src ?? null;
            });
        },
        capture: () => siteData.imgs(),
        customTitle: () => fun.gt("h1.entry-title"),
        category: "nsfw2"
    }, {
        name: "エロ画像まとめ",
        host: ["geinou-nude.com"],
        reg: /^https?:\/\/geinou-nude\.com\/[^\/]+\/(#.*)?$/,
        imgs: ".post_content a[href*='/uploads/']",
        autoDownload: [0],
        next: "a.nav_link_l",
        prev: "a.f_row_r",
        customTitle: () => fun.gt("h1.post_title"),
        category: "nsfw2"
    }, {
        name: "裏ピク",
        host: ["www.urapic.com"],
        reg: /^https?:\/\/www\.urapic\.com\/blog-entry-\d+\.html/,
        imgs: "//div[@class='entry-body']//a[img[@title]] | //div[@class='entry_body']//a[img[@title]]",
        customTitle: () => fun.gt(".entry-title,.entry_title>h1").replace(/[ｗ]+$/, ""),
        category: "nsfw2"
    }, {
        name: "Gravure",
        host: ["Idols gravureidols.top"],
        reg: /gravureidols\.top\/\d+\/\d+\/\d+\/[^/]+\//,
        imgs: ".content-inner p>a",
        autoDownload: [0],
        next: "a.prev-post",
        prev: "a.next-post",
        customTitle: () => fun.gt(".jeg_post_title"),
        category: "nsfw2"
    }, {
        name: "復刻書林",
        host: ["reprint-kh.com"],
        reg: /reprint-kh\.com\/archives\/\d+/,
        imgs: async () => {
            if (fun.ge(".gallery-row")) {
                await fun.getNP(".gallery-row", "//a[span[text()='次のページ']]");
            }
            if (fun.ge(".ngg-gallery-thumbnail-box")) {
                await fun.getNP(".ngg-gallery-thumbnail-box", "span.current+a");
            }
            thumbnailsSrcArray = [...fun.gae(".tiled-gallery a img,.ngg-gallery-thumbnail-box a img")].map(e => e.src);
            return [...fun.gae(".tiled-gallery a,.ngg-gallery-thumbnail-box a")];
        },
        button: [4],
        insertImg: [
            [".single-post-main>.share,.single-post-main .content", 2], 2
        ],
        go: 1,
        autoDownload: [0],
        next: ".previous_post>a",
        prev: ".next_post>a",
        customTitle: () => fun.gt(".single-post-title").replace(/\d+photos/, "").trim(),
        category: "nsfw2"
    }, {
        name: "マブい女画像集",
        host: ["mabui-onna.com"],
        reg: /^https?:\/\/mabui-onna\.com\/blog-entry-\d+\.html/,
        init: () => {
            let texts = [...fun.gae("//div[@class='entry_body']//div[not(br)][not(a[img])][not(@class='fc2_footer')][not(@class='topentry_text')][not(@class='fc2button-clap')][not(@class='entry_footer')][not(@class='entry_data')]")];
            if (texts.length > 0) {
                let te = fun.ge(".topentry_text,.entry_body");
                texts.forEach(e => te.parentNode.insertBefore(e, te));
            }
        },
        imgs: ".topentry_text div>a:not([href*='.html']),.entry_body div>a:not([href*='.html'])",
        button: [4],
        insertImg: [".topentry_text,.entry_body", 2],
        autoDownload: [0],
        next: "a.pager_next,.next_entry>a",
        prev: "a.pager_prev,.prev_entry>a",
        customTitle: () => fun.gt(".topentry_title span,.entry_title h1>strong").replace(/\d+枚/, "").replace(/\s\s/g, " ").trim(),
        category: "nsfw1"
    }, {
        name: "美女の集い",
        host: ["bizyonotudoi.com"],
        reg: /^https?:\/\/bizyonotudoi\.com\/d\/\d+\.html$/,
        imgs: ".thumb-img-area>img",
        button: [4],
        insertImg: [".kizi-thumb-list", 2],
        customTitle: () => fun.gt(".page-title"),
        css: "#pagemap-navi{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "ぷるるんお宝画像庫",
        link: "http://blog.livedoor.jp/pururungazou/",
        reg: () => !hasTouchEvents && /^https?:\/\/blog\.livedoor\.jp\/pururungazou\/archives\/\d+\.html$/.test(fun.url),
        imgs: () => {
            videosSrcArray = [...fun.gae("video[src]")].map(e => e.src);
            return [...fun.gae(".entry-content img[src*='/pururungazou/imgs/']")].map(e => e.src.replace(/-s(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".article-body-more", 3],
        customTitle: () => fun.gt(".entry-title"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "ぷるるんお宝画像庫M",
        link: "http://blog.livedoor.jp/pururungazou/",
        reg: () => hasTouchEvents && /^https?:\/\/blog\.livedoor\.jp\/pururungazou\/archives\/\d+\.html$/.test(fun.url),
        imgs: () => {
            videosSrcArray = [...fun.gae("video[src]")].map(e => e.src);
            return [...fun.gae(".article-body img[src*='/pururungazou/imgs/']")].map(e => e.src.replace(/-s(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".article-body", 3],
        customTitle: () => fun.gt(".article-title"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Love Asian Babes",
        host: ["amazon-love.com"],
        reg: /^https?:\/\/amazon-love\.com\/[^.]+\.html/,
        imgs: () => {
            let max = fun.gt("//a[text()='Next Page »']", 2) || 1;
            return fun.getImg(".entry-content img", max, 7);
        },
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "span.prev>a",
        prev: "span.next>a",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "ドッグ速報",
        host: ["dog-sokuhou.com"],
        reg: /^https?:\/\/dog-sokuhou\.com\/archives\/\d+\/[^\/]+\//,
        imgs: ".eye-catch>img,.wp_rss_scrapeing_post-content div>a",
        button: [4],
        insertImg: [".wp_rss_scrapeing_post-content", 2],
        customTitle: () => fun.gt(".entry-title").replace(/\d+枚/, "").replace(/\s\s/g, " ").trim(),
        css: "#oxzilla-overlay,boxzilla-overlay{display:none!important}",
        category: "nsfw1"
    }, {
        name: "Permanent Bachelor",
        host: ["www.saladpuncher.com"],
        reg: /^https?:\/\/www\.saladpuncher\.com\/\d+\/\d+\/[^\/]+\//,
        init: () => fun.createImgBox(".entry-container", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".rsTmb>img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/-\d+x\d+(\.\w+)$/, "$1"))
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt(".posttitle"),
        category: "nsfw1"
    }, {
        name: "IVPhoto_Gravure",
        host: ["ivphoto.tistory.com"],
        reg: /ivphoto\.tistory\.com\/(m\/)?\d+/,
        imgs: ".imageblock img",
        button: [4],
        insertImg: [".entry-content,.blogview_content", 3],
        customTitle: () => fun.gt(".tit_blogview,.hgroup h1").replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "MIC MIC IDOL",
        host: ["www.micmicidol.club"],
        reg: /www\.micmicidol\.club\/\d+\/\d+\/.+\.html/,
        imgs: async () => {
            let imgsSrcArr = [...fun.gae(".entry-content a[href*=blog]")].map(a => {
                let arr = a.href.split("/");
                if (arr.length === 9) {
                    arr[7] = "s16000";
                    return arr.join("/");
                } else {
                    return a.href;
                }
            });
            thumbnailsSrcArray = imgsSrcArr.map(e => e.replace("/s16000/", "/w100/"));
            return imgsSrcArr;
        },
        button: [4],
        insertImg: [
            [".entry-content", 0, ".entry-content a[href*=blog]:not([data-fancybox]),.entry-content br"], 2
        ],
        customTitle: () => fun.gt(".entry-title").trim(),
        topButton: true,
        css: ".post img{max-width:100% !important}.post-body{margin:0px!important;}",
        category: "nsfw2"
    }, {
        name: "MIC MIC IDOL - 分類自動翻頁",
        host: ["www.micmicidol.club"],
        reg: /^https?:\/\/www\.micmicidol\.club\/(\?m=1)?$|^https?:\/\/www\.micmicidol\.club\/search/,
        include: ".date-outer",
        init: () => fun.run("$('.snips-image').unbind();$('.snips-image img').unbind();"),
        autoPager: {
            ele: ".blog-posts",
            next: "a.blog-pager-older-link",
            http: "https",
            observer: ".post.hentry",
            re: "#blog-pager",
            stop: doc => fun.ge(".date-outer", doc) ? false : true,
            history: 1,
            aF: () => {
                [...fun.gae("//div[@class='snips-image']/a[not(img)]")].forEach(a => {
                    let script = fun.ge("script", a);
                    if (script) {
                        let code = script.innerText;
                        if (/document\.write/.test(code)) {
                            let [, url, , alt] = code.split('"');
                            let img = new Image();
                            img.src = url.replace("/s72-c/", "/w400/").replace("=s72-c", "=w400");
                            img.alt = alt;
                            script.parentNode.insertBefore(img, script.nextSibling);
                        }
                    }
                });
            },
            title: () => {
                let num;
                /start=/.test(nextLink) ? num = parseInt(nextLink.match(/start=(\d+)/)[1], 10) / 50 + 1 : num = 1;
                return "Page " + num;
            }
        },
        openInNewTab: ".date-outer a[href]:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "Kemono/Coomer",
        host: ["kemono.su", "coomer.su"],
        link: "https://kemono.su/fantia/user/17148/post/1633768",
        reg: /(kemono\.party|kemono\.su|coomer\.party|coomer\.su)\/.+\/post/,
        delay: 1000,
        include: "a.fileThumb.image-link",
        init: () => fun.createImgBox(".post__body", 2),
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source")].map(e => e.src);
            thumbnailsSrcArray = [...fun.gae("a.fileThumb.image-link>img")].map(e => {
                if (e.dataset.src) {
                    return /^\/\//.test(e.dataset.src) ? location.protocol + e.dataset.src : e.dataset.src;
                } else {
                    return e.src;
                }
            });
            return [...fun.gae("a.fileThumb.image-link")];
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        autoDownload: [0],
        next: "a.next",
        prev: "a.prev",
        customTitle: () => fun.gt(".post__title"),
        downloadVideo: true,
        topButton: true,
        threading: 2,
        fetch: 1,
        category: "nsfw2"
    }, {
        name: "Nekohouse",
        host: ["nekohouse.su"],
        reg: /nekohouse\.su\/.+\/post\/\d+/,
        delay: 1000,
        include: "div.fileThumb[href]",
        init: () => fun.createImgBox(".scrape__body", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("div.fileThumb>img")].map(e => {
                if (e.dataset.src) {
                    return /^\/\//.test(e.dataset.src) ? location.protocol + e.dataset.src : e.dataset.src;
                } else {
                    return e.src;
                }
            });
            return [...fun.gae("div.fileThumb[href]")].map(e => fun.lo + e.getAttribute("href"));
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt(".scrape__title"),
        topButton: true,
        threading: 2,
        fetch: 1,
        category: "nsfw2"
    }, {
        name: "半次元",
        host: ["bcy.net"],
        reg: /bcy\.net\/item\/detail\/\d+\?_source_page=\w+/,
        imgs: ".inner-container img",
        customTitle: () => fun.title(" - ", 1),
        category: "none"
    }, {
        name: "套图之家",
        host: ["www.taotuhome.com", "taotuhome.com"],
        reg: /taotuhome\.com\/\d+\.html/i,
        imgs: () => fun.getImg(".single-content img[alt]", (fun.gt(".page-links>*:last-child", 2) || 1), 7),
        button: [4],
        insertImg: [".single-content", 2],
        autoDownload: [0],
        next: "a[rel=prev]:not([href^=j])",
        prev: "a[rel=next]:not([href^=j])",
        customTitle: () => fun.gt(".entry-title").replace("-套图之家", ""),
        category: "nsfw1"
    }, {
        name: "套图之家",
        host: ["www.taotuzj.com"],
        reg: /^https:\/\/(www\.)?taotuzj\.com\/\w+\/\d+\.html$/i,
        imgs: () => {
            let max = fun.ge("//a[text()='尾页']").href.match(/_(\d+)\.html$/)[1];
            let links = fun.arr(max).map((_, i) => i == 0 ? fun.url : fun.url.replace(".html", "") + `_${i+1}.html`);
            return fun.getImgA(".content img[alt]", links);
        },
        button: [4],
        insertImg: [".content", 2],
        customTitle: () => fun.title(/-套图之家.*$/),
        category: "nsfw1"
    }, {
        name: "套图之家M",
        host: ["m.taotuzj.com"],
        reg: /^https:\/\/m\.taotuzj\.com\/\w+\/\d+\.html$/i,
        imgs: () => {
            let max = fun.gt("a.allpage").match(/\d+$/)[0];
            let links = fun.arr(max).map((_, i) => i == 0 ? fun.url : fun.url.replace(".html", "") + `_${i+1}.html`);
            return fun.getImgA(".content img[alt]", links);
        },
        button: [4],
        insertImg: [".content", 2],
        customTitle: () => fun.title(/-套图之家.*$/),
        category: "nsfw1"
    }, {
        name: "俊美图",
        host: ["www.meijuntu.com", "www.junmeitu.com", "www.jeya.de", "www.jeya.jp"],
        reg: () => /((www\.)?meijuntu\.com|(www\.)?junmeitu\.com|(www\.)?jeya\.\w+)\/\w+\/\w+\.html/i.test(siteUrl) && fun.ge(".pictures img"),
        imgs: async () => {
            let imgsArr = [];
            let max = fun.gt("#pages>*:last-child", 2) || 1;
            let url = siteUrl.replace(/(-\d+)?\.html$/, "");
            let links = fun.arr(max).map((_, i) => url + "-" + (i + 1) + ".html")
            for (let i = 0; i < links.length; i++) {
                let doc = await new Promise(async resolve => {
                    for (let check = 1; check <= 100; check++) {
                        let res = await fetch(links[i]);
                        if (res.status == 304 || res.status == 200) {
                            let buffer = await res.arrayBuffer();
                            let decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                            let htmlText = decoder.decode(buffer);
                            let doc = fun.doc(htmlText);
                            resolve(doc);
                            break;
                        } else {
                            fun.showMsg(`第${parseInt(i, 10) + 1}頁${res.status}重試第${check}次`, 2900);
                            await fun.delay(3000, 0);
                        }
                    }
                });
                let imgs = [...fun.gae(".pictures img", doc)];
                let te = [...fun.gae(".pictures img")].at(-1);
                imgs.forEach(e => {
                    imgsArr.push(e.cloneNode(true));
                    if (i != 0) te.parentNode.insertBefore(e.cloneNode(true), te.nextSibling);
                });
                if (i != 0) {
                    let ne = [...fun.gae("#pages")];
                    let re = [...fun.gae("#pages", doc)];
                    if (ne.length == re.length) {
                        for (let i in ne) {
                            ne[i].outerHTML = re[i].outerHTML;
                        }
                    }
                }
                await fun.delay(1000, 0);
            }
            return imgsArr;
        },
        button: [4],
        insertImg: [".pictures", 1],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/following-sibling::a",
        prev: "//span[contains(text(),'上一')]/following-sibling::a",
        customTitle: () => fun.gt("h1.title"),
        css: ".pre_picture,.next_picture{display:none!important}",
        category: "nsfw1"
    }, {
        name: "x6o",
        host: ["x6o.com"],
        link: "https://x6o.com/topics/14#articles",
        reg: /(www\.)?x6o\.com\/articles\/\d+/,
        init: async () => await fun.waitEle(".content img:not([src*='loading.gif']),#vjs_video_3_html5_api"),
        imgs: () => {
            if (fun.ge("a[data-fancybox]")) {
                return [...fun.gae("a[data-fancybox]")];
            } else {
                fun.showMsg("fun.xhrHEA(check)...", 0);
                let xhrNum = 0;
                return [...fun.gae(".content img")].map(async (img, i, arr) => {
                    let src = img.dataset.original ?? img.src;
                    if (/^\/upload\/image\//.test(src)) {
                        return location.origin + src;
                    } else if (!/^http|^\/\//.test(src)) {
                        let testSrc = "https://telegra.ph/file/" + src;
                        let res = await fun.xhrHEAD(testSrc);
                        fun.showMsg(`fun.xhrHEAD(${xhrNum+=1}/${arr.length})`, 0);
                        let status = res.status;
                        return status == 404 ? src : testSrc;
                    } else {
                        return img;
                    }
                });
            }
        },
        button: [4],
        insertImg: [".content", 2],
        customTitle: () => fun.gt("h1.title").replace(/\[\d+P-\d+MB\]|\[\d+P\]|\s?\d+P$/gi, "").trim(),
        category: "nsfw2"
    }, {
        name: "妹子图",
        host: ["mt316.com"],
        reg: /mt316\.com\/\w+\/\d+\.html/,
        imgs: ".m-list-content img",
        button: [4],
        insertImg: [".m-list-content", 2],
        autoDownload: [0],
        next: ".sxpage_l>a",
        prev: 1,
        customTitle: () => fun.gt(".m-list-tools>h2").replace(/\/?\(\d+P\)/i, "").trim(),
        css: ".m-list-content img{max-width:100%!important}",
        category: "nsfw1"
    }, {
        name: "心动美图",
        host: ["www.wai76.com", "www.wai77.com"],
        reg: () => /^https?:\/\/www\.wai\d{2}\.com\/[^\/]+\//.test(siteUrl) && fun.ge(".entry-content div[data-src]"),
        imgs: async () => {
            let divDataSrcs = await fun.getImgA(".entry-content div[data-src]", ".page-links a");
            thumbnailsSrcArray = divDataSrcs.map(src => {
                let arr = src.split("/");
                arr[arr.length - 1] = "thumbnail/s" + arr[arr.length - 1];
                return arr.join("/");
            });
            return divDataSrcs;
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "美女集合",
        host: ["meinvjihe.cc"],
        reg: /^https?:\/\/meinvjihe\.cc\/thread-\d+\.htm$/,
        imgs: ".message>img",
        button: [4],
        insertImg: [".message", 2],
        customTitle: () => fun.gt(".media-body>span.break-all").replace(/\(\d+p\)/i, "").trim(),
        category: "nsfw1"
    }, {
        name: "美女库",
        host: ["www.meinvku.org.cn"],
        reg: /www\.meinvku\.org\.cn\/album\/\d+(\/)?(\.html)?$/,
        imgs: async () => {
            let firstImg = fun.attr("#img_src img", "src");
            let imgDir = firstImg.match(/.+\//)[0];
            let max = fun.gt("//span[contains(text(),'页次')]").match(/\/(\d+)/)[1];
            let arr = fun.arr(max).map((_, i) => imgDir + (i + 1) + ".jpg");
            let a = fun.ge("#img_src");
            if (a) a.outerHTML = `<div class="CustomPictureBox">${fun.ge("img", a).outerHTML}</div>`;
            return arr;
        },
        button: [4],
        insertImg: [".CustomPictureBox", 1],
        css: ".CustomPictureBox>img{max-width:100%}",
        category: "nsfw1"
    }, {
        name: "图宅网/咔咔西三/YouFreeX",
        reg: () => {
            let hosts = ["www.tuzac.com", "www.kkc3.com", "www.youfreex.com"];
            return hosts.includes(fun.lh) && /^\/file\//.test(fun.lp);
        },
        imgs: async () => {
            let a = fun.ge("#the-photo-link");
            if (a) a.outerHTML = a.innerHTML;
            let max = fun.attr("#auto-play", "total");
            let id = fun.attr("#auto-play", "data").match(/\d+/)[0];
            fun.showMsg(displayLanguage.str_05, 0);
            let fetchNum = 0;
            return fun.arr(max).map((_, i) => fetch(`/api/?ac=get_album_images&id=${id}&num=${i+1}`).then(res => res.json()).then(json => {
                fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                return json.src;
            }));
        },
        button: [4],
        insertImg: ["#task,#fdp-photo,#fdp-photo-old", 2],
        customTitle: () => fun.gt(".fc-text-content>h1").replace(/(\[\d+P\]|\n|\(\d+P\))/gi, "").trim(),
        css: ".content-container .content{margin-right:0px!important}.ad-container,.fdp-click-area,.ad-side-right,.footer{display:none!important}",
        category: "nsfw2"
    }, {
        name: "图宅网/咔咔西三/YouFreeX",
        reg: () => {
            let hosts = ["www.tuzac.com", "www.kkc3.com", "www.youfreex.com"];
            return hosts.includes(fun.lh);
        },
        css: ".ad-container{display:none!important}",
        category: "ad"
    }, {
        name: "七仙子图片",
        host: ["www.qixianzi.com"],
        reg: /www\.qixianzi\.com\/\w+\/\d+\.html$/,
        imgs: async () => {
            let a = fun.ge(".picture_content>a");
            if (a) a.outerHTML = a.innerHTML;
            await fun.getNP(".picture_content img", "//a[text()='下一页']", null, ".pagination", 0, null, 0);
            return [...fun.gae(".picture_content img")];
        },
        button: [4],
        insertImg: [".picture_content", 2],
        next: "//li[contains(text(),'上一篇')]/a",
        prev: "//li[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt("h1.diy-h1").replace(/\d+p/i, "").trim(),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw1"
    }, {
        name: "七仙子图片M",
        host: ["www.qixianzi.com"],
        link: "https://www.qixianzi.com/e/wap/",
        reg: /www\.qixianzi\.com\/e\/wap\/show\.php\?/,
        imgs: ".arcmain img",
        button: [4],
        insertImg: [".arcmain", 1],
        customTitle: () => fun.gt(".header>span"),
        category: "nsfw1"
    }, {
        name: "嘿～色女孩",
        host: ["heysexgirl.com"],
        reg: /^https?:\/\/heysexgirl\.com\/archives\/\d+$/,
        imgs: () => {
            let max = fun.gt(".page-links>*:last-child");
            return fun.getImg(".entry-content p>a,.entry-content p>img", max, "4");
        },
        button: [4],
        insertImg: [".entry-container", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt("h1.page-title"),
        category: "nsfw2"
    }, {
        name: "嘿～色女孩 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/heysexgirl\.com\/(page\/\d+)?$|^https?:\/\/heysexgirl\.com\/archives\/category\/\w+(\/page\/\d+)?$/,
        init: async () => await fun.waitEle(".blog-posts-wrapper[style]"),
        autoPager: {
            mode: 1,
            waitEle: ".blog-posts-wrapper[style]",
            ele: ".blog-posts-wrapper",
            observer: ".blog-posts-wrapper",
            next: "span.current+a",
            re: ".nav-links",
            title: () => "Page " + nextLink.match(/\d+$/)[0],
            history: 1
        },
        openInNewTab: ".blog-posts-wrapper a:not([target=_blank])",
        css: ".blog-posts-wrapper article.has-post-thumbnail .entry-container{margin:0 auto 0 !important}",
        category: "autoPager"
    }, {
        name: "2LSP",
        host: ["2lsp.xyz"],
        reg: () => /2lsp\.xyz\/[^/]+\/$/.test(siteUrl) && fun.ge(".entry-content img[data-srcset]") && !fun.ge(".content-hide-tips"),
        observerClick: ".swal2-close",
        imgs: () => [...fun.gae(".entry-content img[data-srcset]")].map(e => e.dataset.srcset),
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>a",
        customTitle: () => fun.gt("h1.entry-title"),
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        category: "nsfw1"
    }, {
        name: "2LSP",
        host: ["2lsp.xyz"],
        reg: /2lsp\.xyz\//,
        observerClick: ".swal2-close",
        category: "none"
    }, {
        name: "性趣套图/H漫画",
        host: ["myjkwd.com", "enpeta.com", "xjzi.top", "xqtt.xqtt.de", "534798.xyz", "539765.xyz", "123548.xyz"],
        reg: () => /(myjkwd\.com|enpeta\.com|xjzi\.top|xqtt\.xqtt\.de|534798\.xyz|539765\.xyz|123548\.xyz)\/e\/action\/ShowInfo\.php/i.test(siteUrl) && fun.ge(".entry img"),
        imgs: async () => {
            if (fun.ge("embed[src*='sendvid']")) {
                let links = [...fun.gae("embed")].map(e => e.src);
                let resArr = links.map(url => fun.xhrDoc(url).then(doc => fun.ge("video>source", doc).src));
                videosSrcArray = await Promise.all(resArr);
            }
            return fun.getImg(".entry img", fun.gt("a[title=总数]"), 8)
        },
        button: [4],
        insertImg: ["//div[@class='entry']//img/parent::*", 1],
        autoDownload: [0],
        next: "//p[contains(text(),'上一')]/a",
        prev: "//p[contains(text(),'下一')]/a",
        customTitle: () => fun.gt(".contitle").replace(/\[\d+P\]/, ""),
        css: "aside.side{display:none!important;}.main-content{margin-left:0px!important;}body{background:#EDEDED!important;}",
        category: "nsfw2"
    }, {
        name: "多伦多情色",
        host: ["torontolove.cc"],
        reg: () => /^https?:\/\/torontolove\.cc\/detail\?id=\d+/i.test(siteUrl) && fun.ge("//div[@class='post-topic']//div[text()='情色靓影']"),
        init: async () => await fun.waitEle("#J-description-conent img[src^='/bucket/']"),
        imgs: () => [...fun.gae("#J-description-conent img")].map(e => e.src),
        button: [4],
        insertImg: ["#J-description-conent", 2],
        customTitle: () => fun.gt("#J-main-title").replace(/\(\d+[\w\s\.\+-]+\)/, ""),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "苍井优图",
        host: ["www.28tyu.com", "www.28rty.com", "www.28ery.com", "www.28wer.com", "www.028kkp.com", "sldlxz.com", "www.yuxiangcao.com", "282471.xyz", "284019.xyz"],
        reg: /((www\.|a\.)(\d+tyu|\d+rty|\d+ery|\d+wer)\.com|sldlxz\.com|(www|a).yuxiangcao\.com|(www|a).028kkp\.com|282471|284019\.xyz)\/e\/action\/ShowInfo\.php/i,
        imgs: "img[id^='aimg'],.entry img",
        button: [4],
        insertImg: [".entry", 2],
        autoDownload: [0],
        next: "//p[contains(text(),'上一')]/a",
        prev: "//p[contains(text(),'下一')]/a",
        customTitle: () => fun.gt(".contitle").replace(/【\d+P】|\(\d+P\)/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "三界异次元",
        host: ["ycyweb.cloudapp.net"],
        reg: /^https?:\/\/ycyweb\.cloudapp\.net\/p\/\d+$/i,
        imgs: ".postBody img",
        button: [4],
        insertImg: [".postBody", 2],
        customTitle: () => fun.gt("#postTitle"),
        category: "nsfw1"
    }, {
        name: "好视角",
        host: ["www.lianjiajr.net"],
        reg: /^https?:\/\/www\.lianjiajr\.net\/\w+\.html$/i,
        exclude: "div.pic",
        imgs: ".text img:not([onerror])",
        button: [4],
        insertImg: [".text", 2],
        autoDownload: [0],
        next: "//p[contains(text(),'上一篇')]/a",
        prev: "//p[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".tit>h1"),
        css: "audio{display:none!important}",
        category: "nsfw2"
    }, {
        name: "好视角M",
        host: ["www.lianjiajr.net"],
        reg: /^https?:\/\/www\.lianjiajr\.net\/\w+\.html$/i,
        init: () => fun.remove("//div[a[img[contains(@src,'gif')]]]"),
        imgs: "div.pic img:not([onerror])",
        button: [4],
        insertImg: ["div.pic", 2],
        customTitle: () => fun.gt(".grjs1>h1"),
        css: "audio{display:none!important}",
        category: "nsfw2"
    }, {
        name: "YY美女图片/美眉大宝贝",
        host: ["www.yyzhenshun.com", "bb.meinvnews.com"],
        reg: /(www\.yyzhenshun\.com|bb\.meinvnews\.com)\/\d+\.html/i,
        imgs: () => {
            if (fun.ge(".ep-pages a")) {
                let max = fun.ge("//a[text()='尾页']").href.match(/(\d+)\.html$/)[1];
                return fun.getImg(".wzy_body img", max, 3);
            } else {
                return [...fun.gae(".wzy_body img[alt]")];
            }
        },
        button: [4],
        insertImg: ["//p[img] | //p[strong[img]] | //div[@class='wzy_body']", 2],
        autoDownload: [0],
        next: "//li[contains(text(),'上一篇')]/a",
        prev: "//li[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".wzy_tit").replace(/\[\d+[\w\s\.\+-]+\]/, ""),
        css: "body>section[id],a[href*=download]{display:none!important}header{margin-top:0px!important}.wzy_body{text-indent:unset!important}@media (max-width:768px){.wzy_body{margin:0px!important}}@media (max-width:768px){.neiye{margin:0px!important}}",
        category: "nsfw1"
    }, {
        name: "爱看美图网",
        host: ["www.ikmt.net", "m.ikmt.net"],
        reg: /(www|m)\.ikmt\.net\/\w+\/\w+\/\d+\/\d+\.html/i,
        imgs: () => {
            let mouse_page = fun.ge("#mouse_page");
            if (mouse_page) {
                let max = fun.gt("//li[a[text()='下一页']]", 2) || fun.gt("//a[text()='下一张']", 2).match(/\/(\d+)/)[1];
                return fun.getImg("#picBody img,.post-content img", max, 9);
            } else {
                return [...fun.gae("#picBody img,.post-content img")];
            }
        },
        button: [4],
        insertImg: ["#picBody,.post-content", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'上一篇')]/a",
        prev: "//div[contains(text(),'下一篇')]/a",
        customTitle: () => fun.gt(".articleV2Title>h1,.mm-title"),
        css: ".articleV2Body img{max-width:100% !important}",
        category: "nsfw1"
    }, {
        name: "犀牛图片网",
        host: ["www.xintp.com"],
        reg: /www\.xintp\.com\/(\w+\/\w+\/\d+\.html|\w+\/\d+\.html)/i,
        imgs: async () => {
            let pages = fun.ge(".page-links");
            if (pages) {
                await fun.getNP(".single-content img", "//span[@class='post-page-numbers current']/following-sibling::a[span][1]", null, ".page-links");
                return [...fun.gae(".single-content img")];
            } else {
                return [...fun.gae(".single-content img")];
            }
        },
        button: [4],
        insertImg: [
            [".single-content", 0, ".wp-block-image,.single-content>p~p:not(#FullPictureLoadEnd)"], 2
        ],
        customTitle: () => fun.gt(".entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        css: ".header-sub,.tg-box{display:none!important}",
        category: "nsfw1"
    }, {
        name: "AVJB/The AV Porn",
        host: ["avjb.com", "theavporn.com"],
        link: "https://avjb.com/albums/，https://theavporn.com/albums/",
        reg: /^https?:\/\/(avjb\.com|avjb\.fun|av\d{2}\.fun|bav\d{2}\.xyz|bbav\d{3}\.com|onebookcms\.com|theavporn\.com|thedemovideos\.com|thepa\d+\.\w+|the\d+\.\w+)\/(\w{2}\/)?albums\/\d+\/[\w-]+\//i,
        init: () => {
            new MutationObserver((mutations, observer) => {
                if (fun.ge(".chatra--webkit")) {
                    fun.ge(".chatra--webkit").remove();
                    observer.disconnect();
                }
            }).observe(document.body, MutationObserverConfig);
        },
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".images>a>img")].map(e => e.dataset.original ?? e.src);
            return [...fun.gae(".images>a")];
        },
        button: [4],
        insertImg: [
            [".images", 2, ".images"], 2
        ],
        customTitle: () => fun.gt(".headline>h1"),
        css: ".sponsor,.chatra--webkit{display:none!important}",
        category: "nsfw2"
    }, {
        name: "AVJB 去廣告",
        reg: /^https?:\/\/(avjb\.com|avjb\.fun|av\d{2}\.fun|bav\d{2}\.xyz|bbav\d{3}\.com|onebookcms\.com|theavporn\.com|thedemovideos\.com|thepa\d+\.\w+|the\d+\.\w+)\//i,
        init: () => {
            new MutationObserver((mutations, observer) => {
                if (fun.ge(".chatra--webkit")) {
                    fun.ge(".chatra--webkit").remove();
                    observer.disconnect();
                }
            }).observe(document.body, MutationObserverConfig);
        },
        css: ".sponsor,.chatra--webkit{display:none!important}",
        category: "ad"
    }, {
        name: "爱微社区",
        host: ["dev.avjb.com"],
        link: "https://dev.avjb.com/albums/",
        reg: /^https:\/\/dev\.avjb\.com\/albums\/\d+\/[^\/]+\/$/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".images>a>img")].map(e => e.dataset.original ?? e.src);
            return thumbnailsSrcArray.map(e => e.replace("main/200x150", "sources"))
        },
        button: [4],
        insertImg: [
            [".images", 2, ".images"], 2
        ],
        customTitle: () => fun.gt("h1.title").replace(/\[\d+[\w\.\+\s-]+\]|\(\d+[\w\.\+\s-]+\)|\d+P\+\d+V/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "爱微社区 成人相册",
        reg: /^https?:\/\/dev\.avjb\.com\/albums\/$/i,
        init: async () => await fun.waitEle(".thumb.item img[src^=http]"),
        autoPager: {
            ele: ".albums-thumbs",
            observer: ".albums-thumbs .thumb.item",
            next: (doc) => {
                let next = fun.ge(".pagination a.active+a:not(.next)", doc);
                return next ? "/albums/?mode=async&function=get_block&block_id=list_albums_common_albums_list&sort_by=post_date&from=" + next.innerText : null;
            },
            re: ".pagination",
            title: doc => "Page " + fun.gt(".pagination a.active", 1, doc),
            lazySrc: "img[data-original]"
        },
        openInNewTab: ".thumb.item a",
        category: "autoPager"
    }, {
        name: "Asian To Lick",
        host: ["asiantolick.com"],
        reg: /asiantolick\.com\/post/,
        init: () => fun.createImgBox(".spotlight-group", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("div[data-src]>img")].map(e => e.src);
            let srcs = [...fun.gae("div[data-src]")].map(e => e.dataset.src);
            return fun.checkImageCDN(srcs);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".spotlight-group"], 2
        ],
        customTitle: () => fun.gt("h1"),
        css: "#touch_to_see{display:none!important}",
        category: "nsfw2"
    }, {
        name: "套图200网",
        host: ["www.taotu200.com", "taotu200.com"],
        reg: /^https?:\/\/(www\.)?taotu200\.com\/t\d\/\d+\.html$/,
        imgs: "#post_content img",
        button: [4],
        insertImg: [
            ["#post_content", 0, "article>*:last-child"], 2
        ],
        customTitle: () => fun.gt("article>h1").replaceAll("/", "").replace(/\(\d+[\w\s\.\+-]+\)/, ""),
        css: "#touch_to_see{display:none!important}",
        category: "nsfw1"
    }, {
        name: "Models Vibe",
        host: ["www.modelsvibe.com"],
        reg: () => /^https?:\/\/www\.modelsvibe\.com\/[^/]+\/$/.test(siteUrl) && fun.ge(".td-post-content img"),
        init: () => {
            let ele = fun.ge("//p[br and not(contains(text(),'[ad_1]'))]");
            if (ele) {
                ele = ele.cloneNode(true);
                [...fun.gae("img", ele)].forEach(img => img.remove());
                let tE = fun.ge(".td-post-content");
                tE.parentNode.insertBefore(ele, tE);
            }
            let ele2 = fun.ge("//p[contains(text(),'Number of pictures')]");
            if (ele2) {
                if (ele2.previousSibling.tagName == "P") {
                    ele2.previousSibling.innerHTML = ele2.previousSibling.innerHTML + "<br>" + ele2.innerText;
                    let e = ele2.previousSibling;
                    let te = ele2.previousSibling.parentNode;
                    te.parentNode.insertBefore(e, te);
                }
            }
        },
        imgs: () => {
            if (fun.ge(".page-nav")) {
                let max = fun.gt(".page-nav>*:last-child", 2);
                return fun.getImg(".td-post-content img", max, 4);
            } else if (fun.ge(".td-post-content img[srcset]")) {
                let srcs = [...fun.gae(".td-post-content img[src]")].map(e => decodeURIComponent(e.src));
                let srcsets = [...fun.gae(".td-post-content img[srcset]")].map(img => {
                    let splitArr = img.getAttribute("srcset").split(",");
                    splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                    return decodeURIComponent(splitArr.at(-1).trim().split(" ")[0]);
                });
                return [...new Set(srcs.concat(srcsets))];
            } else {
                return [...fun.gae(".td-post-content img")];
            }
        },
        button: [4],
        insertImg: [".td-post-content .tdb-block-inner", 2],
        go: 1,
        customTitle: () => fun.gt("h1.tdb-title-text"),
        css: ".tdb_header_menu .tdb-menu .tdb-mega-menu-inactive,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive{pointer-events:auto!important}.tdb_header_menu .tdb-menu .tdb-mega-menu-inactive > ul,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive>ul{visibility:unset!important;opacity:1!important}.tdb_header_menu .tdb-normal-menu ul .tdb-menu-item{list-style-type:auto!important}",
        category: "nsfw1"
    }, {
        name: "Models Vibe - 分類自動翻頁",
        host: ["www.modelsvibe.com"],
        reg: /^https?:\/\/www\.modelsvibe\.com\/(albums\/.+)?(page\/\d+\/)?$/,
        init: () => {
            /page\/\d+\//.test(fun.lp) ? currentPageNum = parseInt(fun.lp.match(/\/page\/(\d+)/)[1], 10) : currentPageNum = 1;
        },
        autoPager: {
            ele: ".td_flex_block:not(.td-flex-radius),.td_block_inner.tdb-block-inner",
            observer: ".td-cpt-post",
            next: () => {
                let url = siteUrl.replace(/page\/\d+\/?/, "") + `page/${currentPageNum += 1}/`;
                return url;
            },
            re: ".page-nav",
            stop: doc => fun.ge(".td-404-title", doc) ? true : false,
            history: 1,
            bF: doc => {
                [...fun.gae("span[data-img-url]", doc)].forEach(span => {
                    span.classList.add("td-animation-stack-type0-2");
                    span.style.backgroundImage = `url('${span.dataset.imgUrl}')`;
                });
            },
            title: doc => "Page " + currentPageNum
        },
        openInNewTab: ".td-cpt-post a:not([target=_blank])",
        css: ".tdi_60.td-a-rec{display:none!important;}.tdb_header_menu .tdb-menu .tdb-mega-menu-inactive,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive{pointer-events:auto!important}.tdb_header_menu .tdb-menu .tdb-mega-menu-inactive > ul,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive>ul{visibility:unset!important;opacity:1!important}.tdb_header_menu .tdb-normal-menu ul .tdb-menu-item{list-style-type:auto!important}",
        category: "autoPager"
    }, {
        name: "Models Vibe - 修正選單CSS和去廣告",
        host: ["www.modelsvibe.com"],
        reg: /^https?:\/\/www\.modelsvibe\.com\//,
        css: ".tdi_60.td-a-rec{display:none!important;}.tdb_header_menu .tdb-menu .tdb-mega-menu-inactive,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive{pointer-events:auto!important}.tdb_header_menu .tdb-menu .tdb-mega-menu-inactive > ul,.tdb_header_menu .tdb-menu .tdb-menu-item-inactive>ul{visibility:unset!important;opacity:1!important}.tdb_header_menu .tdb-normal-menu ul .tdb-menu-item{list-style-type:auto!important}",
        category: "autoPager"
    }, {
        name: "Goddess247/BestPrettyGirl/Girl Sweetie/Girl Dreamy",
        reg: () => {
            let hosts = ["goddess247.com", "bestprettygirl.com", "girlsweetie.com", "girldreamy.com"];
            return hosts.includes(fun.lh) && !/^\/tag\/|^\/category\//.test(fun.lp) && fun.ge(".elementor-widget-container p img[alt],.elementor-widget-container img.aligncenter.size-full");
        },
        init: () => fun.createImgBox("//p[img] | //img[@class='aligncenter size-full']", 1),
        imgs: ".elementor-widget-container p img[alt],.elementor-widget-container img.aligncenter.size-full",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//p[img] | //img[@class='aligncenter size-full']"], 2
        ],
        go: 1,
        customTitle: () => fun.title(/ - Goddess247| - BestPrettyGirl| - Girl Sweetie| - Girl Dreamy/),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "BestGirlSexy",
        reg: () => {
            let hosts = ["bestgirlsexy.com"];
            return hosts.includes(fun.lh) && !/^\/tag\/|^\/category\//.test(fun.lp) && fun.ge(".elementor-widget-theme-post-content img");
        },
        init: () => fun.createImgBox("//p[img] | //img[@class='aligncenter size-full']", 1),
        imgs: ".elementor-widget-theme-post-content img",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//p[img] | //img[@class='aligncenter size-full']"], 2
        ],
        go: 1,
        customTitle: () => fun.title(" - BestGirlSexy"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "eyval.net",
        host: ["www.eyval.net"],
        reg: /^https?:\/\/www\.eyval\.net\/\d+\/\d+\/[\w-]+\.html/,
        imgs: async () => {
            let imgsSrcArr = [...fun.gae(".entry-content a[href*=blog]")].map(a => {
                let arr = a.href.split("/");
                if (arr.length === 9) {
                    arr[7] = "s16000";
                    return arr.join("/");
                } else {
                    return a.href;
                }
            });
            thumbnailsSrcArray = imgsSrcArr.map(e => e.replace("/s16000/", "/w100/"));
            return imgsSrcArr;
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "eyval.net - 分類自動翻頁",
        host: ["www.eyval.net"],
        reg: /^https?:\/\/www\.eyval\.net\//,
        autoPager: {
            mode: 1,
            ele: ".blog-posts>.date-outer",
            next: "a.blog-pager-older-link",
            observer: ".blog-posts>.date-outer",
            re: "#blog-pager",
            stop: doc => fun.ge(".date-outer", doc) ? false : true,
            history: 1,
            title: () => "Page" + (currentPageNum += 1)
        },
        openInNewTab: ".date-outer a[href]:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "PhimVu",
        host: ["m.phimvuspot.com"],
        reg: /^https?:\/\/m\.phimvuspot\.com\/\w+\/\w+\.cfg/i,
        imgs: async () => {
            let max;
            try {
                max = fun.gt("h1.post-title").match(/\d+$/)[0];
            } catch (e) {
                max = 1;
            }
            let imgSrcs = /\?m=1/.test(siteUrl) ? await fun.getImg(".post-content img", max, "8") : await fun.getImg(".post-content img", max);
            return imgSrcs;
            //return fun.checkImageCDN(imgSrcs);
        },
        button: [4],
        insertImg: [".post-content", 2],
        customTitle: () => fun.title(/^[a-z-\s\.I]+:/i).split("|")[0].trim().replace(/\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|【\d+[\w\s\.\+-]+】|\d+p(\d+v)?/i, ""),
        category: "nsfw2"
    }, {
        name: "Poringa!",
        host: ["www.poringa.net", "m.poringa.net"],
        reg: /^https?:\/\/(www|m)\.poringa\.net\/posts\//i,
        imgs: ".post-content img,.content-post-img>img",
        button: [4],
        insertImg: [".post-content,.content.short", 3],
        customTitle: () => fun.gt(".post-title,h1.title"),
        category: "nsfw2"
    }, {
        name: "YeuGai.Net",
        host: ["yeugai.org"],
        reg: /^https?:\/\/yeugai\.org\/[^\/]+\/$/i,
        init: async () => {
            await fun.waitEle(".mirror-image img");
            fun.run("jQuery(document).off();");
        },
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source[type='video/mp4']+a[href*='.mp4']")].map(a => a.href);
            if (fun.ge(".mirror-image img[src*=blog]")) {
                let imgsSrcArr = [...fun.gae(".mirror-image img[src*=blog]")].map(e => {
                    let arr = e.src.split("/");
                    if (arr.length === 9) {
                        arr[7] = "s16000";
                        return arr.join("/");
                    } else {
                        return e.src;
                    }
                });
                thumbnailsSrcArray = imgsSrcArr.map(e => e.replace("/s16000/", "/w100/"));
                return imgsSrcArr;
            } else {
                return [...fun.gae(".mirror-image img")]
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replace(/^Ảnh.+Xinh\s|^Clip.+Em\s/, ""),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "min: archive",
        host: ["min-bin.blogspot.com"],
        reg: /^https?:\/\/min-bin\.blogspot\.com\/\d+\/\d+\/[^\.]+\.html/,
        imgs: () => [...fun.gae(".separator>a")].map(a => a.href.replace("/s1600/", "/s16000/")),
        button: [4],
        insertImg: [".post-body", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Graphis",
        host: ["20sanctuary-grahpis.blogspot.com"],
        reg: /^https?:\/\/20sanctuary-grahpis\.blogspot\.com\/\d+\/\d+\/[^\.]+\.html/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".separator>a img")].map(e => e.src.replace("/s320/", "/w100/"));
            return [...fun.gae(".separator>a")].map(a => a.href.replace("/s1600/", "/s16000/"));
        },
        button: [4],
        insertImg: [".post-body", 2],
        customTitle: () => fun.gt(".post_item>h1"),
        category: "nsfw2"
    }, {
        name: "Asia Idols",
        host: ["asiaidols.wordpress.com"],
        reg: /^https?:\/\/asiaidols\.wordpress\.com\/\d+\/\d+\/\d+\/[^\/]+\/$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img[alt='image host']")].map(e => e.src);
            let imageHostLinks = [...fun.gae("//a[img[@alt='image host']]")].map(a => a.href);
            return fun.getImageHost(imageHostLinks);
        },
        button: [4],
        insertImg: [".entry-content", 3],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Asia Porn Photo",
        host: ["www.asiapornphoto.com"],
        reg: /^https?:\/\/www\.asiapornphoto\.com\/[^\.]+\.shtml$/,
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Tabakus Gallery",
        host: ["tabakus.blogspot.com"],
        reg: /^https?:\/\/tabakus\.blogspot\.com\/\d+\/\d+\/[^\.]+\.html/,
        imgs: ".separator>a",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".separator>a img")].map(e => e.src.replace("/s400/", "/w100/"));
            return [...fun.gae(".separator>a")].map(a => a.href.replace("/s1600/", "/s16000/"));
        },
        button: [4],
        insertImg: [".post-body", 2],
        customTitle: () => fun.gt(".post_item>h1"),
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "Chinese Nude Art Photos",
        host: ["chinesenudeart.blogspot.com"],
        reg: /^https?:\/\/chinesenudeart\.blogspot\.com\/\d+\/\d+\/[\w-]+\.html/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".entry-content a[href]>img")].map(e => e.src);
            return [...fun.gae(".entry-content a[href]")];
        },
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: "a.blog-pager-older-link",
        prev: "a.blog-pager-newer-link",
        customTitle: () => fun.gt(".entry-title").trim().replace("Chinese beautiful model Amanda -", "").replace("Beautiful Chinese girl -", "").replace("Beautiful Chinese girl ", "").replace("Chinese Beautiful girl -", "").replace(" |18+ Nude model Amateur", ""),
        css: "@media only screen and (max-width:479px){#outer-wrapper{margin:0px!important;width:100%!important}}",
        category: "nsfw1"
    }, {
        name: "CUTE GIRLS ADDICT",
        host: ["cutegirlsaddict.blogspot.com"],
        reg: /cutegirlsaddict\.blogspot\.com\/\d+\/\d+\/[a-z0-9-]+\.html/i,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".separator>a>img")].map(e => {
                let arr = e.src.split("/");
                arr[7] = "w100";
                return arr.join("/");
            });
            let srcArr = [...fun.gae(".separator>a")].map(a => a.href);
            let firstSrcArr = srcArr[0].split("/");
            if (firstSrcArr.length === 9) {
                firstSrcArr[7] = "s16000";
                let testMaxSrc = firstSrcArr.join("/");
                let obj = await fun.checkImgStatus(testMaxSrc);
                debug("\n確認圖片狀態\n", obj);
                if (obj.ok) {
                    srcArr = srcArr.map(src => {
                        let arr = src.split("/");
                        arr[7] = "s16000";
                        return arr.join("/");
                    });
                    return srcArr;
                } else {
                    return srcArr;
                }
            } else {
                return srcArr;
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt("h1.post-title,h3.entry-title").trim(),
        category: "nsfw1"
    }, {
        name: "4KUP",
        host: ["4kup.net"],
        reg: /^https?:\/\/4kup\.net\/(?!getlink)[^\/]+\/$/,
        exclude: "//button[text()='Click here to continue']",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a.thumb-photo>img")].map(e => e.src);
            return [...fun.gae("a.thumb-photo")];
        },
        button: [4],
        insertImg: ["#gallery", 2],
        go: 1,
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "Spacemiss.com",
        host: ["spacemiss.com"],
        reg: /^https?:\/\/spacemiss\.com\/.+$/,
        include: ".td-post-content .tdb-block-inner.td-fix-index",
        init: () => fun.createImgBox(".td-post-content .tdb-block-inner.td-fix-index", 2),
        imgs: () => {
            videosSrcArray = [...fun.gae("video>source[type='video/mp4']")].map(e => e.src);
            return [...fun.gae(".td-post-content .tdb-block-inner.td-fix-index img")].map(e => decodeURIComponent(e.src));
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".td-post-content .tdb-block-inner.td-fix-index"], 2
        ],
        customTitle: () => fun.gt(".tdb-title-text").replace(/\d+P([\d\s\+P]+)?/, "").replaceAll("|", "-").trim(),
        downloadVideo: true,
        category: "nsfw1"
    }, {
        name: "Imgasd",
        host: ["imgasd.com"],
        reg: /^https?:\/\/imgasd\.com\/article\/\d+$/,
        imgs: ".imgs>img[alt]",
        button: [4],
        insertImg: [".imgs", 2],
        customTitle: () => fun.gt(".content>h1"),
        category: "nsfw1"
    }, {
        name: "Fliporn",
        host: ["fliporn.biz"],
        reg: /fliporn\.biz\/videos\//,
        include: "//span[@class='entry-category']/a[text()='亚洲贴图' or text()='写真' or text()='动漫贴图' or text()='性感贴图' or text()='欧美贴图' or text()='网友自拍']",
        init: () => fun.createImgBox("//center[img] | //center[p[img]] | //div[@id='conttpc' and img] | //div[@id='conttpc' and p[img]] | //div[@class='entry-content']//p[img] | //div[figure[div[img]]]", 1),
        imgs: () => [...fun.gae(".entry-content img")].map(e => e.dataset.src ? e.dataset.src.replace(/\?w=858(&ssl=1)?/, "") : e.src.replace("%3C/center%3E%3C/p%3E%3Cdiv%20class=", "").replace(/\?w=858(&ssl=1)?/, "")),
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//center[img] | //center[p[img]] | //div[@id='conttpc' and img] | //div[@id='conttpc' and p[img]] | //div[@class='entry-content']//p[img] | //div[figure[div[img]]]"], 2
        ],
        customTitle: () => document.title.replace(/\s?\[[0-9p\s]+\]|\［\d+P\］|“\d+ photos.+$/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "91图录",
        host: ["www.91tulu.com"],
        reg: /^https?:\/\/www\.91tulu\.com\/\d+\.html/,
        imgs: ".wp-posts-content img",
        button: [4],
        insertImg: [".wp-posts-content", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt(".article-title").replace(/\[\d+P\].*/, "").trim(),
        css: ".wp-posts-content{max-height:unset!important}",
        category: "nsfw1"
    }, {
        name: "萌妹社区",
        host: ["www.mmav.me"],
        link: "https://www.mmav.me/photo/",
        reg: /^https?:\/\/www\.mmav\.me\/photo\/\d+\.html/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".imglist img[data-original]")].map(e => location.origin + e.dataset.original);
            return thumbnailsSrcArray.map(e => e.replace(/_t(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".main.warp.row", 2],
        customTitle: () => fun.gt(".play-title").replace(/_?(\s-\s)?\(\d+P\)/i, ""),
        css: "#top-img-list,#tonglanad_t1,#ajdjs{display:none!important}body{padding-bottom:0px!important}",
        category: "nsfw2"
    }, {
        name: "萌妹社区去廣告",
        host: ["www.mmav.me"],
        reg: /^https?:\/\/www\.mmav\.me\//,
        css: "#top-img-list,#tonglanad_t1,#ajdjs{display:none!important}",
        category: "ad"
    }, {
        name: "麻豆村/麻麻传媒/乌鸦传媒/糖心vlog/果冻传媒/兔子先生/中国X站/中国P站/麻豆101/麻豆吃瓜社区/mini传媒/星空无限传媒/天美传媒/9草吃瓜网/皇家华人",
        host: ["www.madoucun.com", "www.madoucun.org", "www.madoumcn.com", "www.madoucun.net", "modeltvmcn.com", "www.mamamcn.com", "www.wuyamcn.com", "www.tangxvlog.com", "www.guodongmcn.com", "www.mrrabbit.org", "www.xvideo.bar", "www.proncn.com", "www.md101.tv", "www.mdcg.club", "www.minimcn.com", "www.xkmcn.net", "www.tianmeimcn.com", "www.9ccg.org", "www.hkdoll.org", "www.royalmcn.com", "www.psychoporn.org"],
        link: "/arttype/57.html",
        reg: [
            /^https?:\/\/(www\.)?madoucun(\d+)?\.(com|org|net)\/artdetail-\d+/,
            /^https?:\/\/(www\.)?(mamamcn|madoumcn|modeltvmcn)\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?wuyamcn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?tangxvlog\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?guodongmcn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?mrrabbit\.org\/artdetail-\d+/,
            /^https?:\/\/(www\.)?xvideo\.bar\/artdetail-\d+/,
            /^https?:\/\/(www\.)?proncn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?md101\.tv\/artdetail-\d+/,
            /^https?:\/\/(www\.)?mdcg\.club\/artdetail-\d+/,
            /^https?:\/\/(www\.)?minimcn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?xkmcn\.net\/artdetail-\d+/,
            /^https?:\/\/(www\.)?tianmeimcn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?9ccg\.org\/artdetail-\d+/,
            /^https?:\/\/(www\.)?hkdoll\.org\/artdetail-\d+/,
            /^https?:\/\/(www\.)?royalmcn\.com\/artdetail-\d+/,
            /^https?:\/\/(www\.)?psychoporn\.org\/artdetail-\d+/
        ],
        include: ".hl-article-box img,.news-content img",
        init: () => fun.addMutationObserver(() => fun.remove("//div[div[@id and a[@id and img]]] | //div[div[@id='homeBannerWrap']]")),
        imgs: ".hl-article-box img,.news-content img",
        button: [4],
        insertImg: [".hl-article-box,.news-content", 2],
        customTitle: () => fun.gt(".hl-article-title,.news-title"),
        css: "#Conchnavlinkp>*,.hl-pops-bg,.hl-poptips-wrap{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "淫淫小说写真馆",
        host: ["books.xxgirls.vip"],
        reg: /^https?:\/\/books\.xxgirls\.vip\/artdetail-\d+\//,
        imgs: "#read_tpc img,.hl-article-content img",
        button: [4],
        insertImg: ["#read_tpc,.hl-article-content", 2],
        autoDownload: [0],
        next: ".hl-next",
        prev: ".hl-prev",
        customTitle: () => fun.gt(".hl-article-title").replace(/-[\d\s]+P?$|\(\d+P\)?.*$|【\d+P】$/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "ACG宅吧",
        host: ["www.acgers.com"],
        link: "https://www.acgers.com/list/list",
        reg: /^https?:\/\/www\.acgers\.com\/list\/detail\?id=\d+$/,
        imgs: ".detail-info img",
        button: [4],
        insertImg: [".detail-info", 2],
        customTitle: () => fun.gt(".content-title"),
        category: "nsfw1"
    }, {
        name: "成人图片 Qinimg",
        host: ["www.qinimg.com"],
        reg: /www\.qinimg\.com\/image\/\d+\.html/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#image a>img")].map(e => e.getAttribute("img") != "" ? e.getAttribute("img") : e.src);
            return [...fun.gae("#image a")];
        },
        button: [4],
        insertImg: [
            ["#image", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".box>h1").replace(/\[\d+P\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "零零COS",
        host: ["00cos.com"],
        reg: /00cos\.com\/\d+\.html/,
        exclude: ".tinymce-hide,.fa-info-circle[aria-hidden=true]",
        imgs: ".article-content img",
        customTitle: () => fun.gt(".article-title>a").replace(/\s?\[\d+P-\d+MB\]|\s\[\d+P\s?\d+V\s?\d+M\]\s?/gi, "").trim(),
        category: "nsfw1"
    }, {
        name: "Elite Babes格式",
        host: ["www.elitebabes.com", "pmatehunter.com", "www.jperotica.com", "www.metarthunter.com", "www.femjoyhunter.com"],
        reg: /(www\.)?(elitebabes|pmatehunter|jperotica|metarthunter|femjoyhunter)\.com\/.+\//,
        exclude: "#content video",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".list-gallery a[data-fancybox]>img")].map(e => e.src);
            return [...fun.gae(".list-gallery a[data-fancybox]")];
        },
        button: [4, "23%"],
        insertImg: [
            [".list-gallery", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("#content>p"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "Naked Women Pics/VIEW GALS/Hot Pussy Pics/Busty Women Pics",
        host: ["nakedwomenpics.com", "viewgals.com", "hotpussypics.com", "bustypassion.com"],
        reg: [
            /^https?:\/\/nakedwomenpics\.com\/pics\/[^\/]+\/$/,
            /^https?:\/\/viewgals\.com\/pics\/[^\/]+\/$/,
            /^https?:\/\/hotpussypics\.com\/pics\/[^\/]+\/$/,
            /^https?:\/\/bustypassion\.com\/pics\/[^\/]+\/$/,
        ],
        imgs: "a.ss-image",
        button: [4],
        insertImg: [".m-content-con", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "TeenPussyPics.com",
        host: ["teenpussypics.com"],
        reg: /^https?:\/\/teenpussypics\.com\/images\/\d+\/$/,
        imgs: "//div[@id='lucrezia']//a[img[@data-src]]",
        button: [4],
        insertImg: ["#lucrezia", 2],
        customTitle: () => fun.gt("h1"),
        css: "#lucrezia{height:auto!important}",
        category: "nsfw2"
    }, {
        name: "NSFWalbum",
        host: ["nsfwalbum.com"],
        reg: /^https?:\/\/nsfwalbum\.com\/album\/\d+$/,
        init: () => fun.createImgBox(".album", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".albumPhoto")].map(e => e.dataset.src ?? e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let fetchNum = 0;
            return [...fun.gae(".album .item>a")].map(async (a, i, arr) => {
                let img = fun.ge("img", a);
                let src = img.dataset.src ?? img.src;
                if (/imx\.to/.test(src)) {
                    return src.replace("/t/", "/i/");
                } else {
                    await fun.delay(20 * i, 0);
                    return fetch(a.href).then(res => res.text()).then(text => {
                        let id = a.href.split("/").at(-1);
                        let spirit = fun.run(text.match(/var\sspirit\s?=\s?([^;]+);/)[1]);
                        let api = `/backend.php?&spirit=${spirit}&photo=${id}`;
                        return fetch(api).then(res => res.json()).then(json => {
                            fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${arr.length}`, 0);
                            return json[0];
                        });
                    });
                }
            });
        },
        button: [4, "24%", 3],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".album"], 2
        ],
        customTitle: () => fun.gt(".gallery_name").replace(/\sx\d{1,4}.*|-\sx\d{1,4}.*|-\s\d{1,4}x.*|-[\d\s]+pic.+| - \d{2}.\d{2}.\d{4}.*|\(x\d+\).*|[\d\s]+pics.*|\([\w\s\.\+,]+\)|\|[\s\dx]+\|.*/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "OVOVO",
        host: ["ovovo.me", "ame.funi6e.xyz"],
        reg: /\/show\/\w+\.html$/i,
        include: [
            "//title[contains(text(),'OVOVO')]",
            "a[data-fancybox]",
            ".masonry-list"
        ],
        imgs: "a[data-fancybox]",
        button: [4],
        insertImg: [".masonry-list", 2],
        customTitle: () => fun.title(" - OVOVO"),
        css: ".masonry-list{height:auto!important}",
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "Adult photo sets",
        host: ["adultphotosets.best"],
        reg: /^https?:\/\/adultphotosets\.best\/index\.php\?newsid=\d+$/i,
        include: "//a[img[@data-src][@data-maxwidth]]",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("//img[@data-src][@data-maxwidth]")].map(e => e.dataset.src ?? e.src);
            let URLs = [...fun.gae("//a[img[@data-src][@data-maxwidth]]")].map(a => a.href);
            return fun.getImageHost(URLs);
        },
        button: [4],
        insertImg: [
            ["//a[img[@data-src][@data-maxwidth]]", 2, "//a[img[@data-src][@data-maxwidth]]"], 2
        ],
        customTitle: () => fun.gt(".title"),
        category: "nsfw2"
    }, {
        name: "Pics-X",
        host: ["pics-x.com"],
        reg: /^https?:\/\/pics-x\.com\/gallery\/\d+\//i,
        init: async () => await fun.waitEle("#images-container img"),
        imgs: "#images-container img",
        button: [4],
        insertImg: ["#images-container", 2],
        customTitle: () => fun.title(" | Pics-X"),
        category: "nsfw2"
    }, {
        name: "SXYPIX",
        host: ["sxypix.com"],
        reg: /^https?:\/\/sxypix\.com\/w\/\w+/i,
        init: () => fun.createImgBox(".gallgrid", 2),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let pid = fun.ge("div.grid-item").dataset.photoid;
            let aid = fun.ge(".gall_info_panel a.tdn").href.split("/").at(-1);
            let ghash = fun.ge(".gall_cp[data-ghash]").dataset.ghash;
            let total = parseInt(fun.gt(".ip_count"), 10);
            let pages = Math.ceil(total / 36);
            let headers = {
                "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                "x-requested-with": "XMLHttpRequest"
            };
            let resArr = fun.arr(pages).map((_, i) => fetch("/php/apg.php", {
                "headers": headers,
                "body": `mode=w&param={"page":${(i+1)},"ghash":"${ghash}"}`,
                "method": "POST"
            }).then(res => res.json()).then(json => json.r));
            thumbnailsSrcArray = await Promise.all(resArr).then(data => data.flat()).then(arr => {
                let html = arr.join("");
                let dom = fun.doc(html);
                return [...fun.gae(".gall_cover", dom)].map(e => e.dataset.src ?? e.src);
            });
            return fetch("/php/gall.php", {
                "headers": headers,
                "body": `x=x&pid=${pid}&aid=${aid}&ghash=${ghash}&width=1920`,
                "method": "POST"
            }).then(res => res.json()).then(json => {
                let arr = json.r;
                let html = arr.join("");
                let dom = fun.doc(html);
                return [...fun.gae("div.gall_pix_el", dom)];
            });
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".grid"], 2
        ],
        customTitle: () => fun.gt(".gall_title"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "URLGalleries",
        host: ["urlgalleries.net"],
        reg: /^https?:\/\/[^\.]+\.urlgalleries\.net\/porn-gallery-\d+\//,
        imgs: async () => {
            let links = [...new Set([...document.querySelectorAll(".gallerybody a[href*='?p=']")].map(a => a.href))];
            await fun.getEle(links, "#wtf>a", ["#wtf", 0]);
            thumbnailsSrcArray = [...fun.gae("#wtf>a>img")].map(img => img.src);
            return fun.getImgCorsA("img.pic", "#wtf>a");
        },
        button: [4],
        insertImg: [
            ["#wtf", 2, "#wtf"], 2
        ],
        customTitle: () => fun.gt(".galleryhead>h3>a"),
        category: "nsfw2"
    }, {
        name: "wikiFeet",
        host: ["www.wikifeet.com"],
        reg: /^https?:\/\/www\.wikifeet\.com\/[^\/]+$/,
        imgs: async () => {
            await fun.waitEle(".pic>a");
            let imgDir = document.querySelector(".pic>a").href.match(/[^\d]+/)[0];
            thumbnailsSrcArray = messanger["gdata"].map(e => "https://thumbs.wikifeet.com/" + e.pid + ".jpg");
            return messanger["gdata"].map(e => imgDir + e.pid + ".jpg");
        },
        button: [4],
        insertImg: ["#thepics", 2],
        customTitle: () => fun.gt("#content h1"),
        category: "nsfw1"
    }, {
        name: "Good Sex Porn",
        host: ["goodsexporn.org"],
        reg: /^https?:\/\/goodsexporn\.org\/galleries\/\d+\.html/,
        init: () => {
            [...fun.gae("#gallery>*:not(#galleryImages)")].forEach(e => {
                let x = e.parentNode.parentNode.parentNode.nextElementSibling;
                x.parentNode.insertBefore(e, x);
            });
        },
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#galleryImages>.blockItem img")].map(e => e.dataset.src ?? e.src).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]);
            return thumbnailsSrcArray.map(e => e.replace("thumbs/", ""));
        },
        button: [4],
        insertImg: [".content", 2],
        customTitle: () => fun.gt(".player-title"),
        css: "@media only screen and (max-width:450px){.related-block .block .blockItem.blockItemBox{width:120px !important}.block .blockItem{display:inline-block !important}}",
        category: "nsfw2"
    }, {
        name: "FitNakedGirls",
        host: ["fitnakedgirls.com"],
        reg: /^https?:\/\/fitnakedgirls\.com\/photos\/gallery\/[^\/]+\/$/,
        imgs: () => {
            if (fun.ge(".wp-block-image img[data-src]")) {
                return [...fun.gae(".wp-block-image img[data-src]")].map(e => e.dataset.src.replace(/-\d+x\d+(\.\w+)$/, "$1"));
            } else {
                return [...fun.gae(".entry-content img")].map(e => e.dataset.src ?? e.src);
            }
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replaceAll("/ ", "").replace(/\(\d+[\w\s\.\+-]+\)/, "").trim(),
        css: ".g1-column-2of3{width:100%!important}#secondary{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "R18hub",
        host: ["r18hub.com"],
        link: "https://r18hub.com/photos",
        reg: /^https?:\/\/r18hub\.com\/photo\/[\w-]+/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#photos>li")].map(e => e.dataset.thumb);
            return [...fun.gae("#photos>li")].map(e => e.dataset.src);
        },
        button: [4],
        insertImg: ["#photos", 2],
        customTitle: () => fun.title(" - R18hub"),
        category: "nsfw2"
    }, {
        name: "ZzUp.Com",
        host: ["zzup.com"],
        link: "https://zzup.com/user-album/3338/petmer/index.html",
        reg: /^https?:\/\/zzup\.com\/content\/.+index\.html/i,
        init: () => {
            fun.remove("//iframe|//div[div[center[script[contains(text(),'juicy')]]]][@class='container']|//font[b[contains(text(),'ads')]]");
            fun.createImgBox("//div[div[div[@class='picbox']]]", 2);
        },
        imgs: async () => {
            let max;
            try {
                max = fun.ge(".imgpagebar>a:last-child").href.match(/page-(\d+)/)[1];
            } catch (e) {
                max = 1;
            }
            if (max > 1) {
                let links = [];
                let url = siteUrl.replace("index.html", "");
                for (let i = 2; i <= max; i++) {
                    links.push(url + "page-" + i + ".html");
                }
                await fun.getEle(links, "//div[div[@class='picbox']]", ["//div[div[div[@class='picbox']]]", 0]);
            }
            thumbnailsSrcArray = [...fun.gae(".picbox img")].map(img => img.src);
            let links = [...fun.gae(".picbox>a")].map(a => a.href);
            return fun.getImgA("//main//a[img]", links, 100);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "//div[div[div[@class='picbox']]]"], 2
        ],
        customTitle: () => fun.title(" - ZzUp.Com").replace(/\[\d+[\w\s\.\+]+\]/i, ""),
        category: "nsfw2"
    }, {
        name: "ZzUp.Com 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/zzup\.com\//,
        init: () => fun.remove("iframe[src*='ad']"),
        autoPager: {
            ele: "//div[div[@class='picbox']]",
            observer: "//div[div[@class='picbox']]",
            next: "//a[h3[span[@class='glyphicon glyphicon-arrow-right']]]",
            re: "//div[div[@class='imgpagebar']]",
            history: 1,
            title: () => "Page" + nextLink.match(/page-(\d+)/)[1]
        },
        category: "autoPager"
    }, {
        name: "FreeXcafe",
        host: ["www.freexcafe.com"],
        reg: /www\.freexcafe\.com\/erotica\/[\w-]+\/[\w-]+\/index\.php/,
        init: () => fun.createImgBox("#content>*:last-child", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".thumbs>a>img")].map(e => e.src);
            return fun.getImgA("#imagelink>img", ".thumbs>a", 500);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 2, ".thumbs"], 2
        ],
        category: "nsfw2"
    }, {
        name: "TUPIC.TOP",
        host: ["www.tupic.top"],
        reg: /^https?:\/\/www\.tupic\.top\/(m\/)?\w+\/\d+\.html$/,
        imgs: "a[data-fancybox-group]",
        button: [4],
        insertImg: [".m-list1", 2],
        customTitle: () => fun.ge(".m-t1").textContent.replaceAll("\n", "").trim(),
        category: "nsfw2"
    }, {
        name: "EPORNER Photo",
        host: ["www.eporner.com"],
        link: "https://www.eporner.com/profile/namaiki/，https://www.eporner.com/profile/janekhansen/",
        reg: /\w{2,3}\.eporner\.com\/gallery\/.+\//,
        init: () => fun.createImgBox(".photosgrid", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("#container img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace("_296x1000", ""));
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 2, ".photosgrid"], 2
        ],
        customTitle: () => fun.gt("#galleryheader>h1"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "Asian Porn",
        host: ["asianporn.li"],
        link: "https://asianporn.li/photos/",
        reg: /^https?:\/\/asianporn\.li\/photo\/\d+\/[^\/]+\/$/i,
        init: () => fun.createImgBox(".photos", 2),
        imgs: async () => {
            await fun.getNP(".cell.photo", "li.active+li>a", null, ".pagination", 0, "img[data-src]");
            thumbnailsSrcArray = [...fun.gae(".photos img.thumb")].map(e => e.dataset.src ?? e.src);
            return fun.getImgA("#image .img-reponsive", ".photos a");
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 2, ".photos"], 2
        ],
        customTitle: () => fun.gt(".content-title"),
        category: "nsfw2"
    }, {
        name: "Xasiat",
        host: ["www.xasiat.com", "areegator.net", "snapmoms.com"],
        link: "https://www.xasiat.com/albums/",
        reg: /(www\.xasiat\.com|areegator\.net|snapmoms\.com)\/([\w]{2}\/)?albums\/\d+\/[\w-]+\//i,
        init: () => {
            [...fun.gae("img.thumb[data-original]")].forEach(img => img.src = img.dataset.original);
            fun.remove(".sponsor,.footer-margin");
            fun.createImgBox(".images", 2);
        },
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".images>a>img[data-original]")].map(e => e.dataset.original ?? e.src);
            return [...fun.gae(".images>a")];
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".images"], 2
        ],
        customTitle: () => fun.gt(".headline>h1").replace(/\[\d+[\w\s\.\+-]+\]|\(\d+[\w\s\.\+-]+\)/i, "").trim(),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.block-album{display:block!important}.block-album>.table,.top,.footer~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}",
        category: "nsfw2"
    }, {
        name: "Xasiat loadMore",
        host: ["www.xasiat.com"],
        link: "https://www.xasiat.com/albums/",
        reg: () => /www\.xasiat\.com\/albums\//.test(siteUrl) && fun.ge("#list_albums_common_albums_list_pagination"),
        init: () => {
            setInterval(() => {
                fun.remove("//div[iframe] | //iframe");
                if (document.body.getAttribute("class").length > 13) document.body.setAttribute("class", "big-container");
            }, 500);
        },
        observerClick: ".load-more>a",
        openInNewTab: ".list-albums a:not([target=_blank])",
        category: "ad"
    }, {
        name: "Xasiat去廣告",
        host: ["www.xasiat.com"],
        link: "https://www.xasiat.com/albums/",
        reg: /(www\.xasiat\.com\/albums\/$|www\.xasiat\.com\/albums\/categories\/)/,
        init: () => {
            [...fun.gae("img.thumb[data-original]")].forEach(img => img.src = img.dataset.original);
            fun.remove(".footer~*", 2000);
        },
        css: ".footer~*{display:none!important}",
        category: "ad"
    }, {
        name: "Erotic Pics",
        host: ["erotic.pics"],
        reg: () => /^https:\/\/erotic\.pics\/[^\/]+\/$/.test(siteUrl) && fun.ge(".entry-content img"),
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replace(/\s–\s\d+\spics/, ""),
        category: "nsfw2"
    }, {
        name: "Erotic Pics 分類自動翻頁",
        enable: 1,
        reg: /^https:\/\/erotic\.pics\//,
        autoPager: {
            ele: "#masonry",
            observer: "#masonry>article",
            next: "span.current+a",
            re: ".wp-pagenavi",
            title: (doc) => "Page " + fun.gt("span.current", 1, doc),
            history: 1
        },
        openInNewTab: "a.entry-thumbnail:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "xHamster gallery",
        host: ["xhamster.com"],
        link: "https://zh.xhamster.com/users/eros721_official/photos",
        reg: () => /xhamster\.com\/photos\/gallery\/[^/]+$/.test(siteUrl) && fun.ge(".gallery-section"),
        imgs: async () => {
            await fun.getNP("#initials-script", "//div[@class='gallery-section']//li[a[contains(@class,'active')]]/following-sibling::li[1]/a", null, ".gallery-section .pager-section");
            let photos = [...fun.gae("#initials-script")].map(script => {
                let json = JSON.parse(script.innerText.replace(/window.initials=|;/g, ""));
                return json.photosGalleryModel.photos;
            }).flat();
            thumbnailsSrcArray = photos.map(e => e.thumbURL);
            return photos.map(e => e.imageURL);
        },
        init: "fun.remove('.mixed-list>.flex-element')",
        button: [4],
        insertImg: [
            ["main>article", 2, "main>article,.gallery-controls"], 2
        ],
        customTitle: () => fun.gt(".page-title h1"),
        css: "div[data-role=promo-messages-wrapper]{display:none!important}",
        category: "nsfw2"
    }, {
        name: "xHamsterM gallery M",
        host: ["xhamster.com"],
        reg: /xhamster\.com\/photos\/gallery\/[^/]+$/,
        imgs: async () => {
            await fun.getNP(".items[data-role='gallery-photos']>.item-container", "//ol[@class='page-list']/li[@class='page-button' and a[@class='page-button-link page-button-link--active']]/following-sibling::li[1]/a", null, "//ol[@class='page-list']");
            return fun.getImgA("#photoCurr", "a.item.slided", 1, null, 0);
        },
        button: [4],
        insertImg: [".items[data-role=gallery-photos]", 1],
        customTitle: () => fun.gt("h1.page-title"),
        css: ".items[data-role=gallery-photos]>.item-container{width:100%!important}aside[data-role=yld-mdtop],.yld-md--bottom,.yld-pc--bottom,aside[data-role=yld-pctop],div[data-role=promo-messages-wrapper]{display:none!important}",
        category: "nsfw2"
    }, {
        name: "PornHub photo", //很容易會被短暫封IP
        host: ["pornhub.com"],
        link: "https://pornhub.com/albums",
        enable: 1,
        reg: /pornhub\.com\/album\/\d+/,
        imgs: () => fun.getImgA("#photoImageSection img", ".js_lazy_bkg a", 200),
        button: [4],
        insertImg: [
            [".photoBlockBox .clear", 1], 1
        ],
        go: 1,
        customTitle: () => fun.gt(".photoAlbumTitleV2").trim(),
        category: "nsfw2"
    }, {
        name: "BITCHES GIRLS",
        host: ["bitchesgirls.com"],
        reg: /^https?:\/\/bitchesgirls\.com\/[^\/]+\/[^\/]+\/[^\/]+\/$/,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            const selector = "script[type='application/ld+json']";
            const getUrls = (ele, doc) => {
                let text = fun.ge(ele, doc).innerText;
                let thumbnailUrls = text.match(/"thumbnailUrl":\s?"[^"]+/g).map(e => e.replace(/"thumbnailUrl":\s?"/, "")).filter(e => !/\/logos\//.test(e));
                thumbnailsSrcArray = thumbnailsSrcArray.concat(thumbnailUrls);
                let urls = text.match(/"url":\s?"[^"]+/g).map(e => e.replace(/"url":\s?"/, ""));
                urls.filter(e => /\.mp4$/.test(e)).forEach(e => {
                    videosSrcArray.push(e);
                });
                return urls.filter(e => !/\/logos\/|\.mp4$/.test(e));
            }
            const max = adConstants.pagesAmount;
            if (max > 1) {
                let links = [siteUrl];
                for (let i = 2; i <= max; i++) {
                    links.push(siteUrl + `${i}/`);
                }
                let fetchNum = 0;
                let resArr = [];
                for (let i = 0; i < max; i++) {
                    let res = await fun.fetchDoc(links[i]).then(doc => {
                        fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                        return getUrls(selector, doc);
                    });
                    resArr.push(res);
                }
                return Promise.all(resArr).then(data => data.flat());
            } else {
                return getUrls(selector, document);
            }
        },
        button: [4],
        insertImg: [
            [".button-container", 2, ".albumgrid,.popup-container"], 2
        ],
        go: 1,
        css: "a#loadMore,.my-girls-popup-element{display:none!important}",
        downloadVideo: true,
        category: "nsfw2"
    }, {
        name: "X-video",
        host: ["x-video.tube"],
        reg: /^https?:\/\/x-video\.tube\/albums\/\d+\//i,
        init: () => fun.createImgBox(".album-view", 2),
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let max = fun.attr("a[data-total]", "data-total");
            let fetchNum = 0;
            const getFn = url => {
                return fetch(url, {
                    "headers": {
                        "accept": "text/html, */*; q=0.01",
                        "x-requested-with": "XMLHttpRequest"
                    }
                }).then(res => res.text()).then(text => fun.doc(text)).then(dom => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                    return {
                        thumbsArr: [...fun.gae("a.grid-item img", dom)].map(e => e.dataset.src),
                        originalsArr: [...fun.gae("a.grid-item", dom)]
                    }
                });
            };
            let firstArr = [getFn(fun.url + "?mode=async&function=get_block&block_id=album_view_album_view")];
            let pagesArr = fun.arr(max).map((_, i) => getFn(fun.url + "?mode=async&function=get_block&block_id=album_view_album_view&load=more&from=" + (i + 1)));
            let resArr = firstArr.concat(pagesArr);
            return Promise.all(resArr).then(data => {
                thumbnailsSrcArray = data.map(e => e.thumbsArr).flat();
                return data.map(e => e.originalsArr).flat();
            });
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".album-view"], 2
        ],
        customTitle: () => fun.gt(".title"),
        category: "nsfw2"
    }, {
        name: "Fasting Sex Porn Pics/Cosplay Photos",
        host: ["www.fastingsex.com"],
        reg: /^https?:\/\/www\.fastingsex\.com\/post\//i,
        include: "//span[text()='Watch Gallery'] | //span[text()='Photo Gallery']",
        exclude: "//span[text()='Watch Movie']",
        init: async () => {
            fun.addMutationObserver(() => fun.remove("//div[div[div[div[iframe]]]]"));
            await fun.waitEle("img.gallery-item");
        },
        imgs: async () => {
            fun.ge("img.gallery-item").scrollIntoView();
            await fun.delay("2000");
            videosSrcArray = [...fun.gae("[data-breakout='normal'] video")].map(e => e.src);
            thumbnailsSrcArray = [...fun.gae("img.gallery-item")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/\/v1\/fill\/.+/, ""));
        },
        button: [4],
        insertImg: ["//div[div[div[div[@data-hook='galleryViewer']]]]", 2],
        customTitle: () => fun.gt(".post-title__text").replace(/\d+P\s?|\[\d+[\w+\s\.\+-]+\]\s?/, ""),
        downloadVideo: true,
        css: "#POPUPS_ROOT{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "Fasting Sex Hentai Pictures",
        host: ["www.fastingsex.com"],
        reg: /^https?:\/\/www\.fastingsex\.com\/post\//i,
        include: "//span[text()='Gallery']",
        exclude: "//span[text()='Watch Movie']",
        init: async () => {
            fun.addMutationObserver(() => fun.remove("//div[div[div[div[iframe]]]]"));
            await fun.waitEle("[data-breakout='normal'] [data-hook='imageViewer'] [data-image-info]");
        },
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("[data-breakout='normal'] [data-hook='imageViewer'] [data-image-info]>img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/\/v1\/fill\/.+/, ""));
        },
        button: [4],
        insertImg: ["//div[@data-hook='post-description']", 2],
        customTitle: () => fun.gt(".post-title__text").replace(/^\d+P\s?/, ""),
        css: "#POPUPS_ROOT{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "Fasting Sex Porn Comic",
        host: ["www.fastingsex.com"],
        reg: /^https?:\/\/www\.fastingsex\.com\/post\//i,
        include: "//a[text()='Porn Comic']",
        exclude: "//span[text()='Watch Movie']",
        init: async () => {
            fun.addMutationObserver(() => fun.remove("//div[div[div[div[iframe]]]]"));
            await fun.waitEle("img.gallery-item");
        },
        imgs: async () => {
            fun.ge("img.gallery-item").scrollIntoView();
            await fun.delay("2000");
            thumbnailsSrcArray = [...fun.gae("img.gallery-item")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/\/v1\/fill\/.+/, ""));
        },
        button: [4],
        insertImg: ["//div[@data-hook='post-description']", 2],
        customTitle: () => fun.gt(".post-title__text").replace(/\d+P\s?|\[\d+[\w+\s\.\+-]+\]\s?/, ""),
        downloadVideo: true,
        css: "#POPUPS_ROOT{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "EroMe",
        host: ["www.erome.com"],
        reg: /^https?:\/\/www\.erome\.com\/a\/\w+$/i,
        imgs: () => {
            videosSrcArray = [...fun.gae(".video source[type='video/mp4']")].map(e => e.src);
            return hasTouchEvents ? [...fun.gae(".img>img[data-src]")] : [...fun.gae("div.img[data-src]")];
        },
        button: [4],
        insertImg: ["div[id^='album'].page-content", 2],
        customTitle: () => fun.gt(".page-content h1"),
        category: "nsfw2"
    }, {
        name: "EroMe",
        host: ["erome.pics"],
        reg: /^https?:\/\/erome\.pics\/a\/\d+\/$/i,
        imgs: () => {
            videosSrcArray = [...fun.gae(".video source[type='video/mp4']")].map(e => e.src);
            return hasTouchEvents ? [...fun.gae(".img>img[data-src]")].map(e => e.currentSrc) : [...fun.gae("div.img[data-src]")];
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw2"
    }, {
        name: "DirtyChicks",
        host: ["dirtychicks.net"],
        reg: /^https?:\/\/dirtychicks\.net\/gallery\/[^\/]+\/$/i,
        imgs: () => [...fun.gae("#album img")].map(e => e.src.replace(/-\d+x\d+./, ".")),
        button: [4],
        insertImg: [".gallery_grid", 2],
        customTitle: () => fun.title(" - DirtyChicks"),
        category: "nsfw2"
    }, {
        name: "Amateur Likes",
        host: ["amateurlikes.com"],
        reg: /^https?:\/\/amateurlikes\.com\/n\/[^\/]+\/\d+$/i,
        imgs: "#gallery img",
        button: [4],
        insertImg: ["#gallery .masonry", 2],
        customTitle: () => fun.gt(".full_h1").replace(/\([\d\s]+Photos\)/i, "").trim(),
        css: "#gallery .masonry{display:block!important}",
        category: "nsfw2"
    }, {
        name: "Nakedsex",
        host: ["nakedsex.pics"],
        reg: /^https?:\/\/nakedsex\.pics\/.+\.php$/i,
        imgs: ".gallerycontent a",
        button: [4],
        insertImg: [
            [".tags", 2], 2
        ],
        go: 1,
        customTitle: () => fun.title(" - Best adult videos and photos"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "ThotHub Leaks",
        host: ["thothub.vip"],
        reg: /^https?:\/\/thothub\.vip\/[^\/]+\/$/i,
        imgs: ".entry-content img",
        customTitle: () => fun.gt(".entry-title").replace(/\([\d\s]+Photos\)/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "MrDeepFakes",
        host: ["mrdeepfakes.com"],
        reg: /^https?:\/\/mrdeepfakes\.com\/photo\/\d+\//,
        init: () => {
            fun.remove(".player-adv");
            fun.ge(".page-columns").classList.remove("page-columns");
        },
        imgs: () => {
            if (fun.ge("#album_view_album_view_pagination")) {
                fun.showMsg(displayLanguage.str_05, 0);
                let max = parseInt(fun.gt("//li[@class='next action-item']/preceding-sibling::li[@class='page action-item'][1]//span[@class='text']"), 10);
                let fetchNum = 0;
                let resArr = fun.arr(max).map((_, i) => {
                    let url = siteUrl + "?mode=async&function=get_block&block_id=album_view_album_view&sort_by=&from=" + (i + 1);
                    return fun.fetchDoc(url).then(doc => {
                        fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                        return [...fun.gae("a[data-fancybox-type=image]", doc)].map(a => {
                            let img = fun.ge("img", a);
                            return {
                                original: a.href,
                                thumbnail: img.dataset.original ?? img.src
                            }
                        });
                    });
                });
                return Promise.all(resArr).then(arr => {
                    thumbnailsSrcArray = arr.flat().map(e => e.thumbnail);
                    return arr.flat().map(e => e.original);
                });
            } else {
                thumbnailsSrcArray = [...fun.gae(".content img.thumb")].map(e => e.dataset.original ?? e.src);
                return [...fun.gae("a[data-fancybox-type=image]")];
            }
        },
        button: [4],
        insertImg: ["#album_view_album_view", 2],
        viewMode: 1,
        customTitle: () => fun.gt(".player-title"),
        category: "nsfw2"
    }, {
        name: "PicHunter",
        host: ["www.pichunter.com"],
        reg: /www\.pichunter\.com\/gallery\/\d+\/.+/,
        imgs: () => {
            if (fun.ge(".flex-images figure>a>img")) {
                thumbnailsSrcArray = [...fun.gae(".flex-images figure>a>img")].map(e => e.getAttribute("xs"));
            } else {
                thumbnailsSrcArray = [...fun.gae("#main-grid a img")].map(e => e.src);
            }
            return [...fun.gae(".flex-images figure>a,#main-grid a")];
        },
        button: [4],
        insertImg: [
            [".flex-images,#main-grid", 2], 1
        ],
        go: 1,
        customTitle: () => fun.gt("h1"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "Pictoa",
        host: ["www.pictoa.com"],
        reg: /www\.pictoa\.com\/(thumbs|albums)\/.+\.html/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".thumb-nav-img img")].map(e => e.dataset.src);
            return fun.getImgA("#player img", ".thumb-nav-img a");
        },
        button: [4],
        insertImg: ["#player", 2],
        customTitle: () => fun.gt(".title>h1"),
        css: "#gallery #player{cursor:unset!important}.ad-placement{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "PimpAndHost",
        host: ["pimpandhost.com"],
        link: "https://pimpandhost.com/site/trending",
        reg: /pimpandhost\.com\/(image|album)\/\d+/,
        init: () => {
            if (/image/.test(location.href)) location.href = fun.ge("a[title=Album]").href;
            fun.remove(".flex-block-1,.flex-block-2,#comments,.ano_po");
        },
        imgs: async () => {
            await fun.getNP("#album-images>.image-block", "li.active+li:not(.next)>a", null, ".pagination");
            return [...fun.gae("#album-images .image-block a[data-src]")];
        },
        button: [4],
        insertImg: [
            [".summary", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".author-header__album-name"),
        category: "nsfw2"
    }, {
        name: "PimpAndHost 隱藏廣告",
        reg: /pimpandhost\.com\//,
        init: "fun.remove('.flex-block-1,.flex-block-2,#comments,.ano_po')",
        css: ".list-view:not(#main-list-view) .item:not(.image-block){display:none!important}",
        category: "ad"
    }, {
        name: "Pornpaw 圖片清單頁",
        host: ["www.pornpaw.com"],
        reg: /www\.pornpaw\.com\/gallery\/[\w-]+\.html/i,
        delay: 500,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img[data-src]")].map(e => e.dataset.src);
            return [...fun.gae("img[data-src]")].map(e => e.dataset.src.replace("x160.", "."));
        },
        button: [4],
        insertImg: [
            [".container>.row", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("h1"),
        css: "div:has(>ins){display:none!important;}",
        category: "nsfw2"
    }, {
        name: "ImageFap 圖片清單頁",
        reg: /www\.imagefap\.com\/(gallery|pictures)\/\d+/i,
        init: () => fun.getNP("//tr[td[@id]]", "b+a.link3", null, "#gallery>font>span", 100, null, 0),
        category: "autoPager"
    }, {
        name: "ImageFap",
        host: ["www.imagefap.com"],
        reg: /www\.imagefap\.com\/photo\/\d+\//i,
        init: () => {
            fun.remove("//td[div[@id='main']]/following-sibling::td[1] | //div[iframe]");
            fun.ge("#main").removeAttribute("style");
            fun.ge("//table[@width='750']").width = "1000";
        },
        imgs: async () => {
            let max = parseInt(fun.attr("div[data-total]", "data-total"), 10);
            let pages = Math.ceil(max / 24);
            let pid = fun.ge("#imageid_input").value;
            let gid = fun.ge("#galleryid_input").value;
            let resArr = [];
            let fetchNum = 0;
            fun.showMsg(displayLanguage.str_05, 0);
            for (let i = 0; i < max; i += 24) {
                let url = `/photo/${pid}/?gid=${gid}&idx=${i}&partial=true`;
                let res = await fun.fetchDoc(url).then(doc => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${pages}`, 0);
                    if (!fun.ge(".thumbs a", doc)) {
                        alert("Encountered human-machine verification");
                        window.location.href = siteUrl;
                    }
                    return [...fun.gae(".thumbs a", doc)].map(a => {
                        let original = a.href;
                        let thumb = fun.attr("img", "src", a);
                        return {
                            original: original,
                            thumb: thumb
                        }
                    });
                });
                resArr.push(res);
                await fun.delay(1000, 0);
            }
            return Promise.all(resArr).then(data => data.flat()).then(arr => {
                let thumbs = arr.map(e => e.thumb);
                thumbnailsSrcArray = thumbs;
                let originals = arr.map(e => e.original);
                return originals;
            });
        },
        button: [4],
        insertImg: ["//td[div[@id='slideshow']]", 2],
        customTitle: () => fun.gt("#main h1"),
        threading: 8,
        category: "nsfw2"
    }, {
        name: "Fuskator 圖片清單頁",
        host: ["fuskator.com"],
        reg: /fuskator\.com\/thumbs\/[\w-~]+\/[\w-~]+\.html/i,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_04, 0);
            await fun.waitEle(".pic_pad");
            thumbnailsSrcArray = [...fun.gae("#thumbimages a>img,.swipebox a>img")].map(e => e.src);
            return [...fun.gae("#thumbimages a,.swipebox a")];
        },
        button: [4],
        insertImg: [
            ["//a[text()='View full images']", 2], 2
        ],
        go: 1,
        //customTitle: "return fun.gt('#info+h1')",
        category: "nsfw2"
    }, {
        name: "Fuskator 大圖頁",
        host: ["fuskator.com"],
        reg: () => /^https?:\/\/fuskator\.com\//i.test(siteUrl) && fun.ge("//a[text()='View gallery thumbnails']"),
        imgs: "img.full",
        button: [4],
        insertImg: ["#fullimages", 2, 1000],
        category: "nsfw2"
    }, {
        name: "TOKYO Motion",
        host: ["www.tokyomotion.net"],
        link: "https://www.tokyomotion.net/albums",
        reg: /^https?:\/\/www\.tokyomotion\.net\/album\/\d+\/.+/,
        imgs: async () => {
            await fun.getNP("div[id^=album_photo]", ".pagination li.active+li>a", null, ".pagination");
            thumbnailsSrcArray = [...fun.gae(".thumb-overlay img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace("tmb/", ""));
        },
        button: [4],
        insertImg: [
            ["//div[div[div[contains(@id,'album_photo')]]]", 0], 2
        ],
        go: 1,
        customTitle: () => [...fun.gae(".pull-left")][2].innerText.trim(),
        category: "nsfw2"
    }, {
        name: "JavBangers",
        host: ["javbangers.com"],
        reg: /www\.javbangers\.com\/albums\/.+/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".images img")].map(e => e.dataset.original ?? e.src);
            return [...fun.gae(".images a")];
        },
        button: [4],
        insertImg: [
            [".album-info", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".headline>h1").trim(),
        category: "nsfw2"
    }, {
        name: "multi.xnxx.com",
        host: ["multi.xnxx.com"],
        reg: /multi\.xnxx\.com\/gallery\/.+/,
        imgs: ".galleryPage .boxImg",
        button: [4],
        insertImg: [
            [".originalLink", 2], 1
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "色情圖片網",
        host: ["www.photos18.com"],
        reg: /www\.photos18\.com\/(\w+-hans\/)?\w+\/\w+/i,
        imgs: ".imgHolder a[data-fancybox]",
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.gt("h1.title").replace(/\s?\[\d+[\s\w]+\]|\s?\(\d+[\s\w]+\)|\d+P/i, ""),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "趣事館",
        host: ["17sex.vip"],
        link: "https://17sex.vip/list/4858",
        reg: /^https?:\/\/17sex\.vip\/pic\/\d+$/i,
        imgs: () => {
            let max = fun.gt(".count-pageindex") || 1;
            return fun.getImg(".page>img", max, "4");
        },
        button: [4],
        insertImg: [
            [".page", 0], 2
        ],
        go: 1,
        customTitle: () => document.title.replace(/\[\d+[\w\s\.\+]+\]|\d+P$/i, ""),
        category: "nsfw2"
    }, {
        name: "GavPorn 相冊",
        host: ["cav103.com"],
        link: "https://cav103.com/albums/",
        reg: /cav\d+\.com\/albums\/\d+\/\w+\//,
        imgs: "a[data-fancybox-type]",
        button: [4],
        insertImg: [".sponsor", 2],
        customTitle: () => fun.gt(".headline>h1"),
        css: ".top{display:none!important}",
        category: "nsfw2"
    }, {
        name: "BuzzAV",
        host: ["www.buzzav.com"],
        reg: /old\.buzzav\.com\/album\/\d+\//,
        imgs: async () => {
            await fun.getNP("//div[a[div[img[contains(@id,'album_photo')]]]]", ".pagination li.active+li>a", null, ".d-sm-block>.pagination");
            return [...fun.gae("[id^=album_photo]")].map(e => e.src.replace("tmb/", ""));
        },
        button: [4],
        insertImg: [
            [".well-info+.content-row", 2], 1
        ],
        go: 1,
        //customTitle: "return fun.gt('.box>h1').replace(/\\[\\d+P\\]/i,'').trim();",
        //css: ".well-info+.content-row{display: block!important;}#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "Hentai Image 單張",
        host: ["hentai-img.com", "hentai-cosplays.com", "porn-images-xxx.com", "porn-gravure-idol.com"],
        reg: /(hentai-img|hentai-cosplays|porn-images-xxx|porn-gravure-idol)\.com\/image\/[^/]+\//,
        include: "//a[text()='DETAIL PAGE' or text()='DETAIL HALAMAN' or text()='詳細へ' or text()='详细信息页面' or text()='Страница сведений' or text()='상세 페이지' or text()='página de detalles' or text()='หน้ารายละเอียด' or text()='TRANG CHI TIẾT']",
        imgs: async () => {
            let max = document.title.split("/").at(-1).match(/\d+/)[0];
            let url = siteUrl.replace(/\/\d+\/$/, "");
            let links = fun.arr(max).map((_, i) => url + `/${(i + 1)}/`);
            let imgSrcArray = await fun.getImgA("#display_image_detail a,#detail_list a", links, 100);
            thumbnailsSrcArray = imgSrcArray.map(e => {
                let arr = e.split("/");
                arr[arr.length - 1] = "p=305/" + arr[arr.length - 1];
                return arr.join("/");
            });
            return imgSrcArray;
        },
        button: [4],
        insertImg: ["#display_image_detail,#detail_list", 2],
        customTitle: () => fun.gt("#title>h2,#page h3").replace(/\s?Photo\s?\d+P|\s?-\s?\d+\/\d+\s?|\([0-9\s]+ảnh\)/i, "").trim(),
        css: "#display_image_detail img{max-width:100% !important}",
        category: "nsfw2"
    }, {
        name: "Hentai Image",
        host: ["hentai-img.com", "hentai-cosplays.com", "porn-images-xxx.com", "porn-gravure-idol.com"],
        reg: /(hentai-img|hentai-cosplays|porn-images-xxx|porn-gravure-idol)\.com\/image\/[^/]+\/(page\/\d+\/)?$/,
        init: () => {
            let ele = fun.ge("//div[span[a]]");
            if (ele) {
                let tE = fun.ge("#display_image_detail,#detail_list");
                tE.parentNode.insertBefore(ele, tE);
            }
        },
        imgs: async () => {
            let max = fun.gt("#paginator>*:last-child", 3) || fun.gt(".paginator_page[rel=next]", 2) || 1;
            let url = siteUrl.replace(/page\/\d+\/$/, "");
            let links = fun.arr(max).map((_, i) => url + `page/${(i + 1)}/`);
            thumbnailsSrcArray = await fun.getImgA(".icon-overlay img,#display_image_detail img", links, 100);
            thumbnailsSrcArray = thumbnailsSrcArray.map(e => {
                let arr = e.split("/");
                arr[arr.length - 2] = "p=305";
                return arr.join("/");
            });
            return thumbnailsSrcArray.map(e => e.replace(/\/p=(700|305)/, ""));
        },
        button: [4],
        insertImg: ["#display_image_detail,#detail_list", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='Prev Article' or text()='前の記事' or text()='前一篇']");
            return next ? next.href : null;
        },
        prev: "//a[text()='Next Article' or text()='次の記事' or text()='下一篇文章']",
        customTitle: () => fun.gt("#title>h2,#page h3").replace(/\s?Photo\s?\d+P|\s?-\s?\d+\/\d+\s?|\([0-9\s]+ảnh\)/i, "").trim(),
        css: "#display_image_detail img{max-width:100% !important}",
        category: "nsfw2"
    }, {
        name: "Hentai Cosplay",
        host: ["www.hentaicos.com"],
        reg: () => /^https?:\/\/www\.hentaicos\.com\/\w+\/\d+\.html/.test(siteUrl) && fun.ge(".main-picture"),
        imgs: () => fun.getImg(".main-picture img", fun.gt("//a[text()='Next']", 2) || 1, 9),
        button: [4],
        insertImg: [".main-picture", 2],
        next: ".next_pics>.fr>a",
        prev: ".next_pics>.fl>a",
        customTitle: () => fun.gt(".content-title"),
        category: "nsfw1"
    }, {
        name: "Fapator 圖片清單頁",
        host: ["www.fapator.com"],
        reg: /www\.fapator\.com\/\?content_id=/i,
        init: () => fun.remove("//div[@class='img' and a[@target and img]]"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a[data-lightbox]>img")].map(e => e.src);
            return [...fun.gae("a[data-lightbox]")];
        },
        button: [4],
        insertImg: [".fcon+.fapad", 1],
        next: "//a[contains(text(),'next photos')]",
        prev: 1,
        go: 1,
        css: ".fapad{width:auto !important;height:auto !important}",
        category: "nsfw2"
    }, {
        name: "SMUTPOND",
        host: ["www.smutpond.com"],
        reg: /www\.smutpond\.com\/gallery-pics\/\?uid=/i,
        imgs: () => {
            thumbnailsSrcArray = [...new Set([...fun.gae(".viewerPreview img")].slice(5).map(e => e.dataset.lazy ?? e.src))]
            return [...fun.gae("img[alt=Pic]")];
        },
        button: [4],
        insertImg: [".viewerBox", 2],
        customTitle: async () => {
            await fun.delay(2000, 0);
            return fun.gt("h2.sectionTitleLeft");
        },
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "SexyGirlsPics",
        host: ["sexygirlspics.com"],
        reg: /sexygirlspics\.com\/pics\/[\w-]+\//i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a.ss-image>img")].map(e => e.src);
            return [...fun.gae("a.ss-image")];
        },
        button: [4],
        insertImg: [
            [".sponsor-button", 2], 1
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "PornPic",
        host: ["www.pornpic.com"],
        reg: /www\.pornpic\.com\/gallery\/[\w-]+/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".gallery-grid a.item-link[data-fancybox] img")].map(e => e.src);
            return [...fun.gae(".gallery-grid a.item-link[data-fancybox]")];
        },
        button: [4],
        insertImg: [
            [".gallery-info", 2], 1
        ],
        go: 1,
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw2"
    }, {
        name: "Nuded Photo",
        host: ["www.nudedxxx.com"],
        reg: /^https?:\/\/www\.nudedxxx\.com\/photo\/[^\.]+\.shtml$/i,
        imgs: ".elementor-element-1f729717 .elementor-widget-container img",
        button: [4],
        insertImg: [".elementor-element-1f729717 .elementor-widget-container", 2],
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: "a[rel=next]",
        customTitle: () => fun.title(" – Nuded Photo"),
        css: "@media only screen and (max-width:480px){.hm-container{padding:0px!important}}",
        category: "nsfw2"
    }, {
        name: "Girlsreleased 載入更多",
        host: ["girlsreleased.com"],
        reg: /girlsreleased\.com\//,
        delay: 1000,
        include: "//button[text()='more']",
        observerClick: "//button[text()='more']",
        openInNewTab: ".content .main a",
        category: "autoPager"
    }, {
        name: "Girlsreleased",
        host: ["girlsreleased.com"],
        reg: /girlsreleased\.com\/set\/\d+/,
        init: () => fun.createImgBox(".images", 2),
        imgs: async () => {
            let ele = ".images .imageContainer .image img";
            await fun.waitEle(ele);
            thumbnailsSrcArray = [...fun.gae(".images .imageContainer .image img")].map(e => e.src);
            let src = fun.attr(ele, "src");
            let images = [...fun.gae(ele)];
            if (/imx\.to/.test(src)) {
                let tempSrc = src.replace("https://imx.to/u/t/", "https://i.imx.to/i/");
                return new Promise(async resolve => {
                    let obj = await fun.checkImgStatus(tempSrc);
                    if (obj.ok && obj.width > 200) {
                        resolve(images.map(e => e.src.replace("https://imx.to/u/t/", "https://i.imx.to/i/")));
                    } else {
                        resolve(images.map(e => e.src.replace("/t/", "/i/")));
                    }
                });
            } else if (/imgadult\.com/.test(src)) {
                return images.map(e => e.src.replace("small-medium/", "big/"));
            } else if (/pixhost\.to/.test(src)) {
                return images.map(e => e.src.replace("https://t", "https://img").replace("/thumbs/", "/images/"));
            } else if (/imagevenue/.test(src)) {
                return fun.getImgCorsA("#main-image", "a[target=imageView]");
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".images"], 2
        ],
        referer: "src",
        css: "@media only screen and (max-width:1920px){#FullPictureLoadMainImgBox{width:100%;max-width:1400px;margin:0 auto}}",
        category: "nsfw2"
    }, {
        name: "Eropics", // vipr.im,Imagetwist.com圖床無法外連但可以下載
        host: ["eropics.to"],
        reg: /eropics\.\w+\/\d+\/\d+\/\d+\//i,
        init: () => {
            document.addEventListener("keydown", event => {
                if (event.ctrlKey && event.altKey && (event.code == "KeyC" || event.key == "c" || event.key == "C")) {
                    event.preventDefault();
                    let arr = [...fun.gae(".entry-content a")].map(a => a.href);
                    let str = arr.join("\n");
                    console.log(str);
                    copyToClipboard(str);
                    fun.showMsg(displayLanguage.str_11);
                }
            });
        },
        imgs: async () => {
            let aEles = [...fun.gae(".entry-content a[href^='https://imgspice.com/'],.entry-content a[href^='http://imagetwist.com/'],.entry-content a[href*='postimg.cc'],.entry-content a[href*='fastpic.org'],.entry-content a[href*='vipr.im'],.entry-content a[href*='pixhost.to']:not([href*='/gallery/']),.entry-content a[href*='turboimagehost'],.entry-content a[href*='imgbox.com'],.entry-content a[href*='imagevenue'],.entry-content a[href*='imx.to'],.entry-content a[href*='imagebam']")];
            thumbnailsSrcArray = aEles.map(a => fun.ge("img", a).src);
            let URLs = aEles.map(a => a.href);
            return fun.getImageHost(URLs);
        },
        button: [4],
        insertImg: [
            [".entry-footer", 2], 3
        ],
        go: 1,
        threading: 10,
        customTitle: () => fun.gt("h1.entry-title"),
        category: "nsfw2"
    }, {
        name: "ViperGirls/PornCoven/ErotiCity",
        host: ["vipergirls.to", "viper.to", "porncoven.com", "eroticity.net"],
        reg: () => !hasTouchEvents && /^https?:\/\/(vipergirls\.to|viper\.to|porncoven\.com|eroticity\.net)\/threads\//i.test(fun.url),
        init: () => {
            document.addEventListener("click", event => {
                if (event.target.className === "postdetails") {
                    let links = [];
                    if (event.target.querySelector("a[href$='.jpg']:not([href^='http://imagetwist.com/'])")) {
                        links = [...event.target.querySelectorAll("a[href$='.jpg']")].map(a => a.href);
                    } else {
                        links = [...event.target.querySelectorAll("a[href^='https://imgspice.com/'],a[href*='imx.to']:not([href*='/u/i/']),a[href*='pixhost.to'],a[href^='http://imagetwist.com/'],a[href*='postimg.cc'],a[href*='fastpic.org'],a[href*='vipr.im'],a[href*='turboimagehost'],a[href*='imgbox.com'],a[href*='imagevenue'],a[href*='imagebam']")].map(a => a.href);
                    }
                    captureLinksArray = links;
                    fun.showMsg(`Capture ${links.length} Links`);
                    debug("captureLinksArray", captureLinksArray);
                }
            });
        },
        imgs: () => fun.getImageHost(),
        repeat: 1,
        category: "nsfw2"
    }, {
        name: "Kitty Kats Forum",
        host: ["kitty-kats.net"],
        reg: () => !hasTouchEvents && /^https?:\/\/kitty-kats\.net\/threads\//i.test(fun.url),
        init: () => {
            document.addEventListener("click", event => {
                if (event.target.className === "message-cell message-cell--user") {
                    let links = [];
                    if (event.target.parentNode.querySelector("a[href$='.jpg']:not([href^='http://imagetwist.com/'])")) {
                        links = [...event.target.parentNode.querySelectorAll("a[href$='.jpg']")].map(a => a.href);
                    } else {
                        links = [...event.target.parentNode.querySelectorAll("a[href^='https://imgspice.com/'],a[href*='imx.to']:not([href*='/u/i/']),a[href*='pixhost.to'],a[href^='http://imagetwist.com/'],a[href*='postimg.cc'],a[href*='fastpic.org'],a[href*='vipr.im'],a[href*='turboimagehost'],a[href*='imgbox.com'],a[href*='imagevenue'],a[href*='imagebam']")].map(a => a.href);
                    }
                    captureLinksArray = links;
                    fun.showMsg(`Capture ${links.length} Links`);
                    debug("captureLinksArray", captureLinksArray);
                }
            });
        },
        imgs: () => fun.getImageHost(),
        repeat: 1,
        category: "nsfw2"
    }, {
        name: "imx.to gallery",
        host: ["imx.to"],
        reg: /^https?:\/\/imx\.to\/g\/\w+$/i,
        imgs: () => [...fun.gae("img.imgtooltip")].map(e => e.src.replace("/u/t/", "/u/i/")),
        button: [4],
        insertImg: [
            ["#content", 2], 2
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "imx.to",
        host: ["imx.to"],
        reg: /^https?:\/\/imx\.to\/i\/\w+$/i,
        autoClick: ".button.blue.large,#continuebutton,a[title='Show gallery']",
        category: "none"
    }, {
        name: "Forum Girl",
        host: ["www.superbeautygirlx.top"],
        reg: /^https?:\/\/www\.superbeautygirlx\.top\/\d+\/\d+\/[^\.]+\.html/,
        init: () => fun.createImgBox(".separator", 1),
        imgs: ".separator>a",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".separator"], 2
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "ShowGirlx",
        host: ["showgirlx.net"],
        reg: /^https?:\/\/showgirlx\.net\/[^/]+\/(\d+\/)?$/,
        init: () => fun.clearAllTimer(),
        imgs: async () => {
            await fun.waitEle(".wp-block-gallery img", 10);
            return [...fun.gae(".wp-block-gallery img")].map(img => {
                let srcset = img.getAttribute("srcset");
                if (srcset) {
                    let splitArr = srcset.split(",");
                    splitArr = splitArr.sort((a, b) => a.match(/\s(\d+)w/)[1] - b.match(/\s(\d+)w/)[1]);
                    return splitArr.at(-1).trim().split(" ")[0];
                } else if (img.dataset?.lazySrc) {
                    return img.dataset.lazySrc;
                } else {
                    return img.src;
                }
            });
        },
        button: [4],
        insertImg: [
            [".penci-single-link-pages", 2], 2
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "ShowGirlx album",
        host: ["showgirlx.net"],
        reg: /ngamgaixinh\.\w+\/album\/.+/,
        imgs: () => [...fun.gae(".list-item-image img")].map(img => img.src.replace(/\.(th|md)\./, ".")),
        button: [4],
        insertImg: [
            [".pad-content-listing", 2], 2
        ],
        go: 1,
        category: "nsfw2"
    }, {
        name: "Degoo Cloud",
        host: ["app.degoo.com"],
        reg: /^https?:\/\/app\.degoo\.com\/share\//,
        imgs: async () => {
            let max = prompt(displayLanguage.str_13, "100");
            let img = ".preview-media .hidden";
            await fun.waitEle(img);
            let arr = [];
            arr.push(fun.ge(img).cloneNode(true));
            fun.showMsg(`${displayLanguage.str_02}1/${max}`, 0);
            let n = 1;
            for (let i = 1; i < max; i++) {
                fun.ge("#nextFileButton").click();
                await fun.delay(200, 0);
                if (await fun.waitEle(img)) {
                    arr.push(fun.ge(img).cloneNode(true));
                    fun.showMsg(`${displayLanguage.str_02}${n+=1}/${max}`, 0);
                }
            }
            return [...new Set(arr.map(e => e.src))];
        },
        category: "nsfw2"
    }, {
        name: "亚洲色吧",
        host: ["yazhouseba.com"],
        reg: () => /^https?:\/\/yazhouseba\.com\/meinv\/img-\d+\.html/.test(siteUrl) && fun.ge("#next-url"),
        imgs: async () => {
            let pid = fun.ge("#next-url").rel;
            let json = await new Promise(resolve => {
                $.post("ajax.php", {
                    "action": "src",
                    "pid": pid
                }, data => resolve(data), "json");
            });
            return json.error_code == "0" ? json.urls.map(e => img_dir + e) : [];
        },
        button: [4],
        insertImg: [".content>.image", 2],
        customTitle: () => fun.gt(".content>h1").replace(/\(\d+\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "1000艺术摄影/169图片大全",
        host: ["www.1000yishu.com", "www.169tp.com", "wap.169tp.com"],
        reg: /^https?:\/\/(www\.1000yishu\.com|www\.169tp\.com|wap\.169tp\.com)\/\w+\/\d+\/\d+\/\d+\.html/,
        imgs: () => {
            let max;
            try {
                max = fun.gt(".pagelist a").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg(".big-pic img,.inside_box img", max, 9);
        },
        button: [4],
        insertImg: [".big-pic,.inside_box", 2],
        autoDownload: [0],
        next: ".fenxianga a,.pre_arct a",
        prev: ".fenxianga a:last-child,.next_arct a",
        css: "union{display:none!important;}",
        category: "nsfw1"
    }, {
        name: "3K图片网格式",
        reg: () => {
            let hosts1 = ["www.021zxy.com", "www.0b23.com", "www.1001yy.com", "www.18qqt.com", "www.1taz.com", "www.2cra.com", "www.3ktu.com", "www.4k1k.com", "www.5269se.com", "www.579993.com", "www.714g.com", "www.777url.com", "www.803352.com", "www.832771.com", "www.959278.com", "www.aizibang.com", "www.ajkie.com", "www.ao5z.com", "www.aolangde.com", "www.biutu.com", "www.bjimx.com", "www.btsmmm.com", "www.bysga.com", "www.cdnecs.com", "www.cgareg.com", "www.cmylzx.com", "www.cpbdj.com", "www.csjgzy.com", "www.csltx.com", "www.cunedu.com", "www.czxbjc.com", "www.deenli.com", "www.diu5.com", "www.dymux.com", "www.edu-zytc.com", "www.fs120yy.com", "www.fssrr.com", "www.fxqmm.com", "www.fyzwe.com", "www.fzxfl.com", "www.ghsfc.com", "www.gkiev.com", "www.gknrnb.com", "www.gmcpx.com", "www.gxwpjc.com", "www.hceday.com", "www.hdz39.com", "www.hiuin.com", "www.hmcby.com", "www.hmrzry.com", "www.hsnmm.com", "www.hsudhf.com", "www.hyqcxs.com", "www.i9ke.com", "www.iduobi.com", "www.jnnmm.com", "www.jsjfgkgs.com", "www.jxaxsy.com", "www.jxybjk.com", "www.jye8.com", "www.ksruisj.com", "www.ksxx360.com", "www.ksxx365.com", "www.kyy41.com", "www.lcylaa.com", "www.linguifa.com", "www.lql1.com", "www.lzxjw.comc", "www.mash120.com", "www.mmdmlt.com", "www.mmokok.com", "www.mmxsl.com", "www.mokhee.com", "www.muhour.com", "www.nangluan.com", "www.nanitu.com", "www.ngptp.com", "www.nrrqq.com", "www.nxzths.com", "www.opks.cc", "www.php-art.com", "www.ppmlx.com", "www.qdsyhj.com", "www.qmjxg.com", "www.qxttsl.com", "www.qyjafk.com", "www.rodwy.com", "www.rzjyz.com", "www.sitpf.com", "www.smgcjk.com", "www.sqhyyz.com", "www.srzx168.com", "www.sskge.com", "www.sxji56.com", "www.sy-sme.com", "www.szckpt.com", "www.t7mm.com", "www.timitm.com", "www.tjsyyl.com", "www.tzala.com", "www.uwzyf.com", "www.wjjlf.com", "www.woxiutu.com", "www.wpslgs.com", "www.wslak.com", "www.wsvdj.com", "www.wt768.com", "www.wykpc.com", "www.wzcswy.com", "www.xcd100.com", "www.xgxff.com", "www.xhtrz.com", "www.xhycg.com", "www.xizhuai.com", "www.xr70.com", "www.xscmt.com", "www.xthkw.com", "www.xwdwz.com", "www.y521.com", "www.yachw.com", "www.ycwlx.com", "www.yjpfxs.com", "www.yqx101.com", "www.yunkay.com", "www.yvxji.com", "www.yymul.com", "www.yzbywh.com", "www.zggsdh.com", "www.zkjmpx.com", "www.zlsmm.com", "www.zqydc.com"];
            let hosts2 = ["www.7tul.com", "www.meinv007.com", "www.meinv173.com", "www.tufada.com"];
            return hosts1.includes(fun.lh) && /\/\w+\/\d+\.html$/.test(fun.lp) || hosts2.includes(fun.lh) && /\/tu\d+\.html$/.test(fun.lp);
        },
        include: "#showimg img,.img-box img",
        imgs: () => {
            let max;
            try {
                max = fun.ge(".endpage").href.match(/-(\d+)\.html/)[1];
            } catch (e) {
                max = 1;
            }
            return fun.getImgO("#showimg img,.img-box img", max, 5, null, 0, "#pageNum");
        },
        button: [4],
        insertImg: ["#showimg,.img-box", 2],
        autoDownload: [0],
        next: "a[title='上一篇']",
        prev: "a[title='下一篇']",
        category: "nsfw1"
    }, {
        name: "仿紳士漫畫UI寫真圖庫 簡介頁",
        reg: /^http/,
        include: [
            "//ul[@id='album_tabs']/li/a[@title='寫真圖庫'][text()='寫真圖庫']",
            ".png.bread a[title='寫真圖庫']",
            "//a[@class='btn'][text()='開始閱讀']",
            "#bodywrap",
        ],
        init: () => {
            fun.clearAllTimer();
            fun.createImgBox("#bodywrap", 2);
        },
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("//a[@class='btn'][text()='開始閱讀']").href;
            return fun.fetchDoc(url).then(doc => [...fun.gae("#photo_body img", doc)]);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.gt("#bodywrap>h2"),
        css: "#FullPictureLoadMainImgBox{max-width:1170px;margin-left:auto;margin-right:auto}",
        category: "nsfw1"
    }, {
        name: "仿紳士漫畫UI寫真圖庫 閱讀頁",
        reg: /\/read\/id\//,
        include: [
            "//ul[@id='album_tabs']/li/a[@title='寫真圖庫'][text()='寫真圖庫']",
            ".png.bread a[title='寫真圖庫']",
            "#photo_body"
        ],
        imgs: "#photo_body img",
        button: [4],
        insertImg: ["#photo_body", 2],
        customTitle: () => fun.title(/閱讀內頁.+/),
        css: "#photo_body{max-width:1170px;margin-left:auto;margin-right:auto}",
        category: "nsfw1"
    }, {
        name: "仿紳士漫畫UI寫真圖庫 分類自動翻頁",
        reg: /^http/,
        include: [
            "//ul[@id='album_tabs']/li/a[@title='寫真圖庫'][text()='寫真圖庫']",
            "#o_t_d>.gallary_wrap",
            ".bot_toolbar.cc"
        ],
        autoPager: {
            ele: "#o_t_d>.gallary_wrap",
            next: "#o_t_d a.curpage.listpage+a:not(.nextpage)",
            re: ".bot_toolbar.cc",
            title: doc => "Page " + fun.gt("a.curpage.listpage", 1, doc),
            bottom: screen.height * 2,
            history: 1
        },
        openInNewTab: "#o_t_d>.gallary_wrap a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "坏哥哥旧站",
        reg: /^http/,
        include: [
            "#content_news",
            "#content_news img",
            "#page",
            ".title h1"
        ],
        imgs: () => {
            let max = fun.gt("#page>*:last-child").match(/\d+/)[0];;
            let links = fun.arr(max).map((_, i) => i === 0 ? fun.url : fun.url + "index" + (i + 1) + ".html");
            return fun.getImgA("#content_news img", links);
        },
        button: [4],
        insertImg: ["#content_news", 2],
        customTitle: () => fun.gt(".title h1"),
        category: "nsfw2"
    }, {
        name: "坏哥哥旧站M",
        reg: /\.html$/,
        include: [
            ".fed-arti-content",
            ".fed-arti-content img",
            "//a[text()='尾页']",
            ".fed-arti-head h2"
        ],
        imgs: () => {
            let max = fun.ge("//a[text()='尾页']").href.match(/-(\d+)\.html$/)[1];
            let links = fun.arr(max).map((_, i) => i === 0 ? fun.url : fun.url.replace(".html", "") + "-" + (i + 1) + ".html");
            return fun.getImgA(".fed-arti-content img", links);
        },
        button: [4],
        insertImg: [".fed-arti-content", 2],
        customTitle: () => fun.gt(".fed-arti-head h2").replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "坏哥哥旧站M",
        reg: /^http/,
        include: [
            ".fed-arti-content",
            ".fed-arti-content img",
            ".fed-page-info",
            ".fed-arti-head h2"
        ],
        imgs: () => {
            let max = fun.gt(".fed-page-info>*:last-child").match(/\d+/)[0];
            let links = fun.arr(max).map((_, i) => i === 0 ? fun.url : fun.url + "index" + (i + 1) + ".html");
            return fun.getImgA(".fed-arti-content img", links);
        },
        button: [4],
        insertImg: [".fed-arti-content", 2],
        customTitle: () => fun.gt(".fed-arti-head h2").replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "坏哥哥新站",
        reg: /^http/,
        include: [
            ".single-video-info-content",
            ".single-video-info-content img",
            ".pagination",
            ".single-video-title h2"
        ],
        imgs: async () => {
            await fun.getNP(".single-video-info-content>*", ".pagination li.active+li>a:not([title='下一页'])", null, ".pagination");
            return [...fun.gae(".single-video-info-content img")];
        },
        button: [4],
        insertImg: [".single-video-info-content", 2],
        customTitle: () => fun.gt(".single-video-title h2").replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "万德美图屋/蚂蚁图库",
        host: ["www.wind5.com", "www.mayihz.com"],
        reg: () => /^https?:\/\/(www\.wind5\.com|www\.mayihz\.com)\/tu\d+\.html$/.test(siteUrl) && fun.ge("#portfolio img"),
        imgs: () => {
            let max;
            try {
                max = fun.ge("a[title=尾页]").href.match(/-(\d+)\.html/)[1];
            } catch (e) {
                max = 1;
            }
            return fun.getImgO("#portfolio img", max, 5);
        },
        button: [4],
        insertImg: ["#portfolio", 2],
        autoDownload: [0],
        next: "a[title='上一篇']",
        prev: "a[title='下一篇']",
        customTitle: () => fun.gt("h1.fed-swip-head"),
        category: "nsfw1"
    }, {
        name: "亿秀美女",
        host: ["www.tu11.com", "m.itu11.com"],
        reg: () => /^https?:\/\/(www|m)\.i?tu11\.com\/\w+\/\d+\/\d+\.html/.test(siteUrl) && fun.ge("#showimg img,.img-box img"),
        imgs: async () => {
            await fun.getNP("#showimg img,.img-box img", "a.curpage+a:not(.prepage)", null, "#paginationEle", 0, null, 0, 0);
            return [...fun.gae("#showimg img,.img-box img")];
        },
        button: [4],
        insertImg: ["#showimg,.img-box", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'上一篇')]/a | //a[text()='上一篇']",
        prev: "//div[contains(text(),'下一篇')]/a | //a[text()='下一篇']",
        category: "nsfw1"
    }, {
        name: "爱美女网",
        host: ["www.aimeinv6.com"],
        reg: /^https?:\/\/www\.aimeinv6\.com\/\w+\/\d+\.html/,
        init: () => {
            let a = fun.ge("a[href*=dPlayNext]");
            a.outerHTML = `<div class="imgBox">${a.innerHTML}</div>`;
        },
        imgs: () => {
            let max;
            try {
                max = fun.gt("//a[contains(text(),'共')]").match(/\d+/)[0];
            } catch (e) {
                max = 1;
            }
            return fun.getImg("#bigimg", max, 9);
        },
        button: [4],
        insertImg: [".imgBox", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'上一篇')]/a",
        prev: "//span[contains(text(),'下一篇')]/a",
        category: "nsfw1"
    }, {
        name: "中国人体艺术模特网/欧洲人体艺术套图网/亚洲人体艺术/日本人体艺术/美女人体艺术/更真人体艺术/一千美女",
        host: ["www.crtys.net", "crtys.net", "www.ozrt.live", "ozrt.live", "www.yzrt.live", "yzrt.live", "www.rbrt.live", "rbrt.live", "www.mnrt.live", "mnrt.live", "www.gengzhen.vip", "gengzhen.vip", "www.yqmn.live", "yqmn.live"],
        reg: /^https?:\/\/((www\.)?crtys\.net|(www\.)?(ozrt|yzrt|rbrt|mnrt|yqmn)\.live|(www\.)?gengzhen\.vip)\/(index\.php)?\?action-imagelist-uid-/,
        imgs: async () => {
            await fun.getNP(".imglist>*,.m_aana>ul,.main_column_pic,.pic-list>ul", "strong+a:not(.next)", null, ".pages");
            return fun.getImgA(".bigimg img,#articlebody img,.content_pic img,#big-pic img", ".imglist a,.m_aana a,.main_column_pic a,.pic-list a");
        },
        button: [4],
        insertImg: [".imglist,.m_aana,.main_column,.pic-list", 2],
        customTitle: () => fun.ge(".title>div[style],.imgWrap a,.name>a") ? fun.gt(".title>div[style],.imgWrap a,.name>a").replace(/\(\d+p\)|\s?\(.+\)\s?/i, "").trim() : fun.ge(".main_column_pic img").alt.replace(/\(\d+p\)|\s?\(.+\)\s?/i, "").trim(),
        category: "nsfw2"
    }, {
        name: "中国人体艺术模特网",
        host: ["www.crtys.net", "crtys.net"],
        reg: /^https?:\/\/(www\.)?crtys\.net\/html\/\d+\/n-\d+\.html/,
        imgs: () => fun.getImgA(".imgbox img", ".pages a"),
        button: [4],
        insertImg: [".imgbox", 2],
        customTitle: () => fun.gt(".tt>h1"),
        category: "nsfw2"
    }, {
        name: "性爱吧",
        host: ["www.xingaiba.com", "xingaiba.com"],
        reg: () => /^https?:\/\/(www\.)?xingaiba\.com\/\?action-viewnews-itemid-\d+$/.test(siteUrl) && fun.ge("//span[contains(text(),'美图类别')]"),
        imgs: async () => {
            await fun.getNP("#carousel_photo_container>*", "strong+a:not(.next)", null, ".pages");
            return [...fun.gae("#carousel_photo_container img")];
        },
        button: [4],
        insertImg: ["#carousel_photo_container", 2],
        autoDownload: [0],
        next: "div[style^='TEXT-ALIGN']>a:first-child",
        prev: "div[style^='TEXT-ALIGN']>a:last-child",
        customTitle: () => fun.gt(".n_content>h1"),
        category: "nsfw2"
    }, {
        name: "好312图库",
        host: ["www.hao312.xyz", "hao312.xyz", "www.hao312.live", "hao312.live"],
        reg: /^https?:\/\/(www\.)?hao312\.(xyz|live)\/html\/\d+\/n-\d+\.html$/,
        imgs: async () => {
            await fun.getNP("#picBody img", "li.thisclass+li>a", null, ".pages");
            return [...fun.gae("#picBody img")];
        },
        button: [4],
        insertImg: ["#picBody", 2],
        autoDownload: [0],
        next: ".next>a",
        prev: ".pre>a",
        customTitle: () => fun.gt(".articleTitle>h1"),
        category: "nsfw1"
    }, {
        name: "空图美女网",
        host: ["www.kongtu.com", "www.kongtu.com"],
        reg: /^https?:\/\/kongtu\.com\/post\/\d+\/$/,
        init: () => fun.clearAllTimer(),
        imgs: () => [...fun.gae(".LightGallery_Item")].map(e => e.getAttribute("lg-data-src")),
        button: [4],
        insertImg: [".viewall_plugin", 2],
        autoDownload: [0],
        next: ".prev>a",
        prev: ".next>a",
        customTitle: () => fun.gt("h1.tit").replace(/\d+p/i, ""),
        css: ".viewall_plugin{height:auto!important}@media only screen and (max-width:480px){.container{padding:0px !important}}",
        category: "nsfw1"
    }, {
        name: "阳雀人体艺术",
        host: ["www.yangque.xyz", "yangque.xyz"],
        reg: /^https?:\/\/www\.yangque\.xyz\/html\/\d+\/n-\d+\.html$/,
        imgs: async () => {
            await fun.getNP(".image-box>*", "strong+a:not(.next)", null, ".pages");
            return [...fun.gae(".image-box img")];
        },
        button: [4],
        insertImg: [".image-box", 2],
        autoDownload: [0],
        next: "a[title^='下一篇']",
        prev: "a[title^='上一篇']",
        customTitle: () => fun.gt(".article-title>h1"),
        category: "nsfw2"
    }, {
        name: "上流时尚人体艺术",
        host: ["www.6643.live", "6643.live"],
        reg: /^https?:\/\/www\.6643\.live\/html\/\d+\/n-\d+\.html$/,
        imgs: async () => {
            await fun.getNP("#d_BigPic", "strong+a:not(.next)", null, ".pages");
            return [...fun.gae("#d_BigPic img")];
        },
        button: [4],
        insertImg: ["#efpBigPic", 2],
        autoDownload: [0],
        next: "#efpNextTxt>a",
        prev: "#efpPreTxt>a",
        customTitle: () => fun.gt("#d_picTit"),
        category: "nsfw2"
    }, {
        name: "西西人体艺术",
        host: ["www.xixirenti.vip", "xixirenti.vip"],
        reg: /^https?:\/\/www\.xixirenti\.vip\/html\/\d+\/n-\d+\.html$/,
        imgs: async () => {
            await fun.getNP("//p[img]", "strong+a:not(.next)", null, ".pages", 0, null, 1, 0);
            return [...fun.gae(".pp img")];
        },
        button: [4],
        insertImg: [".pp", 2],
        customTitle: () => fun.gt("#ctt>h1"),
        category: "nsfw2"
    }, {
        name: "Girl Girl Go",
        host: ["girlgirlgo.org", "girlgirlgo.net", "girlgirlgo.xyz", "girlgirlgo.top", "girlgirlgo.icu", "girlgirlgo.biz", "girlygirlpic.com"],
        reg: /^https?:\/\/(\w{2}\.)?(girlgirlgo|girlygirlpic)\.(org|net|xyz|icu|com|biz|top)\/a\/\w+/,
        imgs: ".figure-link",
        button: [4],
        insertImg: [".post-media-body", 2],
        next: async () => {
            await fun.waitEle("a[rel=next]", 30);
            let next = fun.ge("a[rel=next]");
            return next ? next.href : null;
        },
        prev: "a[rel=prev]",
        customTitle: async () => {
            await fun.waitEle(".figure-link");
            return fun.gt(".entry-title a").split(" No.")[0].trim();
        },
        category: "nsfw1"
    }, {
        name: "QGirlz/CuteLadyPic",
        host: ["qgirlz.com", "cuteladypic.com"],
        reg: /^https?:\/\//,
        include: [
            ".main-image",
            "//a[@data-title and picture/source]",
            ".next",
            ".main-title"
        ],
        imgs: () => fun.getImg("//a[@data-title and picture/source]", (fun.gt(".next", 2) || 1), 16),
        button: [4],
        insertImg: [".main-image", 2],
        customTitle: () => fun.gt(".main-title").split(" No.")[0].trim(),
        category: "nsfw1"
    }, {
        name: "cn.angirlz.com", //SPA
        host: ["cn.angirlz.com"],
        reg: /^https?:\/\/\w{2}\.angirlz\.com\/album\/\w+/,
        imgs: async () => await fun.waitEle(".loading[style$=hidden]") ? [...fun.gae("#divGallery a")] : [],
        button: [4],
        insertImg: ["div[key=album_main]", 2],
        customTitle: () => fun.gt("h1"),
        category: "nsfw2"
    }, {
        name: "KawaiiX系列",
        host: ["bunnyxgirl.com", "letsgirlz.com", "bootyxgirl.com", "xbeautyzone.com"],
        reg: /^https?:\/\/(bunnyxgirl|letsgirlz|bootyxgirl|xbeautyzone)\.com\/[^/]+\/.+/,
        include: ".separator>a",
        imgs: ".separator>a",
        button: [4],
        insertImg: [
            [".album-post-inner,.album-postmeta-primarypix", 2, ".separator"], 2
        ],
        customTitle: () => fun.gt(".breadcrumbs>span:last-child"),
        category: "nsfw2"
    }, {
        name: "KawaiiX系列",
        host: ["cn.bunnyxgirl.com", "cn.letsgirlz.com", "cn.bestxleg.com", "cn.xbeautyzone.com"],
        reg: /^https?:\/\/\w{2}\.(bunnyxgirl|letsgirlz|bestxleg|xbeautyzone)\.com\/[^/]+\/\w+/,
        include: ".separator>a",
        imgs: () => fun.getImg(".separator>a", (fun.gt(".nav-links>*:last-child", 2) || 1), 16),
        button: [4],
        insertImg: [
            [".album-post-body .clear,.album-post-share-wrap", 1, "div[itemprop='description articleBody'],.album-post-body>*:not(.album-post-inner):not(.album-post-share-wrap):not(#FullPictureLoadOptionsButtonParentDiv,.FullPictureLoadImage,a[data-fancybox]):not(#FullPictureLoadEnd)"], 2
        ],
        customTitle: () => fun.gt(".breadcrumbs>span:last-child"),
        category: "nsfw2"
    }, {
        name: "KawaiiX系列 分頁",
        host: ["cn.kawaiithong.com", "cn.kawaiix.com", "cn.kawaiixgirl.com", "cn.kawaiixpic.com", "cn.kinkygirlz.com", "cn.kawaiimetas.com", "cn.assxpic.com", "cn.metaxpic.com", "cn.metaxgirl.com", "cn.eroticxgirl.com", "cn.sexyxpic.com", "cn.hottyxpic.com", "cn.thongxxx.com", "cn.juicexgirl.com", "cn.eroticxpic.com", "cn.bustyxgirl.com", "cn.beautyxgirl.com", "cn.bellexpic.com", "cn.pantyxpic.com", "cn.peachgirlz.com", "cn.pantyxart.com", "cn.beautyxpic.com", "cn.cutemetas.com", "cn.cutexpic.com", "cn.perfectxbody.com", "cn.sexyqgirl.com", "cn.bestxhips.com", "cn.bestxass.com", "cn.assgirlz.com", "cn.bestxbum.com", "cn.adultmetas.com cn", "eroticxpic.com", "cn.xxxthong.com", "cn.thongxgirl.com", "cn.bestxlingerie.com", "cn.sexyxart.com", "cn.hotxhips.com", "cn.hotbeautypic", "cn.greatxgirl.com", "cn.asianxpic.com", "cn.bootyxgirl.com", "cn.tokyohotgirl.com"],
        reg: /^https?:\/\//,
        include: [
            "//a[@data-title and picture/source]",
            ".hero+.hero,.entry-content,.d-flex>.col-24,.album-post",
            ".entry-title,.album-title,.album-post-title,.col-12>h1,.album-h1",
            ".nav-links"
        ],
        imgs: () => {
            let max;
            fun.ge(".current-page") ? max = fun.gt(".current-page").match(/\d+$/)[0] : max = fun.gt(".nav-links>*:last-child", 2) || 1;
            return fun.getImg("//a[@data-title and picture/source]", max, 16);
        },
        button: [4],
        insertImg: [".hero+.hero,.entry-content,.d-flex>.col-24,.album-post", 2],
        customTitle: () => fun.gt(".entry-title,.album-title,.album-post-title,.col-12>h1,.album-h1").split(" No.")[0].trim(),
        css: ".flex-grid:not(.masonry){display:block!important;}",
        category: "nsfw2"
    }, {
        name: "KawaiiX系列",
        host: ["kawaiithong.com", "kawaiix.com", "kawaiixgirl.com", "kawaiixpic.com", "kinkygirlz.com", "kawaiimetas.com", "assxpic.com", "metaxpic.com", "metaxgirl.com", "eroticxgirl.com", "sexyxpic.com", "hottyxpic.com", "thongxxx.com", "juicexgirl.com", "adultmetas.com", "eroticxpic.com", "bustyxgirl.com", "beautyxgirl.com", "bellexpic.com", "pantyxpic.com", "www.peachgirlz.com", "peachgirlz.com", "pantyxart.com", "beautyxpic.com", "cutemetas.com", "cutexpic.com", "perfectxbody.com", "sexyqgirl.com", "bestxhips.com", "assgirlz.com", "beautifulmetas.com", "pantyxgirl.com", "greatxpic.com", "xartpic.com", "perfectxpic.com", "bestxboobs.com", "artthong.com", "hotbeautypic.com", "greatxgirl.com", "asianxpic.com", "bestxleg.com", "tokyohotgirl.com", "bestxass.com"],
        reg: /^https?:\/\//,
        include: [
            "//a[@data-title and picture/source]",
            ".hero+.hero,.entry-content,.d-flex>.col-24,.album-post",
            ".entry-title,.album-title,.album-post-title,.col-12>h1,.album-h1"
        ],
        imgs: "//a[@data-title and picture/source]",
        button: [4],
        insertImg: [".hero+.hero,.entry-content,.d-flex>.col-24,.album-post,.album-h1", 2],
        customTitle: () => fun.title(/\s-\s[\w\.]+$/i).replace(/\s?\(\d+\s?photos\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "gogo人体艺术M",
        reg: /\/(wap|mip|m)\.(gogortrt|gogo38|956n|48mp|133rt|xixirt|488xm|rtys96|renti92|rt211|gogo44|xixi78|816mm|999zv|28rtys|454t|454t|784z|34tp|28xv|22bb|444rp|03hb|39um|45xm|444wp|005mm|188rt|7m11|61ak|34bu|344F|23bp|rty6|22gs|44aq|291103|508332|693350|660183|702038|873750|981070)\.(com|org)\/\w+\/\d+\/$/i,
        init: () => fun.remove("//div[div[@class='ad-16 clearfix']]"),
        imgs: () => fun.getImg(".tal a>img[alt]", fun.gae(".p_select option").length, 11),
        button: [4],
        insertImg: [".tal", 2],
        category: "nsfw2"
    }, {
        name: "gogo人体艺术M2",
        reg: /\/(m)\.(98ah|02aj|139tu)\.com\/\w+\/(\d+\/)?\d+\.html$/i,
        imgs: () => fun.getImg(".tal a>img[alt]", fun.gae(".p_select option").length, 9),
        button: [4],
        insertImg: [".tal", 2],
        css: "div[style='margin:3px 0 0 0;']{display:none!important}",
        category: "nsfw2"
    }, {
        name: "666人体艺术M",
        reg: /\/(m)\.(6666rt)\.com\/\w+\/\d+\/1\.html$/i,
        imgs: () => fun.getImg(".tal a>img[alt]", fun.gt(".article_page a").match(/\/(\d+)/)[1], 11),
        button: [4],
        insertImg: [".tal", 2],
        customTitle: () => fun.title("-第1张", 1),
        css: "div[style='margin:2px 0 0 0;']{display:none!important}",
        category: "nsfw2"
    }, {
        name: "gogo人体艺术",
        host: ["gogortrt.com", "956n.com"],
        reg: /\/(gogortrt|956n)\.[a-z]{2,3}\/[a-z]+\/\d+\//i,
        imgs: () => fun.getImg(".main>div>a>img[alt],.warp .content>a>img[alt]", fun.gt("//span[@class='current']/preceding-sibling::a|//a[@class='thisclass']/preceding-sibling::a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["//div[contains(@class,'main')]/div/a/parent::* | //div[contains(@class,'content') and a/img[@alt]]", 2],
        autoDownload: [0],
        next: ".crc_l_pic.left>a:not([href^=j])",
        prev: ".crc_r_pic.right>a:not([href^=j])",
        customTitle: () => /gogortrt\.com/.test(location.origin) ? fun.gt(".content_title") : fun.title(",", 1),
        category: "nsfw2"
    }, {
        name: "GOGO人体艺术",
        host: ["48mp.com", "133rt.com", "816mm.com"],
        reg: /(48mp\.com|133rt\.com|816mm\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".main>div>a>img[alt]", fun.gt(".main span", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["//div[contains(@class,'main')]/div[a/img[@alt]]", 2],
        autoDownload: [0],
        next: ".crc_l_pic.left>a:not([href^=j])",
        prev: ".crc_r_pic.right>a:not([href^=j])",
        customTitle: () => fun.gt(".content_title"),
        category: "nsfw2"
    }, {
        name: "666人体艺术 只翻預覽圖",
        host: ["6666rt.com"],
        reg: /6666rt\.com\/\w+\/\d+\/(index\.html)?/i,
        enable: 0,
        include: "//div[@class='boxx']//li[a[@target]/img]",
        init: () => fun.getNP("//div[@class='boxx']//li[a[@target]/img]", "a.curent+a[href]", null, ".pagelist"),
        category: "nsfw2"
    }, {
        name: "666人体艺术 大圖頁聚圖",
        host: ["6666rt.com"],
        reg: /6666rt\.com\/\w+\/\d+\//i,
        enable: 0,
        init: "document.onkeydown=null;",
        imgs: () => fun.getImg(".imgbox>a>img[alt]", fun.gt(".page>span#hover", 3).match(/\d+$/)[0], 11),
        button: [4],
        insertImg: ["//div[@class='imgbox' and a/img[@alt]]", 2],
        customTitle: () => fun.gt(".contitle h1>a"),
        css: "#FullPictureLoadEnd{color:rgb(0, 0, 0)}",
        category: "nsfw2"
    }, {
        name: "666人体艺术 翻完預覽圖立即插入大圖 getNP搭配getImgA",
        host: ["6666rt.com"],
        reg: /6666rt\.com\/\w+\/\d+\/(index\.html)?/i,
        enable: 1,
        include: "//div[@class='boxx']//li[a[@target]/img]",
        imgs: async () => {
            await fun.getNP("//div[@class='boxx']//li[a[@target]/img]", "a.curent+a[href]", null, ".pagelist");
            thumbnailsSrcArray = [...fun.gae("//div[@class='boxx']//li/a[@target]/img")].map(e => e.src);
            return fun.getImgA(".imgbox>a>img[alt]", "//div[@class='boxx']//li/a[@target and img]");
        },
        button: [4],
        //insertImg: [".boxx ul", 1],
        insertImg: [
            [".footdh", 1], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "//li[contains(text(),'上一')]/a",
        prev: "//li[contains(text(),'下一')]/a",
        customTitle: () => fun.title("_", 1),
        css: ".fzltp img{height:auto!important;width:100%!important}",
        category: "nsfw2"
    }, {
        name: "508人体艺术",
        host: ["508332.com"],
        reg: /508332\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".imgbox>a>img[alt]", fun.gt(".pagelist>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["//div[contains(@class,'imgbox') and a/img[@alt]]", 1],
        autoDownload: [0],
        next: "//li[contains(text(),'下一')]/a",
        prev: 1,
        customTitle: () => fun.title(" - 508", 1),
        category: "nsfw2"
    }, {
        name: "444人体艺术",
        host: ["444rp.com"],
        reg: /444rp\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".imgbox>a>img[alt]", fun.gt(".pagelist>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["//div[contains(@class,'imgbox') and a/img[@alt]]", 2],
        autoDownload: [0],
        next: ".zuopre>a",
        prev: ".younext>a",
        customTitle: () => fun.gt("font>a:nth-child(3)"),
        category: "nsfw2"
    }, {
        name: "64人体艺术",
        host: ["www.64ay.com"],
        reg: /www\.64ay\.com\/\w+\/\d+/i,
        imgs: () => fun.getImg(".tu>a>img[alt]", fun.gt(".page-show>span.current", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: ["//div[@class='tu' and a/img[@alt]]", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'下一')]/a[1]",
        prev: "//div[contains(text(),'上一')]/a[2]",
        customTitle: () => fun.title(",", 1),
        category: "nsfw2"
    }, {
        name: "45人体艺术/873人体艺术",
        host: ["45xm.com", "873750.com"],
        reg: /(45xm\.com|873750\.com)\/\w+\/\d+/i,
        imgs: () => fun.getImg(".tu>a>img[alt]", fun.gt(".page-show>span.current", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["//div[contains(@class,'tu') and a/img[@alt]]", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'下一')]/a[1]",
        prev: "//div[contains(text(),'上一')]/a[2]",
        customTitle: () => {
            try {
                return fun.gt(".wzbody>h1").split(/,|_/)[0];
            } catch (e) {
                return fun.gt(".wzbody>h1");
            }
        },
        category: "nsfw2"
    }, {
        name: "98人体艺术",
        host: ["www.98ah.com"],
        reg: /www\.98ah\.com\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".content-pic img[alt]", fun.gt(".current", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".content-pic", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'下一')]/a[1]",
        prev: "//div[contains(text(),'下一')]/a[2]",
        customTitle: () => fun.gt("h5").split(",")[0],
        category: "nsfw2"
    }, {
        name: "54人体艺术",
        host: ["www.54aj.com"],
        reg: /www\.54aj\.com\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt("#hover", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt(".content>h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "03人体艺术网",
        host: ["03hb.com"],
        reg: /03hb\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt("#hover", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt(".currentpath span:nth-child(2)>a:nth-child(2)").split(",")[0],
        category: "nsfw2"
    }, {
        name: "48人体艺术",
        host: ["www.48gd.com"],
        reg: /www\.48gd\.com\/\w+\/\d+\.html/i,
        init: "document.onkeydown=null;",
        imgs: () => fun.getImg("#content img[alt]", fun.gt(".pagelist>strong", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: ["#content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt(".photo-tit>h3").split(",")[0],
        category: "nsfw2"
    }, {
        name: "693人体艺术",
        host: ["693350.com"],
        reg: /693350\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#content img[alt]", fun.gt(".pagelist>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt(".photo-tit>h3").split(",")[0],
        category: "nsfw2"
    }, {
        name: "42人体艺术",
        host: ["www.42jd.com"],
        reg: /www\.42jd\.com\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".imgbox img[alt]", fun.gt(".pagelist>.curent", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".imgbox", 2],
        autoDownload: [0],
        next: "//li[contains(text(),'下一')]/a",
        prev: "//li[contains(text(),'上一')]/a",
        customTitle: () => fun.gt(".imgbox h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "36人体艺术",
        host: ["www.36ut.com"],
        reg: /www\.36ut\.com\/\w+\/\d+\.html/i,
        init: "document.onkeydown=null;",
        imgs: () => fun.getImg(".pp.hh img[alt]", fun.gt(".page-show>.current", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".pp.hh", 2],
        customTitle: () => fun.gt(".des>h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "西西人体艺术",
        host: ["xixirt.org", "291103.com"],
        reg: /(xixirt\.org|291103\.com)\/\w+\/\d+\//i,
        init: "document.onkeydown=null;",
        imgs: () => fun.getImg(".pp.hh img[alt]", fun.gt(".page-show>.current", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".pp.hh", 2],
        customTitle: () => fun.gt(".des>h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "366人体艺术/660人体艺术/18人体艺术",
        host: ["366807.com", "660183.com", "18renti.com"],
        reg: /(366807\.com|660183\.com|18renti\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt(".page-show>a,.page>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.title(/_西西| - 660| - 18/, 1),
        category: "nsfw2"
    }, {
        name: "702人体艺术/211人体艺术",
        host: ["702038.com", "rt211.com"],
        reg: /(702038\.com|rt211.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content-pic img[alt],#bomei img[alt]", fun.gt(".page-show>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content-pic,#bomei", 2],
        autoDownload: [0],
        next: ".updown>a,#prenext a",
        prev: 1,
        customTitle: () => fun.title(/- 702| - 211/, 1),
        category: "nsfw2"
    }, {
        name: "188人体艺术",
        host: ["188rt.com"],
        reg: /188rt\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#bomei img[alt]", fun.gt(".page-show>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#bomei", 2],
        autoDownload: [0],
        next: "#prenext a",
        prev: "#prenext li:last-child>a",
        customTitle: () => fun.gt("#bobox>h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "39人体艺术",
        host: ["39um.com"],
        reg: /39um\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content-pic img[alt],#bomei img[alt]", fun.gt(".page-show>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content-pic", 2],
        autoDownload: [0],
        next: ".updown>a",
        prev: 1,
        customTitle: () => fun.gt(".content>h5"),
        category: "nsfw2"
    }, {
        name: "23人体艺术",
        host: ["www.23fe.com"],
        reg: /www\.23fe\.com\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg("#content-p img[alt]", fun.gt(".thispg", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: ["#content-p", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt("#ctt>h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "AJ人体艺术",
        host: ["www.02aj.com"],
        reg: /www\.02aj\.com\/\w+\/\d+\.html/i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt(".thisclass", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//div[contains(text(),'下一')]/a",
        prev: "//div[contains(text(),'上一')]/a",
        customTitle: "return fun.gt('.title>h1');",
        category: "nsfw2"
    }, {
        name: "gogo人体艺术",
        host: ["gogo44.com"],
        reg: /gogo44\.com\/\w+\/\d+\//i,
        init: "fun.ge('.content a').removeAttribute('href')",
        imgs: () => fun.getImg(".content img[alt]", fun.gt(".thisclass", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content a", 2],
        autoDownload: [0],
        next: ".updown a",
        prev: ".updown span:last-child>a",
        customTitle: () => fun.title(/ - gogo/, 1),
        category: "nsfw2"
    }, {
        name: "28人体艺术/4F人体艺术",
        host: ["28rtys.com", "344f.com"],
        reg: /(28rtys\.com|344f\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".picbox img[alt]", fun.gt(".thisclass", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".picbox", 2],
        autoDownload: [0],
        next: ".page+.content-msg a",
        prev: 1,
        customTitle: () => fun.title(/ - 28| - 4F/, 1),
        category: "nsfw2"
    }, {
        name: "西西人体艺术",
        host: ["44aq.com"],
        reg: /44aq\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".picbox img[alt]", fun.gt(".page a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".picbox", 2],
        autoDownload: [0],
        next: ".updown_r>a",
        prev: ".updown_l>a",
        customTitle: () => fun.title(/,/, 1),
        category: "nsfw2"
    }, {
        name: "139人体艺术",
        host: ["www.139tu.com"],
        reg: /www\.139tu\.com\/\w+\/\d+\/\d+\.html/i,
        imgs: () => fun.getImg(".img_content img[alt]", fun.gt("#hover", 2).match(/\d+/)[0], 9),
        button: [4],
        insertImg: [".img_content", 2],
        customTitle: () => fun.gt("#title>h1"),
        category: "nsfw2"
    }, {
        name: "GOGO人体艺术网",
        host: ["gogo38.com"],
        reg: /(gogo38\.com|981070\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content_pic img[alt]", fun.gt(".current", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content_pic", 2],
        customTitle: () => fun.gt(".content>h1>a"),
        category: "nsfw2"
    }, {
        name: "488人体艺术",
        host: ["488xm.com"],
        reg: /488xm\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#content img[alt]", fun.gt(".pagelist>strong", 2).match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.gt("h3>a").split(",")[0],
        category: "nsfw2"
    }, {
        name: "92人体艺术",
        host: ["renti92.com"],
        reg: /renti92\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#gallery img[alt]", fun.gt(".pagination>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#gallery", 2],
        autoDownload: [0],
        next: ".other-prev a",
        prev: ".other-next a",
        customTitle: () => fun.title(/ - 92/, 1),
        category: "nsfw2"
    }, {
        name: "005人体艺术",
        host: ["005mm.com"],
        reg: /005mm\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#gallery img[alt]", fun.gt(".pagination>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#gallery", 2],
        autoDownload: [0],
        next: ".other-prev a",
        prev: ".other-next a",
        customTitle: () => fun.gt(".post-nav>a:nth-child(3)"),
        category: "nsfw2"
    }, {
        name: "西西人体艺术/711人体艺术",
        host: ["xixi78.com", "7m11.com"],
        reg: /(xixi78\.com|7m11\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#content img[alt]", fun.gt(".content-page>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#content", 2],
        customTitle: () => fun.title(/ - 西西| - 711/, 1),
        category: "nsfw2"
    }, {
        name: "96人体艺术/61人体艺术",
        host: ["rtys96.com", "61ak.com"],
        reg: /(rtys96\.com|61ak.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#showimages img[alt]", fun.gt(".bigpages>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#showimages", 2],
        autoDownload: [0],
        next: "#pageNum a",
        prev: 1,
        customTitle: () => fun.title(/ - 96| - 61/, 1),
        category: "nsfw2"
    }, {
        name: "999人体艺术/西西人体艺术",
        host: ["999zv.com", "34bu.com"],
        reg: /(999zv\.com|34bu.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".section.fix.tc img[alt]", fun.gt(".pages a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".section.fix.tc", 2],
        autoDownload: [0],
        next: ".arcLocal.r a",
        prev: 1,
        customTitle: () => fun.title(",", 1),
        category: "nsfw2"
    }, {
        name: "454人体艺术/爱上人体艺术",
        host: ["454t.com", "23bp.com"],
        reg: /(454t\.com|23bp\.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#content-p img[alt]", fun.gt(".page a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#content-p", 2],
        customTitle: () => fun.title(",", 1),
        category: "nsfw2"
    }, {
        name: "748人体艺术/66人体艺术",
        host: ["784z.com", "rty6.com"],
        reg: /(784z\.com|rty6.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".image-view img[alt]", fun.gt(".pages a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".image-view", 2],
        autoDownload: [0],
        next: ".i-digg>.article-adbottom a",
        prev: 1,
        customTitle: () => fun.title(/,|_/, 1),
        category: "nsfw2"
    }, {
        name: "34人体艺术/高清人体艺术",
        host: ["34tp.com", "22gs.com"],
        reg: /(34tp\.com|22gs.com)\/\w+\/\d+\//i,
        imgs: () => fun.getImg("#content-p img[alt]", fun.gt(".gengduo a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: ["#content-p p", 2],
        autoDownload: [0],
        next: ".gg a",
        prev: 1,
        customTitle: () => fun.title(/ - 34|,/, 1),
        category: "nsfw2"
    }, {
        name: "22bb人体艺术",
        host: ["22bb.org"],
        reg: /22bb\.org\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt(".page-show>a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: "//span[contains(text(),'下一')]/a",
        prev: "//span[contains(text(),'上一')]/a",
        customTitle: () => fun.title(",", 1),
        category: "nsfw2"
    }, {
        name: "444人体艺术",
        host: ["444wp.com"],
        reg: /444wp\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".content img[alt]", fun.gt(".page a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".content", 2],
        autoDownload: [0],
        next: ".page+.page a",
        prev: ".page+.page a+a",
        customTitle: () => fun.gt("h2"),
        category: "nsfw2"
    }, {
        name: "爱人体艺术",
        host: ["28xv.com"],
        reg: /28xv\.com\/\w+\/\d+\//i,
        imgs: () => fun.getImg(".imgTip+a>img[alt]", fun.gt(".page a").match(/\d+/)[0], 11),
        button: [4],
        insertImg: [".imgTip+a", 2],
        autoDownload: [0],
        next: ".updown_r>a",
        prev: ".updown_l>a",
        customTitle: () => fun.gt("h1").split(",")[0],
        category: "nsfw2"
    }, {
        name: "壹纳网",
        host: ["yinaw.com"],
        reg: () => /^https?:\/\/yinaw\.com\/\d+\.html$/.test(siteUrl) && fun.ge(".article-content img:not([src*='yinaw.png'])"),
        init: async () => {
            let links = [...fun.gae(".fenye>a")].map(a => a.href);
            if (links.length > 0) {
                links = [...new Set(links)];
                await fun.getEle(links, ".article-content>*:not(.open-message,.fenye,.article-social)", [".open-message", 1], ".fenye");
            }
            let imgs = [...fun.gae(".article-content img:not([src*='yinaw.png'])")];
            imgs.forEach(img => {
                if (/^https?:\/\/\w+\.sinaimg\.cn\//.test(img.src)) {
                    img.dataset.src = img.src.replace(/^(https?:\/\/\w+\.sinaimg\.cn\/)/, "https://image.baidu.com/search/down?url=$1").replace("/mw690/", "/large/");
                } else if (/^https?:\/\/i\d\.wp\.com\//.test(img.src)) {
                    img.dataset.src = img.src.replace("/mw690/", "/large/").replace(/\?w=.+$/, "").replace(/^https?:\/\/i\d\.wp\.com\//, "https://image.baidu.com/search/down?url=https://");
                } else {
                    img.dataset.src = img.src.replace("/mw690/", "/large/");
                }
            });
            if (setYinawSinaOriginalURL == 1) imgs.forEach(img => img.dataset.src = img.dataset.src.replace("https://image.baidu.com/search/down?url=", ""));
            imgs.forEach(img => {
                img.src = loading_bak;
                fun.imagesObserver.observe(img);
            });
        },
        imgs: ".article-content img:not([src*='yinaw.png'])",
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>a",
        customTitle: () => fun.gt(".article-title"),
        referer: "https://weibo.com/",
        category: "nsfw1"
    }, {
        name: "D哥新聞",
        host: ["dbro.news"],
        link: "https://dbro.news/category/p0-%e5%a5%97%e5%9c%96%e7%b3%bb%e5%88%97",
        reg: () => /^https?:\/\/dbro\.news\/\d+\/[^\.]+\.html/i.test(siteUrl) && fun.ge("p.pic_center,.content_left img,.container img.mt-1,.wp-block-gallery img,a.jig-link"),
        imgs: ".pic_center>img,.content_left img,.container img.mt-1,.wp-block-gallery img,a.jig-link",
        customTitle: () => fun.gt(".post-title").replace(/\[\d+[\w\s\.\+-]+\]|\(\d+[\w\s\.\+-]+\)/, "").trim(),
        category: "nsfw2"
    }, {
        name: "流量密碼",
        host: ["jo106.com"],
        link: "https://jo106.com/beauty-photo/",
        reg: () => /^https?:\/\/jo106\.com\/\d+\/$/i.test(siteUrl) && fun.ge("//div[@class='cat-links']/a[text()='美女圖片'][@rel='category tag']"),
        imgs: ".entry-content .col-md-12>img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title"),
        category: "nsfw1"
    }, {
        name: "R18成人站-流量密碼",
        host: ["r18.jo106.com"],
        reg: () => /^https?:\/\/r18\.jo106\.com\/\d+\/$/i.test(siteUrl) && fun.ge("//div[@class='cat-links']/a[text()='成人漫畫' or text()='清涼寫真' or  text()='歐美寫真' or  text()='性感激情' or  text()='絲襪美腿'][@rel='category tag']"),
        imgs: ".entry-content .col-md-12>img",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".entry-title").replace(/\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|【\d+[\w\s\.\+-]+】/, "").replace(/– 貼圖 –.+/, "").trim(),
        category: "nsfw2"
    }, {
        name: "尼克成人網 人體寫真",
        host: ["nick20.com"],
        link: "https://nick20.com/pic/index.html",
        reg: /^https?:\/\/nick20\.com\/pic\/pic\d+\.html$/i,
        imgs: () => {
            thumbnailsSrcArray = Large_cgurl.filter(item => item);
            return thumbnailsSrcArray.map(e => e.replace("https://thumbs", "https://images").replace("_t.", "_o."));
        },
        button: [4],
        insertImg: ["//center[img]", 2],
        customTitle: () => fun.gt(".bbs_entry_wrapper>h2"),
        category: "nsfw2"
    }, {
        name: "尼克成人網 成人漫畫",
        reg: /^https?:\/\/nick20\.com\/bbs2\/index\.cgi\?read=\d+/i,
        imgs: "a[id][onclick]",
        button: [4],
        insertImg: ["p.img", 2],
        customTitle: () => fun.gt(".bbs_entry_wrapper>h2"),
        category: "nsfw2"
    }, {
        name: "尼克成人網 成人貼圖 本土自拍 走光偷拍",
        reg: /^https?:\/\/nick20\.com\/bbs(3|5)?\/\d+\.html/i,
        imgs: "p#img>img",
        button: [4],
        insertImg: ["p#img", 2],
        customTitle: () => fun.gt(".bbs_entry_wrapper>h2"),
        category: "nsfw2"
    }, {
        name: "尼克成人網M",
        host: ["m.nick20.com"],
        link: "https://nick20.com/pic/index.html",
        reg: /^https?:\/\/m\.nick20\.com\/pic\/index\.(html|cgi)\?read=\d+$|^https?:\/\/m\.nick20\.com\/bbs(2|3|5)?\/\d+\.html$/i,
        imgs: () => {
            let imgs = [...fun.gae("img", [...fun.gae(".bbs_pictures")][0])];
            return fun.getImgSrcArr(imgs).filter(src => !/\/images\/share|\/add\/|aav999/.test(src));
        },
        button: [4],
        insertImg: [".bbs_pictures", 2],
        customTitle: () => fun.gt(".entryBlock>strong"),
        category: "nsfw2"
    }, {
        name: "五歌的开心网",
        host: ["happy.5ge.net"],
        reg: /^https?:\/\/happy\.5ge\.net\/archives\/\d+\.html$/,
        include: "//ul[@class='joe_bread__bread']//a[contains(text(),'图册')]",
        imgs: ".joe_detail__article img",
        button: [4],
        insertImg: [".joe_detail__article", 2],
        customTitle: () => fun.gt(".joe_detail__title"),
        fancybox: {
            v: 3,
            css: false
        },
        css: "div:has(>center>a>img){display:none!important;}",
        category: "nsfw2"
    }, {
        name: "我們的性愛日誌",
        host: ["www.sexdiary1769.com"],
        reg: /^https?:\/\/www\.sexdiary1769\.com\/article\/\d+$/,
        include: "//div[@class='category']/a[contains(text(),'寫真館')]",
        imgs: "#article-content img",
        button: [4],
        insertImg: ["#article-content", 2],
        customTitle: () => fun.gt(".top-info h1"),
        category: "nsfw2"
    }, {
        name: "湿女吧",
        host: ["shinv.link"],
        reg: /^https?:\/\/shinv\.link\/posts\/\w+\/$/i,
        imgs: "//div[@class='p-1 col-span-12 md:col-span-9']//img[@class='block my-2 mx-auto']",
        button: [4],
        insertImg: ["//div[@class='p-1 col-span-12 md:col-span-9']", 2],
        customTitle: () => fun.gt("h1.text-xl"),
        category: "nsfw2"
    }, {
        name: "粉色家园",
        host: ["www.top888.com", "top888.com"],
        reg: /^https?:\/\/(www\.)?top888\.com\/thread\/\d+/i,
        init: async () => {
            await fun.waitEle(".card-body");
            let code = fun.gst("author");
            let json = JSON.parse(code);
            siteJson = json;
            debug("\n此頁JSON資料\n", siteJson);
            await fun.waitEle("iframe[src*='sendvid']", 50);
        },
        imgs: () => siteJson.image,
        capture: () => siteJson.image,
        customTitle: () => siteJson.headline,
        category: "nsfw2"
    }, {
        name: "哔咔庇护所v2",
        host: ["ios.zzgo810.top"],
        reg: /\/content\/\?id=\w+&dname=comic(\w+)*&catid=\d+(&eps=\d+)?$/i,
        include: "//title[contains(text(),'哔咔庇护所')]",
        init: async () => {
            fun.remove("//div[@class='row'][div/a/img]");
            await fun.waitEle("#lightbox~img");
        },
        imgs: () => fun.ge("#lightbox a") ? [...fun.gae("#lightbox a")] : [...fun.gae("#lightbox~img")],
        button: [4],
        insertImg: ["//div[div[@id='lightbox']]", 2],
        customTitle: () => fun.gt("#comic-view-main .text-center"),
        category: "nsfw2"
    }, {
        name: "福利中心",
        host: ["www.fulizx1.xyz", "www.fulizx101.cc"],
        reg: () => /^\/index\.php\/art\/detail\/id\/\d+\.html$/i.test(fun.lp) && fun.ge("//title[contains(text(),'福利中心')]") && fun.ge("#image_show"),
        imgs: "#image_show img",
        customTitle: () => fun.gt("#Video-Title,.area-title").replace(" - 查看图片", "").replace(/\s\(\d+[\w\s\.\+-]+\)/, "").replace(/《|》/g, ""),
        css: ".swing{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "XO福利圖",
        host: ["diedk1123-ake33i.xofulitu2za222.sbs", "www.xofulitu9ok999.xyz"],
        link: "https://diedk1123-ake33i.xofulitu2za222.sbs/xoxo",
        reg: () => /\/art\/pic\/id\/\d+\/$/i.test(siteUrl) && fun.ge("//title[contains(text(),'XO福利圖')]"),
        imgs: ".picture-wrap img",
        button: [4],
        insertImg: [".container.clearfix", 2],
        go: 1,
        customTitle: () => fun.gt(".main-title:not(.recommend-title)").replace(/\s?-?\s?\(\d+P\)|\[\d+[\+\.\w\s-]+\]|【\d+P】|\s?\d+P/i, ""),
        category: "nsfw2"
    }, {
        name: "XO福利圖 分類自動翻頁",
        enable: 1,
        reg: () => /^https?:\/\/[^\/]+\/arttype\//.test(siteUrl) && fun.ge("//title[contains(text(),'XO福利圖')]"),
        autoPager: {
            ele: ".container.clearfix",
            observer: ".container.clearfix .album",
            next: ".paging-item--current+a",
            re: ".pagging-div",
            lazySrc: "img[data-src]",
            history: 1,
            title: doc => "Page" + fun.gt(".paging-item--current", 1, doc)
        },
        openInNewTab: ".picture-list a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "MOMO图库",
        host: ["www.momotk.com", "momotk5.uno"],
        link: "https://www.rb1.es/momotk/",
        reg: /^https?:\/\/(www\.momotk\.com|momotk\d\.uno)\/\d+\.html$/i,
        imgs: async () => {
            await fun.getNP(".ngg-gallery-thumbnail-box", "span.current+a", null, ".ngg-navigation");
            thumbnailsSrcArray = [...fun.gae(".ngg-gallery-thumbnail-box a")].map(a => a.dataset.thumbnail);
            return [...fun.gae(".ngg-gallery-thumbnail-box a")].map(a => a.dataset.src);
        },
        button: [4],
        insertImg: [".article-content", 2],
        go: 1,
        customTitle: () => fun.gt(".article-title"),
        css: ".asst-single-header{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "魅影画廊",
        host: ["www.wc1.es", "myhl5.uno", "www.jb9.es"],
        link: "https://wc2.es/myhl",
        reg: /^https?:\/\/(www\.wc1\.es|myhl\d.uno|www\.jb\d\.es)\/\d+\.html$/i,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".gallery a")].map(a => a.href);
            let xhrNum = 0;
            fun.showMsg("fun.xhrHEAD...", 0);
            return thumbnailsSrcArray.map(e => e.replace("-scaled", "")).map(async (src, i) => {
                let res = await fun.xhrHEAD(src);
                fun.showMsg(`fun.xhrHEAD(${xhrNum+=1}/${thumbnailsSrcArray.length})`, 0);
                let status = res.status;
                return status == 404 ? thumbnailsSrcArray[i] : src;
            });
        },
        button: [4],
        insertImg: [
            [".gallery", 2, ".gallery"], 2
        ],
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>a",
        customTitle: () => fun.gt(".article-title"),
        fancybox: {
            v: 3,
            css: false
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw2"
    }, {
        name: "色色图库",
        host: ["www.sstuku13.xyz", "sstuku6.xyz", "sstuku7.xyz", "sstuku8.xyz", "sstuku9.xyz", "sstuku10.xyz", "sstuku11.xyz", "sstuku12.xyz", "sstuku13.xyz", "sstuku14.xyz", "sstuku15.xyz"],
        reg: /^https?:\/\/(www\.)?sstuku\d+\.xyz\/artshow-\d+\.html$/i,
        imgs: ".entry-media img",
        button: [4],
        insertImg: [".entry-content", 2],
        go: 1,
        customTitle: () => fun.gt(".single-post-detail").replace("😋 ", ""),
        category: "nsfw1"
    }, {
        name: "美女写真图集",
        host: ["www.112ze.com", "112ze.com"],
        reg: /^https?:\/\/(www\.)?112ze\.com\/index\.php\/\w+\/\d+\.html$/i,
        imgs: ".post-content img",
        button: [4],
        insertImg: [".post-content", 2],
        customTitle: () => fun.gt(".mdui-text-black"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "nsfw1"
    }, {
        name: "聚姬集",
        host: ["18jjj.cyou", "18jjj.xyz"],
        reg: () => /^https?:\/\/18jjj\.\w+\/chapter\/\d+$/i.test(siteUrl) && fun.ge("#enc_img img"),
        init: () => {
            fun.clearAllTimer();
            fun.remove("//div[@class='comicpage']/a[img[@alt]] | //div[@class='comicpage']/div[script] | //div[@id='cp_img']/a[img[@alt]] | //div[@id='cp_img']/div[script]");
        },
        imgs: async () => {
            await fun.getNP("#enc_img>div,#enc_img>img", "//a[text()='下一页'][@href]", null, ".fanye,.view-bottom-bar");
            return [...fun.gae("#enc_img img")];
        },
        button: [4],
        insertImg: ["#enc_img", 2],
        customTitle: () => fun.ge(".comic-name") ? fun.gt(".comic-name") : bookInfo.book_name,
        css: "#pubcdnModal{display:none!important;}img{opacity:1!important;}",
        category: "nsfw1"
    }, {
        name: "adultspic色情成人圖片",
        host: ["adultspic.com"],
        reg: /^https?:\/\/adultspic\.com\/\d+\.html$/i,
        imgs: async () => {
            await fun.getNP(".wp-block-image", "//a[text()='下一頁']");
            return [...fun.gae(".wp-block-image img")].map(e => e.src);
        },
        button: [4],
        insertImg: [".article-content", 2],
        autoDownload: [0],
        next: ".article-nav-prev>a",
        prev: ".article-nav-next>a",
        customTitle: () => fun.gt(".article-title"),
        css: ".ssr-content{display:none!important;}",
        category: "nsfw2"
    }, {
        name: "中国街拍",
        host: ["www.cnjiepai.xyz"],
        reg: /^https?:\/\/www\.cnjiepai\.xyz\/\d+\/[\w-]+\.html$/i,
        imgs: "a[data-fancybox]",
        button: [4],
        insertImg: [
            ["//p[a[img]]", 2, "//p[a[img]]"], 2
        ],
        customTitle: () => fun.gt("article>h1"),
        fancybox: {
            v: 3,
            css: false
        },
        css: "@media only screen and (max-width:480px){article{width:100%!important}}",
        category: "nsfw1"
    }, {
        name: "美图收藏夹",
        host: ["sifang.app"],
        reg: /^https?:\/\/sifang\.app\/node\/\d+$/i,
        imgs: "a[data-fancybox]",
        button: [4],
        insertImg: [
            ["//p[a[img]]", 2, "//p[a[img]]"], 2
        ],
        customTitle: () => fun.gt(".page-title"),
        fancybox: {
            v: 3,
            css: false
        },
        css: "@media only screen and (max-width:480px){article{width:100%!important}}",
        category: "nsfw1"
    }, {
        name: "名腿网",
        host: ["www.mingtuiw.com", "mingtui.net"],
        reg: /^https?:\/\/(www\.mingtuiw\.com|mingtui\.net)\/archives\/\d+$/,
        exclude: ".swpm-more-tag-not-logged-in,.swpm-more-tag-restricted-msg",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".entry-content img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/-\d+x\d+(\.\w+)$/, "$1"))
        },
        button: [4],
        insertImg: [".entry-content>p", 2],
        autoDownload: [0],
        next: ".nav-previous>a[rel=prev]",
        prev: ".nav-next>a[rel=next]",
        customTitle: () => fun.gt(".entry-title").replace(/（\d+图）/, "").trim(),
        category: "nsfw1"
    }, {
        name: "名腿网",
        host: ["www.mingtuiw.com"],
        reg: () => {
            if (/^https?:\/\/www\.mingtuiw\.com\/archives\/\d+$/.test(siteUrl)) {
                let num = fun.gt(".entry-title").match(/（(\d+)图）/)[1];
                let tImgsNum = [...fun.gae(".entry-content img")].length;
                if (num == tImgsNum) return true;
            }
            return false;
        },
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".entry-content img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/-\d+x\d+(\.\w+)$/, "$1"))
        },
        button: [4],
        insertImg: [".entry-content>p", 2],
        autoDownload: [0],
        next: ".nav-previous>a[rel=prev]",
        prev: ".nav-next>a[rel=next]",
        customTitle: () => fun.gt(".entry-title").replace(/（\d+图）/, "").trim(),
        category: "nsfw1"
    }, {
        name: "名腿网",
        host: ["www.mingtuiw.com"],
        reg: /^https?:\/\/www\.mingtuiw\.com\/archives\/\d+\/.+$/,
        exclude: "#div_img_vip",
        imgs: async () => {
            let links = [...fun.gae("#thumb_imglist>a")].map(a => a.href);
            let imgSrcs = await fun.getImgA(".entry-content img.attachment-large", links);
            return imgSrcs.map(e => e.replace(/-\d+x\d+(\.\w+)$/, "$1"))
        },
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => document.title.replace(/（\d+\/\d+）.+/, "").trim(),
        category: "nsfw1"
    }, {
        name: "Ai19 Art/Ai art nude/Hentaimama",
        host: ["ai19.art", "ainudesporn.art", "hentaimama.xyz"],
        reg: /^https?:\/\/(ai19\.art|ainudesporn\.art|hentaimama\.xyz)\/news\//,
        imgs: ".entry-content img",
        button: [4],
        insertImg: [
            ["//p[img]", 2, "//p[img]"], 2
        ],
        customTitle: () => fun.gt(".entry-header").replaceAll("|", "-"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw1"
    }, {
        name: "Kungfutv",
        host: ["kungfutv.net"],
        reg: /^https?:\/\/kungfutv\.net\/cosplay\/[^\/]+\//,
        imgs: "#readerarea img",
        button: [4],
        insertImg: [
            ["#readerarea img", 1, ".ts-main-image"], 2
        ],
        customTitle: () => fun.gt(".entry-title"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "nsfw1"
    }, {
        name: "18Kami.com",
        host: ["18kami.com"],
        reg: /^https?:\/\/18kami\.com\/photo\/\d+/,
        init: () => {
            setTimeout(() => {
                fun.ge("#chk_cover").click();
            }, 1000);
        },
        imgs: ".thumb-overlay-albums img",
        button: [4],
        insertImg: [".thumb-overlay-albums", 2],
        customTitle: () => fun.gt(".panel-heading>.pull-left"),
        fetch: 1,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "逆次元逆ACG",
        host: ["www.nicohentai.com"],
        reg: /^https?:\/\/www\.nicohentai\.com\/(moeupup-\d-\d+\.html|showinfo-\d+-\d+-\d\.html)$/,
        include: ".row.thumb-overlay-albums",
        init: async () => await fun.getNP(".row.thumb-overlay-albums img", ".pagination li.active+li>a:not(.prevnext)"),
        imgs: ".row.thumb-overlay-albums img",
        button: [4],
        insertImg: [".row.thumb-overlay-albums", 2],
        next: "//a[span[text()='下一页']][@href]",
        prev: 1,
        customTitle: async () => {
            let text = await fun.fetchDoc(fun.ge("//a[span[text()='漫畫簡介']]").href).then(albumDoc => {
                let comicName = fun.gt(".panel-heading h1", 1, albumDoc);
                let episode = fun.ge(".episode", albumDoc);
                return episode ? comicName + " - " + fun.gt(".panel-heading>.pull-left") : comicName;
            });
            return text.replace(/\(\d+[\w\s\.\+-]+\)/i, "").replace(/［\d+[\w\s\.\+-]+］/i, "").trim();
        },
        category: "hcomic"
    }, {
        name: "禁漫天堂",
        reg: () => {
            let hosts = ["18comic.vip", "18comic.org", "18comic-cn.vip", "18comic-palworld.club", "18comic-c.xyz", "18comic-c.art", "18comic-fun.xyz", "jmcomic.me", "jmcomic1.me", "jm-comic1.art", "jm-comic2.art", "jm-comic3.art", "18comic-ff7rebirth.xyz", "18comic-ff7rebirth.quest", "18comic-ff7rebirth.club"];
            return fun.indexOf(hosts, fun.lh) && /\/photo\/\d+/.test(fun.lp);
        },
        init: async () => {
            setTimeout(() => {
                fun.ge("#chk_cover").click();
                fun.ge("#chk_guide").click();
            }, 1000);
            fun.remove("//div[contains(text(),'插件')] | //div[@class='col-xs-6'][div[@data-group]] | //div[@class='panel-body']//div[@data-group] | //div[@class='row'][div[div[@data-group]]] | //div[@class='div_sticky2 hidden-lg']");
            await fun.getNP(".scramble-page", ".pagination li.active+li>a:not(.prevnext)");
        },
        imgs: async () => {
            fun.showMsg(displayLanguage.str_01, 0);
            let arr = [];
            let fetchNum = 0;
            let imgs = [...document.querySelectorAll(".scramble-page img[id],.owl-item .center img[id]")];
            for (let i = 0; i < imgs.length; i++) {
                let getRedraw = new Promise(async resolve => {
                    const url = imgs[i].dataset.original ?? imgs[i].dataset.src;
                    if (url.includes(".gif") || aid < scramble_id) {
                        resolve(url);
                    } else {
                        const blob = await fetch(url).then(res => res.blob());
                        const fileName = new URL(url).pathname.split("/").at(-1);
                        const [id, ex] = fileName.split(".");
                        const img = new Image();
                        img.src = URL.createObjectURL(blob);
                        await new Promise((resolve, reject) => (img.onload = resolve, img.onerror = reject));
                        const imgWidth = img.naturalWidth;
                        const imgHeight = img.naturalHeight;
                        const canvas = new OffscreenCanvas(imgWidth, imgHeight);
                        const canvas_2d = canvas.getContext("2d");
                        const num = get_num(btoa(aid), btoa(id));
                        const cropHeight = parseInt(imgHeight % num, 10);
                        const sHeight = Math.floor(imgHeight / num);
                        let sy = imgHeight - cropHeight - sHeight;
                        let dy = cropHeight;
                        canvas_2d.drawImage(img, 0, sy, imgWidth, cropHeight + sHeight, 0, 0, imgWidth, cropHeight + sHeight);
                        for (let i = 1; i < num; ++i) {
                            canvas_2d.drawImage(img, 0, sy -= sHeight, imgWidth, sHeight, 0, dy += sHeight, imgWidth, sHeight);
                        }
                        URL.revokeObjectURL(img.src);
                        canvas.convertToBlob({
                            type: blob.type,
                            quality: 0.9
                        }).then(blob => {
                            fun.showMsg(`DrawImage ${fetchNum+=1}/${imgs.length}`, 0);
                            resolve(URL.createObjectURL(blob));
                        });
                    }
                });
                arr.push(getRedraw);
                await fun.delay(100);
            }
            return arr;
        },
        button: [4, "24%", 1],
        insertImg: ["//div[@class='panel-body'][div[@class='row thumb-overlay-albums']]", 0],
        next: "//a[span[text()='下一話']][@href]",
        prev: 1,
        customTitle: () => {
            return fun.fetchDoc(fun.ge("//a[span[text()='漫畫簡介']]").href).then(albumDoc => {
                let comicName = fun.gt(".panel-heading h1", 1, albumDoc).replaceAll("/", "").replace(/\s?\[禁漫漢化組\]/, "");
                let episode = fun.ge(".episode", albumDoc);
                if (episode) {
                    let id = fun.lp.match(/\d+/)[0];
                    let selector = `.episode a[data-album="${id}"]`;
                    let text = fun.gt(selector, 1, albumDoc);
                    let chapterName = text.split("\n").filter(item => item)[0];
                    return comicName + " - " + chapterName.replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim();
                } else {
                    return comicName.replace(/\[\d+[\w\s\.\+-]+\]/i, "").trim();
                }
            });
        },
        fetch: 1,
        css: ".hidden-lg:not(.panel)[style*='z-index']{display:none!important;}",
        category: "hcomic"
    }, {
        name: "禁漫天堂",
        reg: () => {
            let hosts = ["18comic.vip", "18comic.org", "18comic-cn.vip", "18comic-palworld.club", "18comic-c.xyz", "18comic-c.art", "18comic-fun.xyz", "jmcomic.me", "jmcomic1.me", "jm-comic1.art", "jm-comic2.art", "jm-comic3.art", "18comic-ff7rebirth.xyz", "18comic-ff7rebirth.quest", "18comic-ff7rebirth.club"];
            return fun.indexOf(hosts, fun.lh);
        },
        init: () => {
            setTimeout(() => {
                fun.ge("#chk_cover").click();
                fun.ge("#chk_guide").click();
            }, 1000);
            let selectors = [
                "//div[contains(text(),'插件')]",
                "//div[@class='col-xs-6'][div[@data-group]]",
                "//div[@class='panel-body']//div[@data-group]",
                "//div[@class='row'][div[div[@data-group]]][not(div[@id='album_photo_cover'])][not(div[*[@class='panel panel-default']])][not(div[@class='col-xs-12 col-md-9 col-sm-8' and div[@class='well well-sm']])]",
                "//div[@class='div_sticky2 hidden-lg']"
            ]
            fun.remove(selectors);
        },
        css: ".hidden-lg:not(.panel)[style*='z-index']{display:none!important;}",
        category: "ad"
    }, {
        name: "E-Hentai圖片清單頁",
        host: ["e-hentai.org", "exhentai.org"],
        reg: /(e-hentai|exhentai).org\/g\/\d+\/\w+\/$/,
        exclude: "//h1[text()='Content Warning']",
        imgs: async () => {
            await fun.getNP(".gdtm,.gdtl", ".ptds+td>a", null, "//tr[td[@class='ptds']]");
            if (options.fancybox == 1 && !isDownloading) {
                //預覽縮圖網址需要裁剪難弄...
                if (fun.ge(".gdtm img[style],.gdtl img[style]")) {
                    let thumbnailsHeightData = [...document.querySelectorAll(".gdtm img,.gdtl img")].map(e => parseInt(e.style.height.match(/\d+/)[0], 10));
                    let thumbnailUrls = [...new Set([...document.querySelectorAll(".gdtm>div,.gdtl>div")].map(div => div.getAttribute("style").split("url(")[1].split(")")[0]))];
                    let getThumbnai = 0;
                    fun.showMsg("Get Thumbnailsing...", 0);
                    let blobs = thumbnailUrls.map((url, i, arr) => {
                        return fun.xhr(url, "blob").then(blob => {
                            fun.showMsg(`Get Thumbnails ${getThumbnai += 1}/${arr.length}`, 0);
                            return blob;
                        });
                    });
                    let heightIndex = 0;
                    let crop = 0;
                    await Promise.all(blobs).then(async blobArr => {
                        fun.hideMsg();
                        for (let i = 0; i < blobArr.length; i++) {
                            fun.showMsg(`Thumbnails Crop ${crop += 1}/${blobArr.length}`, 0);
                            //console.log(`預覽縮圖裁切第${crop}張`);
                            let img = new Image();
                            img.src = URL.createObjectURL(blobArr[i]);
                            await new Promise((resolve, reject) => (img.onload = resolve, img.onerror = reject));
                            for (let w = 0; w < img.width; w += 100) {
                                let canvas = document.createElement("canvas");
                                canvas.height = thumbnailsHeightData[heightIndex];
                                canvas.width = 100;
                                canvas.getContext("2d").drawImage(img, -Math.abs(w), 0);
                                let dataURL = canvas.toDataURL("image/webp", 0.5);
                                let thumbnailBlobURL = fun.dataURLtoBlobURL(dataURL);
                                thumbnailsSrcArray.push(thumbnailBlobURL);
                                //console.log(thumbnailBlobURL);
                                heightIndex++;
                            }
                        }
                    });
                } else {
                    thumbnailsSrcArray = [...document.querySelectorAll(".gdtm img,.gdtl img")].map(e => e.src);
                }
            }
            if (E_HENTAI_LoadOriginalImage == 1) {
                fun.showMsg(displayLanguage.str_01, 0);
                let fetchNum = 0;
                return [...fun.gae(".gdtm a,.gdtl a")].map(async (a, i, arr) => {
                    await fun.delay(100 * i, 0);
                    return fun.fetchDoc(a.href).then(async doc => {
                        fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${parseInt(arr.length, 10)}`, 0);
                        let fullimg = fun.ge("a[href*=fullimg]", doc);
                        let img = fun.ge("#img", doc);
                        if (fullimg) {
                            let url = fullimg.href;
                            let res = await fun.xhrHEAD(url);
                            let finalUrl = res.finalUrl;
                            return /login\.php/.test(finalUrl) ? img.src : url;
                        } else {
                            return img.src;
                        }
                    });
                });
            } else {
                return fun.getImgA("#img", ".gdtm a,.gdtl a", 100);
            }
        },
        button: [4],
        insertImg: [
            ["#gdt", 0], 3
        ],
        go: 1,
        customTitle: () => {
            let t = fun.gt("#gj").replace(/\/|\[\d+[\w\.\+\s-]+\]/i, "");
            return t.length > 0 ? t : fun.gt("#gn").replace(/\|.+|\[\d+[\w\.\+\s-]+\]/i, "").trim();
        },
        topButton: true,
        threading: 4,
        category: "hcomic"
    }, {
        name: "E-Hentai圖片清單頁",
        host: ["e-hentai.org"],
        link: "https://e-hentai.org/lofi/",
        reg: /^https?:\/\/e-hentai\.org\/lofi\/g\/\w+\/\w+\//,
        imgs: async () => {
            await fun.getNP(".gi", "//a[text()='Next Page >' or text()='下一页 >']", null, "#ia")
            return fun.getImgA("#sm", ".gi>a", 100);
        },
        button: [4],
        insertImg: [
            ["#ia", 2], 3
        ],
        customTitle: () => fun.title(" - E-Hentai", 1).replace(/\|.+/, "").replace(/\//, "").trim(),
        go: 1,
        topButton: true,
        threading: 8,
        category: "hcomic"
    }, {
        name: "nhentai圖片清單頁",
        host: ["nhentai.net", "nyahentai.red", "www.hentai.name", "nhentai.xxx", "nhentai.to", "simplyhentai.org"],
        reg: /(nhentai\.net|nyahentai\.red|www\.hentai\.name|nhentai\.xxx|nhentai\.to|simplyhentai\.org)\/g\/\d+\/?$/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae("a.gallerythumb>img")].map(e => e.dataset.src ?? e.src);
            if (/nhentai\.net/.test(siteUrl)) {
                const hostArray = ["i", "i3", "i5", "i7"];
                const randomHost = arr => {
                    let choose = Math.floor(Math.random() * Math.floor(arr.length));
                    let rValue = arr[choose];
                    return rValue;
                };
                return _gallery.images.pages.map((img, index) => `https://${randomHost(hostArray)}.nhentai.net/galleries/${gallery.media_id}/${index + 1}.${{j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[img.t]}`);
            } else if (/nyahentai\.red/.test(siteUrl)) {
                fun.showMsg(displayLanguage.str_05, 0);
                let imgDir = fun.ge(".gallerythumb>img").src.match(/.+\//)[0];
                let url = fun.ge("a.gallerythumb").href;
                let iframe = await fun.iframeVar(url, 1000, "images_ext");
                return iframe.images_ext.map((img, index) => `${imgDir}${(index + 1)}.${{j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[img]}`);
            } else if (/nhentai\.xxx/.test(siteUrl)) {
                fun.showMsg(displayLanguage.str_05, 0);
                let max = fun.gt(".pages").match(/\d+/)[0];
                let img = fun.ge(".gallery_thumbs img");
                let src = img.dataset.src ?? img.src;
                let imgDir = src.match(/.+\//)[0];
                let url = fun.ge(".gallery_thumbs a").href;
                let iframe = await fun.iframeVar(url, 1000, "g_th");
                return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[iframe.g_th.fl[(i + 1)][0]]}`);
            } else if (/nhentai\.to/.test(siteUrl)) {
                fun.showMsg(displayLanguage.str_05, 0);
                let url = fun.ge("a.gallerythumb").href;
                let iframe = await fun.iframeVar(url, 1000, "reader");
                let imgDir = iframe.reader.media_url + "/galleries/" + iframe.reader.gallery.media_id + "/";
                return iframe.reader.gallery.images.pages.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[e.t]}`);
            } else if (/simplyhentai\.org/.test(siteUrl)) {
                return [...fun.gae(".thumbs img,.thumb-container img")].map(e => e.dataset.src ? e.dataset.src.replace(/t(\.\w+)$/, "$1") : e.src.replace(/t(\.\w+)$/, "$1"));
            } else if (/www\.hentai\.name/.test(siteUrl)) {
                return [...fun.gae(".thumb-container img")].map(e => e.src.replace(/_thumb(\.\w+)$/, "$1"));
            }
        },
        button: [4],
        insertImg: [
            [".thumbs,#thumbnail-container,.outer_thumbs", 0], 2
        ],
        autoClick: ["#show-all-images-button,#show_all"],
        customTitle: () => {
            if (/nhentai\.net/.test(siteUrl)) {
                return gallery.title.japanese ?? gallery.title.english;
            } else {
                let h2 = fun.gt("h2.title,h2");
                return h2.length > 4 ? h2 : fun.gt("h1.title,h1");
            }
        },
        threading: 8,
        go: 1,
        topButton: true,
        css: ".advt{display:none!important}",
        category: "hcomic"
    }, {
        name: "nhentai閱讀頁",
        host: ["nhentai.net"],
        reg: /^https?:\/\/nhentai\.net\/g\/\d+\/\d+\/$/,
        imgs: () => {
            const hostArray = ["i", "i3", "i5", "i7"];
            const randomHost = arr => {
                let choose = Math.floor(Math.random() * Math.floor(arr.length));
                let rValue = arr[choose];
                return rValue;
            };
            return _gallery.images.pages.map((img, index) => `https://${randomHost(hostArray)}.nhentai.net/galleries/${_gallery.media_id}/${index + 1}.${{ j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[img.t]}`);
        },
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => _gallery.title.japanese ?? _gallery.title.english,
        threading: 4,
        category: "hcomic"
    }, {
        name: "nyahentai.red閱讀頁",
        host: ["nyahentai.red"],
        reg: /^https?:\/\/nyahentai\.red\/g\/\d+\/\d+\/$/,
        imgs: () => {
            let imgDir = fun.ge("#image-container img").src.match(/.+\//)[0];
            return images_ext.map((img, index) => `${imgDir}${(index + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[img]}`);
        },
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => fun.title(" » ", 1),
        threading: 4,
        category: "hcomic"
    }, {
        name: "www.hentai.name閱讀頁",
        host: ["www.hentai.name"],
        reg: /^https?:\/\/www\.hentai\.name\/g\/\d+\/\d+\/$/,
        imgs: () => {
            let max = fun.gt(".num-pages");
            let [, imgDir, ex] = fun.ge("#image-container img").src.match(/(.+\/)\d+(\.\w+)$/);
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}${ex}`);
        },
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => fun.title(" - Hentai.name"),
        threading: 4,
        category: "hcomic"
    }, {
        name: "simplyhentai.org閱讀頁",
        host: ["simplyhentai.org"],
        reg: /^https?:\/\/simplyhentai\.org\/g\/\d+\/\d+\/$/,
        imgs: () => {
            let max = fun.gt(".num-pages");
            let [, imgDir, ex] = fun.ge("#image-container img").src.match(/(.+\/)\d+(\.\w+)$/);
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}${ex}`);
        },
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => fun.title(" » ", 1),
        threading: 4,
        category: "hcomic"
    }, {
        name: "akuma.moe",
        host: ["akuma.moe"],
        reg: /^https?:\/\/akuma\.moe\/g\/\w+$/i,
        init: async () => await fun.waitEle("#pages"),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            if (options.fancybox == 1 && !isDownloading) {
                let pages = pag.cnt;
                if (pages > 40) {
                    let max = Math.ceil(pages / 20);
                    let resArr = fun.arr(max).map((_, i) => {
                        return fetch(pag.act, {
                            "headers": {
                                "accept": "*/*",
                                "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                                "x-csrf-token": ajx.hdr["X-CSRF-TOKEN"],
                                "x-requested-with": "XMLHttpRequest"
                            },
                            "body": `index=${i}`,
                            "method": "POST",
                        }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images]);
                    });
                    thumbnailsSrcArray = await Promise.all(resArr).then(data => fun.getImgSrcArr(data.flat()));
                } else {
                    thumbnailsSrcArray = [...fun.gae("#pages img")].map(e => e.src);
                }
            }
            let url = fun.ge("#pages a").href;
            let iframe = await fun.iframeVar(url, 1000, "img_prt");
            let imgDir = iframe.img_prt + "/";
            return fetch(siteUrl, {
                "headers": {
                    "accept": "*/*",
                    "x-csrf-token": ajx.hdr["X-CSRF-TOKEN"],
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": null,
                "method": "POST"
            }).then(res => res.json()).then(arr => arr.map(e => imgDir + e));
        },
        button: [4],
        insertImg: [
            ["#pages", 0], 2
        ],
        go: 1,
        customTitle: () => fun.ge(".entry-header>span") ? fun.gt(".entry-header>span") : fun.gt(".entry-title"),
        category: "hcomic"
    }, {
        name: "Anchira",
        host: ["anchira.to"],
        reg: /^https?:\/\/anchira\.to\/g\/\d+\/\w+$/i,
        init: async () => await fun.waitEle("#previews img"),
        imgs: async () => {
            if (!fun.ge("#previews img")) return [];
            let max = fun.gt("//strong[text()='Length']/following-sibling::div").match(/\d+/)[0];
            let sSrc = fun.attr("#previews img", "src");
            let sImgDir = sSrc.replace(/\d+$/, "");
            thumbnailsSrcArray = fun.arr(max).map((_, i) => sImgDir + (i + 1));
            let urlArr = siteUrl.split("/");
            let galleryId = urlArr.at(-2);
            let galleryKey = urlArr.at(-1);
            let res = await fetch(`/api/v1/library/${galleryId}/${galleryKey}/data`, {
                "headers": {
                    "x-requested-with": "XMLHttpRequest"
                }
            });
            if (res.status != 200) {
                alert("Trigger human-machine verification.\nPlease click Read button.\nAfter successful human-machine verification.\nReturn to gallery information page.\nReload.");
                return [];
            } else {
                let bSrc = fun.attr("#gallery img", "src");
                let imgOrigin = new URL(bSrc).origin;
                let json = await res.json();
                let gallerHash = json.hash;
                let gallerReadKey = json.key;
                return json.names.map(name => imgOrigin + "/" + galleryId + "/" + gallerReadKey + "/" + gallerHash + "/b/" + name);
            }
        },
        button: [4],
        insertImg: ["#previews", 2],
        customTitle: () => fun.gt("#metadata span.s"),
        threading: 6,
        category: "hcomic"
    }, {
        name: "Anchira 分類自動翻頁",
        enable: 1,
        reg: async () => /^https?:\/\/anchira\.to\/(trending|\?)/.test(siteUrl) && await fun.waitEle(".pagination") && await fun.waitEle(".galleries"),
        autoPager: {
            mode: 1,
            waitEle: ".galleries article img",
            ele: ".galleries>main",
            next: ".pagination a[aria-current='true']+a:not([title='Go to the next page'])",
            re: ".pagination",
            title: doc => "Page " + nextLink.match(/\d+$/)[0],
            bottom: screen.height * 3,
            history: 1
        },
        openInNewTab: ".galleries a:not([target=_blank])",
        category: "autoPager"
    }, {
        name: "Cathentai/Hentaibeeg/Hentaicolor/Nyahentai/圖片清單頁",
        host: ["cathentai.net", "hentaibeeg.com", "hentaicolor.net", "nyahentai.info"],
        reg: /(cathentai\.net|hentaibeeg\.com|hentaicolor\.net|nyahentai\.info)\/[^/]+\/(#collapse)?$/i,
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("//a[span[text()='List Read']]").href;
            return fun.fetchDoc(url).then(doc => {
                return fun.run(fun.gt("#listImgH", 1, doc));
            });
        },
        button: [4],
        insertImg: [
            ["#thumbnail-container", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("#info>h4") || fun.gt("#info>h1"),
        autoClick: ["#showAll"],
        category: "hcomic"
    }, {
        name: "Cathentai/Hentaibeeg/Hentaicolor/Nyahentai/List Read頁",
        host: ["cathentai.net", "hentaibeeg.com", "hentaicolor.net", "nyahentai.info"],
        reg: /(cathentai\.net|hentaibeeg\.com|hentaicolor\.net|nyahentai\.info)\/read\/\d+\.html$/i,
        imgs: () => fun.run(fun.gt("#listImgH")),
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => fun.title(/ - Cathentai| - Hentaicolor| - Hentaibeeg| - Nyahentai.info/, 1),
        category: "hcomic"
    }, {
        name: "3hentai圖片清單頁",
        host: ["3hentai.net"],
        reg: /(www\.3hentai1\.buzz|3hentai\.net)\/\??d\/\d+$/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".single-thumb>a>img")].map(e => e.dataset.src ?? e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge(".single-thumb>a").href;
            let json = await fun.fetchDoc(url).then(doc => {
                let code = fun.gst("readerPages", doc);
                let jsonCode = code.match(/JSON[^;]+/)[0];
                return fun.run(jsonCode);
            });
            let max = json.lastPage;
            let imgDir = json.baseUriImg.replace("%s", "");
            return fun.arr(max).map((_, i) => imgDir + json.pages[(i + 1)].f);
        },
        button: [4],
        insertImg: [
            ["#thumbnail-gallery", 0], 2
        ],
        customTitle: () => fun.gt("#main-info>h1,#main-info>h2").replace("|", "-"),
        go: 1,
        topButton: true,
        threading: 4,
        //css: "#header-ban-agsy,#middle-ban-agsy,#footer-ban-agsy{display:none!important}.single-thumb-col{padding:0px!important;width:100%!important}",
        category: "hcomic"
    }, {
        name: "3hentai閱讀頁",
        host: ["3hentai.net"],
        reg: /^https?:\/\/3hentai\.net\/\??d\/\d+\/\d+$/,
        imgs: () => {
            let max = readerPages.lastPage;
            let imgDir = readerPages.baseUriImg.replace("%s", "");
            return fun.arr(max).map((_, i) => imgDir + readerPages.pages[(i + 1)].f);
        },
        button: [4],
        insertImg: [".reader-image", 2],
        customTitle: () => fun.gt(".reader-title").replace("|", "-"),
        threading: 4,
        category: "hcomic"
    }, {
        name: "山寨3hentai圖片清單頁",
        host: ["www.hentai321.top"],
        reg: /^https?:\/\/www\.hentai321\.top\/\?d\/\d+$/,
        init: () => {
            fun.createImgBox("#thumbnail-gallery", 2);
            fun.remove("#header-ban-agsy,#middle-ban-agsy");
        },
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".single-thumb img")].map(e => e.dataset.src ?? e.src);
            return fun.getImgA(".js-main-img", ".single-thumb>a");
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.gt(".middle-title"),
        go: 1,
        css: "#FullPictureLoadMainImgBox{max-width:1140px;margin-left:auto;margin-right:auto}ins{display:none!important;}",
        category: "hcomic"
    }, {
        name: "HentaiFox圖片清單頁",
        host: ["hentaifox.com"],
        reg: () => /hentaifox\.com\/gallery\/\d+\/$/.test(siteUrl) && fun.ge("//a[text()=' Read Online']"),
        init: async () => {
            await fun.waitEle(".gallery_thumb img");
            await fun.waitVar("g_th");
            fun.createImgBox(".gallery_bottom");
        },
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/includes/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            let max = fun.gt(".pages").match(/\d+/)[0];
            let img = fun.ge(".gallery_thumb img");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.gt(".info>h1").replace("|", "-"),
        go: 1,
        topButton: true,
        threading: 4,
        category: "hcomic"
    }, {
        name: "HentaiFox閱讀頁",
        host: ["hentaifox.com"],
        reg: /^https?:\/\/hentaifox\.com\/g\/\d+\/\d+\/$/,
        imgs: async () => {
            let max = fun.ge("#pages").value;
            let img = fun.ge("#gimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".full_image", 2],
        customTitle: () => fun.title(/ - Page \d+ - HentaiFox/).replace("|", "-"),
        threading: 4,
        category: "hcomic"
    }, {
        name: "HentaiZap圖片清單頁",
        host: ["hentaizap.com"],
        reg: /hentaizap\.com\/gallery\/\d+\/$/,
        inti: async () => {
            await fun.waitEle(".gp_th img");
            await fun.waitVar("g_th");
        },
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `_token=${fun.attr('meta[name="csrf-token"]',"content")}&server=${fun.ge("#load_server").value}&u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            if (!fun.ge("#FullPictureLoadMainImgBox")) fun.createImgBox("#comments_div");
            let max = fun.gt(".info_pg").match(/\d+/)[0];
            let img = fun.ge(".gp_th img");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0], 2
        ],
        customTitle: () => fun.gt(".gp_top_right>h1").replace("|", "-"),
        go: 1,
        category: "hcomic"
    }, {
        name: "HentaiZap閱讀頁",
        host: ["hentaizap.com"],
        reg: /^https?:\/\/hentaizap\.com\/g\/\d+\/\d+\/$/,
        init: async () => await fun.waitVar("g_th"),
        imgs: async () => {
            let max = fun.ge("#pages").value;
            let img = fun.ge("#fimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".mid_rd", 2],
        customTitle: () => fun.title(/ - Page \d+ - HentaiZap/).replace("|", "-"),
        category: "hcomic"
    }, {
        name: "HentaiRead圖片清單頁",
        host: ["hentairead.com"],
        reg: /^https?:\/\/hentairead\.com\/hentai\/[^\/]+\/$/,
        init: () => {
            [...fun.gae(".lazy-listing__item.hidden")].forEach(e => e.classList.remove("hidden"));
            fun.remove(".list-btns");
            fun.createImgBox(".chapter-preview-content", 0);
        },
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".chapter-images-list img")].map(e => e.dataset.src ?? e.src);
            return thumbnailsSrcArray.map(e => e.replace(/\?quality=.+$/, ""));
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0], 2
        ],
        customTitle: () => fun.gt(".post-title").trim(),
        go: 1,
        category: "hcomic"
    }, {
        name: "HentaiRead閱讀頁",
        host: ["hentairead.com"],
        reg: /^https?:\/\/hentairead\.com\/hentai\/[^\/]+\/english\/p\/\d+\/$/,
        init: async () => {
            await fun.waitVar("chapter_preloaded_images");
            fun.remove(".page-link-hover,.bottom-nav,.ad");
        },
        imgs: () => chapter_preloaded_images.map(e => e.src.replace(/\?quality=.+$/, "")),
        insertImg: ["#imagesList", 2],
        customTitle: () => fun.title(/ Page \d.+$/).trim(),
        category: "hcomic"
    }, {
        name: "HentaiRox圖片清單頁",
        host: ["HentaiRox.com"],
        reg: () => /hentairox\.com\/gallery\/\d+\/$/.test(siteUrl) && fun.ge("#append_thumbs"),
        init: () => fun.createImgBox("#comments_div", 0),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_04, 0);
            await fun.waitEle("#append_thumbs img");
            fun.hideMsg();
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `server=${fun.ge("#load_server").value}&u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            let max = fun.gt(".pages").match(/\d+/)[0];
            let img = fun.ge(".gthumb img");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.ge(".subtitle") ? fun.gt(".subtitle") : fun.gt("h1"),
        go: 1,
        topButton: true,
        threading: 4,
        category: "hcomic"
    }, {
        name: "HentaiRox閱讀頁",
        host: ["HentaiRox.com"],
        reg: /^https?:\/\/hentairox\.com\/view\/\d+\/\d+\/$/,
        imgs: async () => {
            let max = fun.ge("#pages").value;
            let img = fun.ge("#gimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".pre_img", 2],
        customTitle: () => fun.title(/ - Page \d+ - HentaiRox/).replace("|", "-"),
        threading: 4,
        css: ".pre_img{max-height:unset!important}",
        category: "hcomic"
    }, {
        name: "HentaiEnvy圖片清單頁",
        host: ["hentaienvy.com"],
        reg: () => /hentaienvy\.com\/gallery\/\d+\/$/.test(siteUrl) && fun.ge(".gallery_thumbs"),
        init: () => fun.createImgBox(".gallery_thumbs", 0),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_04, 0);
            await fun.waitEle("#thumbs_box img");
            fun.hideMsg();
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `_token=${fun.attr('meta[name="csrf-token"]',"content")}&server=${fun.ge("#load_server").value}&u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            let max = fun.gt("//ul[span[text()='Pages:']]").match(/\d+/)[0];
            let img = fun.ge(".th_gp img");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: () => fun.ge(".subtitle") ? fun.gt(".subtitle") : fun.gt("h1"),
        go: 1,
        topButton: true,
        threading: 4,
        category: "hcomic"
    }, {
        name: "HentaiEnvy閱讀頁",
        host: ["hentaienvy.com"],
        reg: /^https?:\/\/hentaienvy\.com\/g\/\d+\/\d+\/$/,
        imgs: async () => {
            let max = fun.ge("#pages").value;
            let img = fun.ge("#fimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".rd_fimg", 2],
        customTitle: () => fun.title(/ - Page \d+ - HentaiEnvy/).replace("|", "-"),
        threading: 4,
        css: ".rd_fimg{max-height:unset!important}",
        category: "hcomic"
    }, {
        name: "lhentai.com/simplyhentai.red圖片清單頁",
        host: ["lhentai.com", "simplyhentai.red"],
        reg: /^https?:\/\/(lhentai\.com|simplyhentai\.red)\/g\/\d+$/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".gallerythumb img")].map(e => e.dataset.src ?? e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("a.gallerythumb").href;
            let iframe = await fun.iframeVar(url, 1000, "images_ext");
            let imgDir = fun.ge(".fit-horizontal", iframe.document).src.match(/.+\//)[0];
            return iframe.images_ext.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[e]}`);
        },
        button: [4],
        insertImg: [
            [".thumbs", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("#info>h2") || fun.gt("#info>h1"),
        category: "hcomic"
    }, {
        name: "lhentai.com/simplyhentai.red閱讀頁",
        host: ["lhentai.com", "simplyhentai.red"],
        reg: /^https?:\/\/(lhentai\.com|simplyhentai\.red)\/g\/\d+\/\d+\/$/,
        imgs: () => {
            let imgDir = fun.ge(".fit-horizontal").src.match(/.+\//)[0];
            return images_ext.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[e]}`);
        },
        button: [4],
        insertImg: ["#page-container", 2],
        category: "hcomic"
    }, {
        name: "EAHentai",
        host: ["eahentai.com"],
        reg: /^https?:\/\/eahentai\.com\/a\/\d+$/,
        init: async () => {
            let id = fun.lp.match(/\d+/)[0];
            let fetchJson = await fetch(`/api/image/album/${id}`).then(res => res.json()).then(arr => arr[0]);
            siteJson = fetchJson;
            await fun.waitEle(".gallery-img");
            fun.createImgBox(".gallery-container", 2);
        },
        imgs: () => {
            thumbnailsSrcArray = siteJson.images.map(e => "https://i.eahentai.com/file/ea-gallery/" + e.thumbnailUri);
            return siteJson.images.map(e => "https://i.eahentai.com/file/ea-gallery/" + e.imageUri);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => siteJson.title,
        category: "hcomic"
    }, {
        name: "M-Hentai圖片清單頁",
        host: ["m-hentai.net"],
        reg: /^https?:\/\/m-hentai\.net\/gallery\?id=\d+$/,
        init: () => fun.createImgBox(".bookthumbnailcontainer", 2),
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".bookthumbnail .lazyloadimage")].map(e => e.dataset.src ?? e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge(".bookthumbnail>a").href;
            let iframe = await fun.iframeVar(url, 1000, "displayimagelist");
            return iframe.displayimagelist.map(e => e.image_url);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => {
            let str = fun.gt(".gallerysubtitle") ?? fun.gt(".gallerytitle");
            return str.trim();
        },
        category: "hcomic"
    }, {
        name: "M-Hentai閱讀頁",
        host: ["m-hentai.net"],
        reg: /^https?:\/\/m-hentai\.net\/read\?index=\d+/,
        imgs: () => displayimagelist.map(e => e.image_url),
        button: [4],
        insertImg: [".imagereadercontainer", 2],
        insertImgAF: () => fun.run("$(document).off()"),
        customTitle: () => fun.title(/ - Page .+/),
        category: "hcomic"
    }, {
        name: "HentaiNexus圖片清單頁",
        host: ["hentainexus.com"],
        reg: /^https?:\/\/hentainexus\.com\/view\/\d+$/,
        init: () => fun.createImgBox("//div[div[@class='columns is-multiline']][@class='box']", 2),
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".card-image img")].map(e => e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("//a[div[@class='card']]").href;
            let iframe = await fun.iframeVar(url, 1000, "pageData");
            let CDN_Srcs = iframe.pageData.map(e => e.image);
            let siteSrcs = CDN_Srcs.map(e => e.replace(/i\d\.wp\.com\/|\?filter=null/g, ""));
            fun.showMsg(displayLanguage.str_56, 0);
            let status = await fun.xhrHEAD(siteSrcs[0]).then(res => res.status);
            return status === 200 ? siteSrcs : CDN_Srcs;
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt(".title"),
        category: "hcomic"
    }, {
        name: "HentaiNexus閱讀頁",
        host: ["hentainexus.com"],
        reg: /^https?:\/\/hentainexus\.com\/read\/\d+/,
        imgs: async () => {
            let CDN_Srcs = pageData.map(e => e.image);
            let siteSrcs = CDN_Srcs.map(e => e.replace(/i\d\.wp\.com\/|\?filter=null/g, ""));
            fun.showMsg(displayLanguage.str_56, 0);
            let status = await fun.xhrHEAD(siteSrcs[0]).then(res => res.status);
            return status === 200 ? siteSrcs : CDN_Srcs;
        },
        button: [4],
        insertImg: ["#pageChangeSnap", 2],
        customTitle: () => baseTitle.replace(" :: HentaiNexus", ""),
        category: "hcomic"
    }, {
        name: "HentaiLoop圖片清單頁",
        host: ["hentailoop.com"],
        reg: /^https?:\/\/hentailoop\.com\/manga\/[^\/]+\/$/,
        init: () => fun.createImgBox(".preview", 2),
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/wp-admin/admin-ajax.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `action=loadpreviews&postID=${ajaxData.postID}`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.src));
            let url = fun.ge(".previews>a").href;
            let iframe = await fun.iframeVar(url, 1000, "ajax");
            let html = iframe.ajax.pages.join("");
            let dom = fun.doc(html);
            return [...dom.images].map(e => e.dataset.src ?? e.src);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt("//meta[@content='4']/preceding-sibling::span[1]"),
        category: "hcomic"
    }, {
        name: "HentaiLoop閱讀頁",
        host: ["hentailoop.com"],
        reg: /^https?:\/\/hentailoop\.com\/manga\/[^\/]+\/read/,
        init: () => fun.createImgBox(".manga-read-wrapp", 2),
        imgs: () => {
            let html = ajax.pages.join("");
            let dom = fun.doc(html);
            return [...dom.images].map(e => e.dataset.src ?? e.src);
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".manga-read-buttons,.manga-read-wrapp"], 2
        ],
        customTitle: () => fun.title(/Page \d+ of | - Hentai.+|\(by[\w\s]+\)/ig).trim(),
        category: "hcomic"
    }, {
        name: "nhentai.xxx閱讀頁",
        host: ["nhentai.xxx"],
        reg: /^https?:\/\/nhentai\.xxx\/g\/\d+\/\d+\/$/,
        imgs: () => {
            let img = fun.ge("#fimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            let max = fun.ge("#pages").value;
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th.fl[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".reader_overlay", 2],
        category: "hcomic"
    }, {
        name: "nhentai.to閱讀頁",
        host: ["nhentai.to"],
        reg: /^https?:\/\/nhentai\.to\/g\/\d+\/\d+$/,
        imgs: () => {
            let imgDir = reader.media_url + "/galleries/" + reader.gallery.media_id + "/";
            return reader.gallery.images.pages.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[e.t]}`);
        },
        button: [4],
        insertImg: ["#image-container", 2],
        customTitle: () => reader.gallery.title.japanese ?? reader.gallery.title.english,
        category: "hcomic"
    }, {
        name: "TMOHentai圖片清單頁",
        host: ["tmohentai.com"],
        reg: /^https?:\/\/tmohentai\.com\/contents\/\w+$/i,
        imgs: async () => {
            await fun.waitEle("div[style*='background']");
            let div = fun.ge("div[style*='background']");
            let src = div.style.background.split('"')[1];
            let imgDir = src.match(/.+\//)[0];
            let max = [...fun.gae("div[style*='background']")].length;
            return fun.arr(max).map((_, i) => imgDir + String(i).padStart(3, "0") + ".webp");
        },
        button: [4],
        insertImg: [
            ["//div[div[@class='well']]", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".panel-title h3"),
        category: "hcomic"
    }, {
        name: "TMOHentai閱讀頁",
        host: ["tmohentai.com"],
        reg: /^https?:\/\/tmohentai\.com\/reader\/\w+\/paginated\//i,
        imgs: async () => {
            await fun.waitEle("img.content-image");
            let img = fun.ge("img.content-image");
            let src = img.dataset.original ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            let max = [...fun.gae("#select-page option")].length;
            return fun.arr(max).map((_, i) => imgDir + String(i).padStart(3, "0") + ".webp");
        },
        button: [4],
        insertImg: [".reader-info+.text-center", 2],
        customTitle: () => fun.gt(".reader-title"),
        category: "hcomic"
    }, {
        name: "Pururin圖片清單頁",
        host: ["pururin.to"],
        reg: /pururin\.to\/gallery\/\d+\/.+/,
        imgs: () => {
            let url = fun.ge(".gallery-preview>a").href;
            return fun.fetchDoc(url).then(doc => {
                let ele = fun.ge(".img-viewer", doc);
                let svr = ele.dataset.svr;
                let data = JSON.parse(ele.dataset.img);
                let arr = data.images.sort((a, b) => a.page - b.page);
                arr = arr.map(e => svr + "/" + data.directory + "/" + e.filename);
                thumbnailsSrcArray = arr.map(e => e.replace(/(\.\w+)$/, "t$1"));
                return arr;
            });
        },
        button: [4],
        insertImg: [
            [".gallery-preview", 2], 2
        ],
        go: 1,
        insertImgAF: () => {
            if (options.icon == 1 || siteData.icon == 1) addFullPictureLoadButton();
            if (!hasTouchEvents && ShowFullPictureLoadFixedMenu === 1) addFullPictureLoadFixedMenu();
        },
        customTitle: () => fun.ge("[placeholder=Japanese]").value || fun.ge("[placeholder='Alternative names']").value,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        autoClick: ["//button[contains(text(),'View all')]"],
        category: "none"
    }, {
        name: "Pururin閱讀頁",
        host: ["pururin.to"],
        reg: /pururin\.to\/read\/\d+\/\d+\/.+/,
        imgs: () => {
            let ele = fun.ge(".img-viewer");
            let svr = ele.dataset.svr;
            let data = JSON.parse(ele.dataset.img);
            //按頁數排列
            let arr = data.images.sort((a, b) => a.page - b.page);
            arr = arr.map(e => svr + "/" + data.directory + "/" + e.filename);
            thumbnailsSrcArray = arr.map(e => e.replace(/(\.\w+)$/, "t$1"));
            return arr;
        },
        button: [4],
        insertImg: [".img-viewer", 2],
        customTitle: () => fun.ge("[placeholder=Japanese]").value || fun.ge("[placeholder='Alternative names']").value,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.box.img-reader .img-viewer{position:unset!important;white-space:unset!important}",
        category: "hcomic"
    }, {
        name: "9hentai圖片清單頁",
        host: ["9hentai.com"],
        reg: /9hentai\.\w+\/g\/\d+\/$/,
        init: async () => {
            let json = await fetch("/api/getBookByID", {
                method: "POST",
                body: JSON.stringify({
                    id: parseInt(/\d+/.exec(fun.lp).at(0) ?? 0, 10)
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(res => res.json());
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: () => {
            let arr = fun.arr(siteJson.results.total_page).map((_, i) => `${siteJson.results.image_server + siteJson.results.id}/${i + 1}.jpg`);
            thumbnailsSrcArray = arr.map(e => e.replace(/(\d+)(\.\w+)$/, "preview/$1t$2"));
            return arr;
        },
        button: [4],
        insertImg: [
            [".pt-0 .card-body", 2], 2
        ],
        go: 1,
        customTitle: () => siteJson.results.alt_title ?? siteJson.results.title,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "9hentai閱讀頁",
        host: ["9hentai.to"],
        reg: /9hentai\.to\/g\/\d+\/\d+\/$/,
        init: async () => {
            let json = await fetch("/api/getBookByID", {
                method: "POST",
                body: JSON.stringify({
                    id: parseInt(/\d+/.exec(fun.lp).at(0) ?? 0, 10)
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(res => res.json());
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: () => {
            let arr = fun.arr(siteJson.results.total_page).map((_, i) => `${siteJson.results.image_server + siteJson.results.id}/${i + 1}.jpg`);
            thumbnailsSrcArray = arr.map(e => e.replace(/(\d+)(\.\w+)$/, "preview/$1t$2"));
            return arr;
        },
        button: [4],
        insertImg: [".image-viewer", 2],
        customTitle: () => siteJson.results.alt_title ?? siteJson.results.title,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "AsmHentai圖片清單頁",
        host: ["asmhentai.com"],
        reg: /asmhentai\.com\/g\/\d+\/$/,
        init: () => fun.createImgBox(".gallery"),
        imgs: async () => {
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `_token=${fun.attr('meta[name="csrf-token"]',"content")}&id=${fun.ge("#load_id").value}&dir=${fun.ge("#load_dir").value}&visible_pages=0&t_pages=${fun.ge("#t_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            return thumbnailsSrcArray.map(e => e.replace("t.", "."));
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt(".info>h2") || fun.gt(".info>h1"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "AsmHentai閱讀頁",
        host: ["asmhentai.com"],
        reg: /asmhentai\.com\/gallery\/\d+\/\d+\/$/,
        imgs: async () => {
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `_token=${fun.attr('meta[name="csrf-token"]',"content")}&id=${fun.ge("#gallery_id").value}&dir=${fun.ge("#image_dir").value}&visible_pages=0&t_pages=${fun.ge("#pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            return thumbnailsSrcArray.map(e => e.replace("t.", "."));
        },
        button: [4],
        insertImg: [".rd_fimg", 2],
        customTitle: () => fun.title(" Page", 1),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.preloader{text-indent:unset !important}",
        category: "hcomic"
    }, {
        name: "MultPorn閱讀頁",
        host: ["multporn.net"],
        reg: () => /multporn\.net\//.test(siteUrl) && fun.ge("//script[contains(text(),'configUrl')]"),
        imgs: () => {
            let url = fun.gst("configUrl").match(/configUrl":"[^,]+/g)[0].slice(12, -1).replaceAll("\\", "");
            return fetch(url).then(res => res.text()).then(text => {
                let xml = fun.xml(text);
                let imgs = [...fun.gae("image", xml)];
                thumbnailsSrcArray = imgs.map(e => e.getAttribute("thumbURL"));
                return imgs.map(e => e.getAttribute("linkURL"));
            });
        },
        button: [4],
        insertImg: [
            [".juicebox-parent", 2], 2
        ],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='Next Part']",
        prev: "//a[text()='Previous Part']",
        customTitle: () => fun.gt("#page-title"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "KingComiX閱讀頁",
        host: ["kingcomix.com"],
        reg: /^https?:\/\/kingcomix\.com\/[^\/]+\/$/,
        imgs: "figure img, .entry-content img.lazy",
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt("h1.singleTitle-h1").replace(" – Kingcomix", ""),
        category: "hcomic"
    }, {
        name: "HentaiHere閱讀頁",
        host: ["hentaihere.com"],
        reg: () => /hentaihere\.com\/m\/\w+\/\d+\/\d+\/$/i.test(siteUrl) && fun.ge("//script[contains(text(),'rff_imageList')]"),
        init: async () => {
            await fun.waitVar("jQuery");
            setTimeout(() => fun.run("jQuery(document).off();"), 1000);
        },
        imgs: () => rff_imageList.map(e => "https://hentaicdn.com/hentai" + e),
        button: [4],
        insertImg: ["#reader-content", 2],
        autoDownload: [0],
        next: "//li[a[@class='bg-info']]/following-sibling::li[1]/a",
        prev: 1,
        customTitle: () => fun.gt("#detail span") + " - " + fun.gt("#chapter span"),
        css: ".afs_ads,[data-type]{display:none!important}",
        category: "hcomic"
    }, {
        name: "HentaiPaw圖片清單頁",
        host: ["hentaipaw.com"],
        reg: /hentaipaw\.com\/articles\/\d+/i,
        init: async () => await fun.waitEle("next-route-announcer"),
        imgs: async () => {
            fun.showMsg("獲取數據中...", 0);
            thumbnailsSrcArray = [...fun.gae(".gallery-image-container a>img")].map(e => e.src);
            let url = fun.ge(".gallery-image-container a").href;
            let doc = await fun.fetchDoc(url);
            try {
                let data = fun.gst("startingPage", doc).replace(/\\/g, "").match(/\[{.+"}]/)[0];
                return JSON.parse(data).map(e => e.src);
            } catch (e) {
                doc = await fun.iframeDoc(url, ".yarl__slide_image");
                return [...fun.gae(".yarl__slide_image", doc)].map(e => e.src).sort((a, b) => a.match(/(\d+)\.\w+$/)[1] - b.match(/(\d+)\.\w+$/)[1]);
            }
        },
        button: [4],
        insertImg: [
            [".detail-gallery-list", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".detail-ttl").replace(/\/|\|/g, " "),
        category: "hcomic"
    }, {
        name: "HDpornComics圖片清單頁",
        host: ["hdporncomics.com"],
        reg: () => /hdporncomics\.com\/[^/]+\/([^/]+\/)?$/i.test(siteUrl) && fun.ge(".my-gallery.scrollmenu"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".my-gallery a[data-size] img")].map(e => e.src);
            return [...fun.gae(".my-gallery a[data-size]")];
        },
        button: [4],
        insertImg: [
            [".postContent>.items-center,#likeDislikeVue", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt("#infoBox>h1").replace(" – Gay Manga", "").replace(" Comic Porn", ""),
        category: "hcomic"
    }, {
        name: "HDpornComics閱讀頁",
        host: ["hdporncomics.com"],
        reg: /hdporncomics\.com\/manhwa\/[^/]+\/chapter/i,
        imgs: "#imageContainer>img",
        button: [4],
        insertImg: ["#imageContainer", 2],
        autoDownload: [0],
        next: "//a[contains(text(),'Next')]",
        prev: "//a[contains(text(),'Prev')]",
        customTitle: () => fun.gt(".list-reset li:nth-child(5)>a") + " - " + fun.gt("option[selected]"),
        category: "hcomic"
    }, {
        name: "Doujins圖片清單頁",
        host: ["doujins.com"],
        reg: () => /doujins\.com\/.+\/.+/i.test(siteUrl) && fun.ge("#thumbnails"),
        autoClick: ["button.loadmore"],
        init: async () => await fun.waitEle(".doujin"),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("div[data-hash]")].map(e => "https://static.doujins.com/t-" + e.dataset.hash + ".jpg");
            return [...fun.gae(".doujin[data-file]")].map(e => e.dataset.file);
        },
        button: [4],
        insertImg: [
            ["#thumbnails", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".folder-title>a:last-child"),
        category: "hcomic"
    }, {
        name: "Simply Hentai閱讀頁",
        host: ["www.simply-hentai.com"],
        reg: /^https?:\/\/www.simply-hentai.com\/[^\/]+\/[^\/]+\/page\/\d+/i,
        init: async () => {
            await fun.waitEle("#__NEXT_DATA__");
            let json = JSON.parse(fun.gt("#__NEXT_DATA__"));
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: () => {
            thumbnailsSrcArray = siteJson.props.pageProps.data.pages.map(e => e.sizes.small_thumb);
            return siteJson.props.pageProps.data.pages.map(e => e.sizes.full)
        },
        button: [4],
        insertImg: ["#reader-image", 2],
        insertImgAF: () => {
            let loop = setInterval(() => !fun.ge(".FullPictureLoadImage") ? fun.immediateInsertImg() : null, 500);
            setTimeout(() => clearInterval(loop), 10000);
        },
        customTitle: () => siteJson.props.pageProps.data.title.replace(/\/|\|/g, "-"),
        category: "hcomic"
    }, {
        name: "Hanime1圖片清單頁",
        host: ["hanime1.me"],
        link: "https://hanime1.me/comics",
        reg: /hanime1\.me\/comic\/\d+$/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".comics-thumbnail-wrapper img[data-srcset]")].map(e => e.dataset.srcset);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge(".comics-thumbnail-wrapper>a").href;
            return fun.fetchDoc(url).then(doc => {
                let imgDir = fun.ge("#current-page-image", doc).dataset.prefix;
                let code = fun.gst("extensions", doc);
                let extensions = fun.run(code.match(/\[.+\]/)[0].replaceAll("&quot;", '"'));
                return extensions.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[e]}`);
            });
        },
        button: [4],
        insertImg: [".comics-thumbnail-wrapper", 2, 1000],
        go: 1,
        autoClick: "#show-all-comics-btn",
        customTitle: () => fun.gt("h4.title"),
        threading: 4,
        referer: "src",
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "Hanime1閱讀頁",
        host: ["hanime1.me"],
        link: "https://hanime1.me/comics",
        reg: /hanime1\.me\/comic\/\d+\/\d+$/,
        imgs: async () => {
            let imgDir = fun.ge("#current-page-image").dataset.prefix;
            return extensions.map((e, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[e]}`);
        },
        button: [4],
        insertImg: ["#comic-content-wrapper", 2],
        customTitle: () => fun.ge("//meta[@property='og:title']").content.replace(/第\d+頁 - /, ""),
        threading: 4,
        referer: "src",
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "Hentai-One圖片清單頁",
        host: ["ch.hentai-one.com"],
        reg: /^https?:\/\/ch\.hentai-one\.com\/articles\/\d+$/,
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".detail-gallery-item img")].map(e => e.src);
            let url = fun.ge(".detail-gallery-item a").href;
            fun.showMsg(displayLanguage.str_05, 0);
            return fun.fetchDoc(url).then(doc => {
                let code = fun.gst("slides", doc);
                let arr = JSON.parse(code.match(/\\"slides\\":([^\]]+\])/)[1].replaceAll("\\", ""));
                return arr.map(e => e.src);
            });
        },
        button: [4],
        insertImg: [
            [".detail-gallery", 2], 2
        ],
        insertImgAF: () => {
            fun.css(".detail-gallery{display:none!important;}");
            let loop = setInterval(() => {
                if (!fun.ge(".FullPictureLoadImage")) {
                    if (options.icon == 1 || siteData.icon == 1) addFullPictureLoadButton();
                    if (!hasTouchEvents) addFullPictureLoadFixedMenu();
                    fun.immediateInsertImg();
                }
            }, 500);
            setTimeout(() => clearInterval(loop), 10000);
        },
        customTitle: () => {
            let text = fun.gt("h1.detail-ttl");
            return text.indexOf("|") != -1 ? text.split("|")[1].trim() : text;
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.header-ad,.middle-ad{display:none!important;}",
        category: "hcomic"
    }, {
        name: "My Hentai Gallery圖片清單頁",
        host: ["myhentaigallery.com"],
        reg: /^https?:\/\/myhentaigallery\.com\/g\/\d+$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".comic-thumb>img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace("thumbnail", "original"));
        },
        button: [4],
        insertImg: [
            ["//div[@class='comic-listing'][center[center[ul[@class='comics-grid clear']]]]", 0], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".comic-description>h1"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "XYZ PORN COMICS圖片清單頁",
        host: ["xyzcomics.com"],
        reg: /^https?:\/\/xyzcomics\.com\/[^\/]+\/$/,
        include: ".jig-link>img",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".jig-link>img")].map(e => e.src);
            return [...fun.gae(".jig-link")];
        },
        button: [4],
        insertImg: [
            [".entry-content", 0], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".entry-title"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "IMHentai圖片清單頁",
        host: ["imhentai.xxx"],
        reg: /imhentai\.xxx\/gallery\/\d+\//,
        init: async () => {
            await fun.waitVar("g_th");
            fun.createImgBox("#comments_div", 0);
        },
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `server=${fun.ge("#load_server").value}&u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            return fun.getImhentaiSrc();
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        customTitle: async () => {
            let t = fun.gt(".subtitle");
            return t.length > 0 ? t : fun.gt("h1").replace(/\||\+/g, "");
        },
        go: 1,
        topButton: true,
        threading: 4,
        category: "hcomic"
    }, {
        name: "IMHentai閱讀頁",
        host: ["imhentai.xxx"],
        reg: /imhentai\.xxx\/view\/\d+\/\d+\//,
        init: "setTimeout(()=>{fun.ge('.pre_img').removeAttribute('style');$('a.next_img').unbind('click');},1000)",
        imgs: () => fun.getImhentaiSrc(),
        button: [4],
        insertImg: [".pre_img", 2],
        customTitle: () => fun.title("-", 1),
        threading: 4,
        category: "hcomic"
    }, {
        name: "HentaiEra圖片清單頁",
        host: ["hentaiera.com"],
        reg: /^https?:\/\/hentaiera\.com\/gallery\/\d+\/$/,
        include: "#append_thumbs",
        init: async () => {
            await fun.waitVar("g_th");
            fun.createImgBox("#thumbs_gallery_div", 2);
        },
        imgs: async () => {
            thumbnailsSrcArray = await fetch("/inc/thumbs_loader.php", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "x-requested-with": "XMLHttpRequest"
                },
                "body": `server=${fun.ge("#load_server").value}&u_id=${fun.ge("#gallery_id").value}&g_id=${fun.ge("#load_id").value}&img_dir=${fun.ge("#load_dir").value}&visible_pages=0&total_pages=${fun.ge("#load_pages").value}&type=2`,
                "method": "POST"
            }).then(res => res.text()).then(text => fun.doc(text)).then(doc => [...doc.images].map(e => e.dataset.src ?? e.src));
            let max = fun.ge("#load_pages").value;
            let img = fun.ge(".gthumb img");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/^.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g: "gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        go: 1,
        customTitle: () => fun.gt(".subtitle") ?? fun.gt("h1"),
        category: "hcomic"
    }, {
        name: "HentaiEra閱讀頁",
        host: ["hentaiera.com"],
        reg: /^https?:\/\/hentaiera\.com\/view\/\d+\/\d+\/$/,
        init: async () => {
            await fun.waitVar("g_th");
            let html = fun.ge(".pre_img img").outerHTML;
            fun.ge(".pre_img").outerHTML = `<div class="imgBox">${html}</div>`;
        },
        imgs: () => {
            let max = fun.ge("#pages").value;
            let img = fun.ge("#gimg");
            let src = img.dataset.src ?? img.src;
            let imgDir = src.match(/.+\//)[0];
            return fun.arr(max).map((_, i) => `${imgDir}${(i + 1)}.${{j: "jpg", p: "png", g:"gif", w: "webp", b: "bmp"}[g_th[(i + 1)][0]]}`);
        },
        button: [4],
        insertImg: [".imgBox", 2],
        customTitle: () => fun.title(/ - Page \d+ - HentaiEra/),
        category: "hcomic"
    }, {
        name: "TSUMINO圖片清單頁",
        host: ["www.tsumino.com"],
        reg: /^https?:\/\/www\.tsumino\.com\/entry\/\d+/,
        include: "#thumbnails-container",
        delay: 300,
        autoClick: "#btn-view-all",
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae("#thumbnails-container img")].map(e => e.dataset.original ?? e.src);
            let prges = fun.ge("div[data-pages]").dataset.pages;
            fun.showMsg(displayLanguage.str_05, 0);
            let imgDir;
            let key = await fun.fetchDoc(fun.ge("#thumbnails-container a").href).then(doc => {
                let url = fun.ge("div[data-cdn]", doc).dataset.cdn;
                let newUrl = new URL(url);
                imgDir = newUrl.origin + newUrl.pathname.replace("[PAGE]", "");
                return newUrl.search;
            });
            return fun.arr(prges).map((_, i) => imgDir + (i + 1) + key);
        },
        button: [4],
        insertImg: [
            ["#thumbnails-container", 2], 2, 1000
        ],
        go: 1,
        customTitle: () => {
            let title = fun.gt(".book-data");
            if (/ \/ /.test(title)) {
                return title.split(" / ").at(-1);
            } else if (/ \| /.test(title)) {
                let s = title.split(" | ");
                return s.length == 2 ? s.at(-1) : title;
            }
            return title;
        },
        category: "hcomic"
    }, {
        name: "TSUMINO閱讀頁",
        host: ["www.tsumino.com"],
        reg: /^https?:\/\/www\.tsumino\.com\/Read\/Index\/\d+\?page=\d+$/,
        imgs: async () => {
            await fun.waitEle(".reader-img");
            let max = fun.gt("//h1[span[@id='pageNumberText']]").match(/\d+$/)[0];
            let url = fun.ge("div[data-cdn]").dataset.cdn;
            let newUrl = new URL(url);
            let imgDir = newUrl.origin + newUrl.pathname.replace("[PAGE]", "");
            let key = newUrl.search;
            return fun.arr(max).map((_, i) => imgDir + (i + 1) + key);
        },
        button: [4],
        insertImg: [".reader-page", 2],
        category: "hcomic"
    }, {
        name: "nhentai/HentaiHand圖片清單頁",
        host: ["nhentai.com", "hentaihand.com"],
        reg: /^https?:\/\/(nhentai\.com|hentaihand\.com)\/en\/comic\/[^\/]+$/,
        init: async () => {
            let comic = fun.lp.split("/").at(3);
            let json = await fetch(`/api/comics/${comic}/images`, {
                "headers": {
                    "accept": "application/json, text/plain, */*",
                    "x-csrf-token": document.querySelector("meta[name='csrf-token']").content,
                    "x-requested-with": "XMLHttpRequest",
                    "x-xsrf-token": document.cookie.match(/XSRF-TOKEN=(\w+)/)[1]
                }
            }).then(res => res.json());
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: async () => {
            await fun.waitEle(".comic-gallery img");
            thumbnailsSrcArray = siteJson.images.map(e => e.thumbnail_url);
            return siteJson.images.map(e => e.source_url);
        },
        button: [4],
        insertImg: [
            ["//div[div[contains(@class,'comic-gallery')]]", 0], 2, 1000
        ],
        go: 1,
        customTitle: () => siteJson.comic.alternative_title ?? siteJson.comic.title,
        category: "hcomic"
    }, {
        name: "nhentai/HentaiHand閱讀頁",
        host: ["nhentai.com", "hentaihand.com"],
        reg: /(nhentai\.com|hentaihand\.com)\/\w+\/comic\/[^/]+\/reader\//i,
        init: async () => {
            let comic = fun.lp.split("/").at(3);
            let json = await fetch(`/api/comics/${comic}/images`, {
                "headers": {
                    "accept": "application/json, text/plain, */*",
                    "x-csrf-token": document.querySelector("meta[name='csrf-token']").content,
                    "x-requested-with": "XMLHttpRequest",
                    "x-xsrf-token": document.cookie.match(/XSRF-TOKEN=(\w+)/)[1]
                }
            }).then(res => res.json());
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: async () => {
            await fun.waitEle(".vertical-image img[data-src]");
            thumbnailsSrcArray = siteJson.images.map(e => e.thumbnail_url);
            return siteJson.images.map(e => e.source_url);
        },
        button: [4],
        insertImg: [".reader", 2],
        customTitle: () => siteJson.comic.alternative_title ?? siteJson.comic.title,
        category: "hcomic"
    }, {
        name: "同人エロ漫画・エロ同人誌ならエロコミックハンター",
        host: ["ero-comic-hunter.net"],
        reg: /^https?:\/\/ero-comic-hunter\.net\/\d+\.html$/,
        imgs: "#single-more_wid~a[href*='/wp-content/uploads/']",
        customTitle: () => fun.gt(".kijibox_title a"),
        category: "hcomic"
    }, {
        name: "エロ漫画コング｜無料エロマンガ",
        host: ["eromanga-kong.com"],
        reg: /^https?:\/\/eromanga-kong\.com\/[^\/]+\/[^\/]+\/$/,
        include: "#article",
        imgs: "//article[@id='article']//a[img]",
        customTitle: () => fun.gt("header>h2"),
        category: "hcomic"
    }, {
        name: "Hentai2Read",
        host: ["hentai2read.com"],
        reg: /hentai2read\.com\/\w+\/\d+\/(\d+\/)?$/,
        imgs: () => gData.images.map(e => "https://static.hentai.direct/hentai" + e),
        button: [4],
        insertImg: ["#js-reader", 2],
        autoDownload: [0],
        next: "//li[a[contains(@class,'bg-info')]]/preceding-sibling::li[1]/a",
        prev: 1,
        customTitle: () => fun.gt(".reader-left-text.text-ellipsis").replace(/\//g, "-"),
        //threading: 4,
        category: "hcomic"
    }, {
        name: "XlecX",
        host: ["xlecx.one"],
        reg: /xlecx\.one\/[\w-]+\.html$/,
        imgs: ".ug-thumb-image,img[data-src]",
        button: [4],
        insertImg: [
            [".page__col-left", 0], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".page__col-left>h1"),
        category: "hcomic"
    }, {
        name: "HentaiPal.com",
        host: ["hentaipal.com"],
        reg: /^https?:\/\/hentaipal\.com\/viewalbum\/\w+\/[^\/]+\/index\.html$/,
        init: () => fun.remove("iframe[src*='ad'],font[color=red]"),
        imgs: async () => {
            let max;
            try {
                max = fun.ge(".imgpagebar>a:last-child").href.match(/page-(\d+)/)[1];
            } catch (e) {
                max = 1;
            }
            if (max > 1) {
                let links = [];
                let url = siteUrl.replace("index.html", "");
                for (let i = 2; i <= max; i++) {
                    links.push(url + "page-" + i + ".html");
                }
                await fun.getEle(links, ".justify-content-center img:not([src*=logo])", ["//div[@class='row justify-content-center'][not(a[img])]", 0]);
            }
            return [...fun.gae("//div[@class='row justify-content-center'][not(a[img])]//img")];
        },
        button: [4],
        insertImg: ["//div[@class='row justify-content-center'][not(a[img])]", 2],
        customTitle: () => fun.title("HentaiPal.com - "),
        category: "hcomic"
    }, {
        name: "HentaiPal.com 分類自動翻頁",
        enable: 1,
        reg: /^https?:\/\/hentaipal\.com\//,
        init: () => fun.remove("iframe[src*='ad']"),
        autoPager: {
            ele: "//div[@class='col-6 col-sm-3'][a[img]]",
            observer: "//div[@class='col-6 col-sm-3'][a[img]]",
            next: "//a[h3[span[@class='bi bi-caret-right-fill']]]",
            re: "//div[div[@class='imgpagebar']]",
            history: 1,
            title: () => "Page" + nextLink.match(/page-(\d+)/)[1]
        },
        css: ".autoPagerTitle{width:100%!important}",
        category: "autoPager"
    }, {
        name: "HentaiPorns",
        host: ["hentaiporns.net"],
        reg: /hentaiporns\.net\/[^\/]+\/$/,
        include: ".gallery",
        init: () => fun.createImgBox(".gallery", 2),
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".gallery-item a>img")].map(e => e.dataset.src ?? e.src);
            return [...fun.gae(".gallery-item a")];
        },
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, ".gallery"], 2, 1000
        ],
        customTitle: () => fun.ge("#gn+h1") ? fun.gt("#gn+h1") : fun.gt("#gn,.entry-title"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "hcomic"
    }, {
        name: "8muses",
        host: ["comics.8muses.com"],
        reg: /^https?:\/\/comics\.8muses\.com\/comics\/album\/[\w-]+\/[\w-]+\//i,
        include: ".gallery",
        exclude: ".image-title>.title-text",
        imgs: () => {
            let th = [...fun.gae("img[data-src]")].map(e => e.dataset.src.replace("/image/th/", "https://comics.8muses.com/image/fl/"));
            let arr = [];
            let loadnum = 0;
            fun.showMsg("Loading...", 0);
            for (let i in th) {
                let promise = new Promise(resolve => {
                    let temp = new Image();
                    temp.src = th[i];
                    temp.onload = () => {
                        loadnum++;
                        fun.showMsg(`Loading ${loadnum}/${th.length}`, 0);
                        resolve(th[i]);
                    }
                    temp.onerror = () => {
                        loadnum++;
                        fun.showMsg(`Loading ${loadnum}/${th.length}`, 0);
                        resolve(th[i].replace("/fl/", "/fm/"));
                    }
                });
                arr.push(promise);
            }
            return arr;
        },
        button: [4],
        insertImg: [
            [".gallery", 2], 1
        ],
        go: 1,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "Hentai.bang14.com",
        host: ["hentai.bang14.com"],
        reg: /^https?:\/\/hentai\.bang14\.com\/[^\/]+\/$/,
        include: ".entry-content",
        imgs: ".entry-content img",
        button: [4],
        insertImg: [".entry-content", 2],
        autoDownload: [0],
        next: ".nav-previous a[rel=prev]",
        prev: ".nav-previous a[rel=next]",
        customTitle: () => fun.gt("h1.entry-title"),
        category: "hcomic"
    }, {
        name: "AllPornComic",
        host: ["allporncomic.com"],
        reg: /^https?:\/\/allporncomic\.com\/porncomic\/[^\/]+\/[^\/]+\/$/i,
        include: ".read-container",
        imgs: ".wp-manga-chapter-img",
        button: [4],
        insertImg: [".read-container", 2],
        autoDownload: [0],
        next: "a.next_page",
        prev: "a.prev_page",
        customTitle: () => fun.gt("#chapter-heading"),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "hcomic"
    }, {
        name: "Hachirumi.com",
        host: ["hachirumi.com"],
        reg: /^https?:\/\/hachirumi.com\/read\/manga\/[^\/]+\/.+/,
        delay: 300,
        imgs: () => {
            let arr = [];
            let obj = Reader.current.chapters;
            for (let country of Object.keys(obj)) {
                arr.push(obj[country]);
            }
            let images = arr.map(e => e.images[Object.keys(e.images)[0]]).flat().map(e => location.origin + e);
            return images;
        },
        customTitle: () => Reader.current.title,
        category: "hcomic"
    }, {
        name: "7mmtvH漫畫貼圖",
        host: ["7mmtv.sx"],
        reg: /7mmtv\.sx\/.*hcomic/,
        include: "//script[contains(text(),'Large_cgurl')]",
        imgs: () => {
            let arr = Large_cgurl.map(e => /imgur/.test(e) ? e : null).filter(item => item);
            return arr.length == 0 ? Large_cgurl : arr;
        },
        button: [4],
        insertImg: ["#show_cg_html", 2],
        customTitle: () => fun.title(" - 7mmtv.sx", 1).replace(/\s?\(\d+P\)/i, ""),
        css: ".ut1_img_content_js,.ut_cg1_top{display:none!important}",
        category: "hcomic"
    }, {
        name: "18H",
        host: ["18h.mm-cg.com"],
        reg: /18h\.mm-cg\.com\/(zh\/?)\w+_content\/\d+\/content\.html/i,
        imgs: () => Large_cgurl,
        button: [4],
        insertImg: ["#show_cg_html", 2],
        customTitle: () => fun.title("-", 1),
        category: "hcomic"
    }, {
        name: "H 次元",
        host: ["h-ciyuan.com"],
        reg: /h-ciyuan\.com\/\d+\/\d+\/.+\//,
        include: "a[data-fancybox],.rl-gallery-container a",
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("a[data-fancybox] img,.rl-gallery-container a img")].map(e => e.src);
            return [...fun.gae("a[data-fancybox],.rl-gallery-container a")]
        },
        button: [4],
        //insertImg: [".entry-content", 2],
        insertImg: [
            [".entry-content,.rl-gallery-container", 2], 2
        ],
        go: 1,
        next: ".nav-previous>a",
        prev: ".nav-next>a",
        customTitle: () => fun.gt(".post-title"),
        category: "hcomic"
    }, {
        name: "淫漫画",
        host: ["www.yinmh.com", "www.yinmh.top", "www.yinmh.xyz"],
        reg: /www\.yinmh\.(com|top|xyz)\/\d+\.html/,
        imgs: () => fun.fetchDoc(siteUrl).then(doc => [...fun.gae(".left>.image img.lazy", doc)].map(e => e.getAttribute("img") ?? e.src)),
        button: [4],
        insertImg: [".left>.image", 2],
        customTitle: () => fun.gt(".box>h1"),
        category: "hcomic"
    }, {
        name: "漫畫車",
        host: ["www.manhuache.com", "m.manhuache.com", "www.mh100.top"],
        reg: /^https?:\/\/(www\.mh100\.top|(www|m)\.manhuache\.com)\/chapter\/\d+/,
        init: () => {
            let ele = fun.ge(".chapter-nav");
            if (ele) ele.removeAttribute("style");
        },
        imgs: async () => {
            let chapterName = fun.gt(".chapter-name");
            if (chapterName.includes("第1章") && fun.ge("//a[button[span[text()='下一話']]][not(contains(@href,'javascript'))]")) {
                await fun.getNP(".chapter-content img", "//a[button[span[text()='下一話']]][not(contains(@href,'javascript'))]");
                return [...fun.gae(".chapter-content img")]
            } else {
                return [...fun.gae(".chapter-content img")]
            }
        },
        button: [4],
        insertImg: [".chapter-content", 2],
        next: () => {
            let next = fun.ge("//a[button[span[text()='下一話']]][not(contains(@href,'javascript'))]");
            return next ? next.href : null;
        },
        prev: 1,
        referrerpolicy: "no-referrer",
        customTitle: () => document.title.replace(/\(\d+P\)|第.章/g, "").trim(),
        category: "hcomic"
    }, {
        name: "漫畫聯合國",
        host: ["www.comicun.com"],
        reg: /www\.comicun\.com\/index-look(-cid)?-name-.+/,
        FixURL: url => {
            if (/index-look-cid-name-/.test(url)) {
                let arr = url.split("-");
                let str = "";
                for (let i = 0; i < arr.length; i++) {
                    if (i == 7) {
                        str += arr[i];
                    } else if (i == 5) {
                        str += "cid-" + arr[i] + "-";
                    } else if (i != 2) {
                        str += arr[i] + "-";
                    }
                }
                return decodeURIComponent(str);
            } else {
                return decodeURIComponent(url);
            }
        },
        init: () => {
            fun.run("$(document).unbind('click');");
            if (/index-look-cid-name-/.test(siteUrl)) location.href = siteData.FixURL(siteUrl);
            [...fun.gae("//a[text()='下一章'] | //a[text()='上一章']")].forEach(a => a.href = siteData.FixURL(a.href));
        },
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => fun.getImg("#ComicPic", fun.ge("#total", doc).value, 20, null, 20, url, msg, request),
        button: [4, "24%", 1],
        insertImg: [".e", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: 1,
        customTitle: doc => {
            let arr = fun.gt(".b", 1, doc).split("-");
            return arr[2].trim() + " - " + arr[3].trim();
        },
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: "body{overflow:unset!important}.awesome970{display:none!important;}",
        category: "comic"
    }, {
        name: "丽图·污漫画",
        host: ["litu100.xyz"],
        reg: /litu\d+\.xyz\/comic\/id-\w+\/\d+\.html/,
        imgs: ".article.comic img",
        button: [4],
        insertImg: [".article.comic", 2],
        autoDownload: [0],
        next: "a.next",
        prev: "a.prev",
        customTitle: () => fun.gt(".breadcrumb span:nth-child(2)").replace("首页", ""),
        css: ".banner_ad{display:none!important;}",
        category: "hcomic"
    }, {
        name: "久久漫画网/漫小肆",
        host: ["www.jjmhw.cc", "www.ikanmh.xyz", "www.hmfby.com", "web.hmfby.com", "www.freexcomic.com"],
        reg: /(www\.jjmhw\.cc|www\.ikanmh\.xyz|www\.mxshm\.site|www\.mxs\d+\.cc|www\.92hm\.life|www\.ikanhm\.xyz|592mh\.top|592hm\.top|52wxz\.top|52kanmh\.top|52kanhm\.top|52hmw\.top|92comic\.top|91comic\.top|18comic2\.top|ikanyy\.top|18hm\.top|yycomic\.top|18hcomic\.top|18xcomic\.top|18xmh\.top|18xhm\.top|iikanwxz\.top|ikwxz\.top|wxzmh\.top|mxsmh\d.com|mxsmh\d+.top|mxs\d+\.top)\/chapter\/\d+/,
        init: () => fun.remove("//body/div[div[@id][@style][a]]|//body/div[div[@id][@style]][a[@id][@style]]"),
        imgs: "img[data-original]",
        button: [4],
        insertImg: [".comicpage,#cp_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.ge("h1.title") ? fun.gt("h1.title") : bookInfo.book_name + " - " + bookInfo.chapter_name,
        referer: "src",
        category: "hcomic"
    }, {
        name: "Avbebe",
        host: ["avbebe.com"],
        link: "https://avbebe.com/archives/category/%e6%88%90%e4%ba%bah%e6%bc%ab%e7%95%ab",
        reg: /avbebe\.com\/archives\/\d+/,
        include: "//a[@rel='category tag' and text()='成人漫畫']",
        imgs: ".elementor-widget-container>p>img,.content-inner>p>img",
        button: [4],
        insertImg: [
            ["//p[img]", 2, "//p[img]"], 2
        ],
        customTitle: () => fun.gt(".jeg_post_title").replace(/\[\d+P\]/i, ""),
        fancybox: {
            v: 3,
            css: false
        },
        category: "hcomic"
    }, {
        name: "ACG漫画网",
        host: ["www.acgmhs.com", "www.acgomh.com", "www.acgxmh.com", "www.acgsmh.com", "www.cool-manga.com", "www.porn-comic.com", "porn-comic.com"],
        reg: /((www\.)?acg[a-z]mh\.com|(www\.)?acgmh[a-z]\.com|(www\.)?cool-manga\.com|(www\.)?porn-comic\.com)\/([\w-]+\/)?(h|hentai|cos|western)\/\d+\.html/,
        imgs: () => fun.getImg(".manga-page img", fun.gt("#pages>*:last-child", 2), 5),
        button: [4],
        insertImg: [".manga-page", 1],
        autoDownload: [0],
        next: ".next_pics>.fr>a[href$=html]",
        prev: ".next_pics>.fl>a[href$=html]",
        customTitle: () => fun.gt("h2.title,h1.title").replace(/_\d+P$/i, ""),
        category: "hcomic"
    }, {
        name: "ACG漫画网",
        host: ["www.acgnbus.com"],
        reg: () => /^https?:\/\/www\.acgnbus\.com\/\w+\/\d+\.html$/.test(siteUrl) && fun.ge(".main-picture"),
        imgs: () => fun.getImg(".main-picture img", fun.gt("//a[text()='下一页'][@class='a1']", 2), 5),
        button: [4],
        insertImg: [".entry-content", 2],
        next: ".post-next a",
        prev: ".post-pre a",
        customTitle: () => fun.gt(".entry-header>h1"),
        css: ".adbox{display:none!important;}",
        category: "hcomic"
    }, {
        name: "天黑漫画",
        host: "tianhei-acg.com",
        reg: /^https?:\/\/tianhei-acg\.com\/[^\/]+\/$/,
        imgs: ".wp-posts-content img[data-src]",
        button: [4],
        insertImg: [".wp-posts-content", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt("h1.article-title").replace(/\|\s?/, ""),
        fancybox: {
            blacklist: 1
        },
        category: "nsfw1"
    }, {
        name: "NiceCat",
        host: "web.nicecat.cc",
        reg: /^https?:\/\/web\.nicecat\.cc\//,
        imgs: () => {
            if (/\/ComicDetailed\//.test(document.URL)) {
                if (!fun.ge("#FullPictureLoadMainImgBox")) {
                    fun.createImgBox("#recommend-info-body", 1);
                }
                fun.showMsg(displayLanguage.str_05, 0);
                let comicUid = document.URL.match(/\/id\.(.+)$/)[1];
                return fetch("/api/ComicOrder/getComicOrder", {
                    "headers": {
                        "accept": "application/json, text/plain, */*",
                        "content-type": "multipart/form-data; boundary=---------------------------300774294838202879722552710792",
                        "n-application-type": "web",
                        "tourist-id": document.cookie.match(/tourist-id=([^;]+)/)[1]
                    },
                    "body": `-----------------------------300774294838202879722552710792\r\nContent-Disposition: form-data; name=\"comicUid\"\r\n\r\n${comicUid}\r\n-----------------------------300774294838202879722552710792\r\nContent-Disposition: form-data; name=\"sort\"\r\n\r\n0\r\n-----------------------------300774294838202879722552710792\r\nContent-Disposition: form-data; name=\"dateKey\"\r\n\r\nTBMdP46lH10qtE/QgeAGiBXc7fz0OBNyTygV892JQac=\r\n-----------------------------300774294838202879722552710792--\r\n`,
                    "method": "POST"
                }).then(res => res.json()).then(json => json.data.imageData.map(e => e.imageUrl));
            } else {
                return [];
            }
        },
        repeat: 1,
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 3],
        customTitle: () => {
            if (/\/ComicDetailed\//.test(document.URL)) {
                let comicUid = document.URL.match(/\/id\.(.+)$/)[1];
                return fetch("/api/ComicInfo/info", {
                    "headers": {
                        "content-type": "multipart/form-data; boundary=---------------------------127241532924823760192176152950",
                        "n-application-type": "web",
                        "tourist-id": document.cookie.match(/tourist-id=([^;]+)/)[1]
                    },
                    "body": `-----------------------------127241532924823760192176152950\r\nContent-Disposition: form-data; name=\"uid\"\r\n\r\n${comicUid}\r\n-----------------------------127241532924823760192176152950--\r\n`,
                    "method": "POST"
                }).then(res => res.json()).then(json => json.data.comicData.name_two ?? json.data.comicData.name_one).then(str => str.replaceAll("/", "∕"));
            } else {
                return "";
            }
        },
        observerURL: true,
        category: "hcomic"
    }, {
        name: "紳士漫畫 圖片清單頁",
        host: ["wnacg.com", "www.wnacg.com", "www.htmanga3.top", "www.htmanga4.top", "www.htmanga5.top", "www.hentaicomic.ru", "www.hm1.lol", "www.wn05.lol"],
        link: "https://wnacg01.org/",
        reg: /^https?:\/\/((www\.)?wnacg\.com|www\.htmanga\d\.top|www\.hentaicomic\.ru|(www\.)?wn\d{1,2}\.lol|(www\.)?hm\d{1,2}\.lol)\/photos-index(-page-\d+)?-aid-\d+\.html/,
        init: async () => {
            fun.remove(".dlh,iframe:not(#FullPictureLoadIframe)");
            fun.remove("//body/div[a[img]] | //div[@class='Introduct']/a[div[img]] | //div[a[img[@alt='Game Tip']]]");
            fun.addMutationObserver(() => fun.remove(".dlh,iframe:not(#FullPictureLoadIframe)"));
            await fun.getNP(".gallary_item", ".thispage+a", null, ".paginator");
        },
        imgs: async () => {
            thumbnailsSrcArray = [...fun.gae(".gallary_item img")].map(e => e.src);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("a[href*='slide'],a[href*='slist']").href;
            let iframe = await fun.iframeVar(url, 1000, "imglist");
            return iframe.imglist.map(e => e.url);
        },
        button: [4],
        insertImg: [
            [".gallary_wrap,.Introduct", 0], 2
        ],
        go: 1,
        customTitle: () => fun.title(/ - 紳士漫畫| - 绅士漫画|-紳士漫畫|-绅士漫画/, 1).replace(/\d+P/i, "").trim(),
        category: "hcomic"
    }, {
        name: "紳士漫畫 下拉閱讀頁",
        host: ["wnacg.com", "www.wnacg.com", "www.htmanga3.top", "www.htmanga4.top", "www.htmanga5.top", "www.hentaicomic.ru", "www.hm1.lol", "www.wn05.lol"],
        reg: /^https?:\/\/((www\.)?wnacg\.com|www\.htmanga\d\.top|www\.hentaicomic\.ru|(www\.)?wn\d{1,2}\.lol|(www\.)?hm\d{1,2}\.lol)\/photos-(slide|slidelow|list|slist)-aid-\d+\.html/,
        imgs: () => imglist.map(e => e.url),
        button: [4],
        insertImg: ["#img_list", 2],
        customTitle: () => fun.title(" - 列表", 1).replace(/\d+P/i, "").trim(),
        css: "div[align=center],#control_block{display:none!important;}",
        category: "hcomic"
    }, {
        name: "包子漫畫",
        host: ["bunmh.com"],
        reg: /^https?:\/\/bunmh\.com\/read\/\d+\/\d+\.html$/,
        init: () => fun.createImgBox("#article"),
        imgs: async () => {
            let drawing = 0;
            const _restoreShuffledImage = async (shuffledImageUrl, base64Str, total) => {
                return new Promise(resolve => {
                    const img = new Image();
                    img.setAttribute("crossOrigin", "anonymous");
                    img.src = shuffledImageUrl;
                    img.onload = () => {
                        const imageWidth = img.width;
                        const imageHeight = img.height;
                        const restoreOrder = JSON.parse(atob(base64Str));
                        const keys = Object.keys(restoreOrder);
                        const num = keys.length;
                        let blockWidth, blockHeight, extraPixels;
                        if (num % 2 === 0) {
                            blockWidth = Math.floor(imageWidth / num);
                            extraPixels = imageWidth % num;
                        } else {
                            blockHeight = Math.floor(imageHeight / num);
                            extraPixels = imageHeight % num;
                        }
                        const blocks = [];
                        let startX = 0;
                        let startY = 0;
                        keys.forEach((key, index) => {
                            const originalPosition = restoreOrder[key];
                            if (originalPosition >= 0 && originalPosition < num) {
                                if (num % 2 === 0) {
                                    const currentBlockWidth = blockWidth + (originalPosition < extraPixels ? 1 : 0);
                                    const canvas = document.createElement('canvas');
                                    canvas.width = currentBlockWidth;
                                    canvas.height = imageHeight;
                                    const ctx = canvas.getContext('2d');
                                    ctx.drawImage(img, startX, 0, currentBlockWidth, imageHeight, 0, 0, currentBlockWidth, imageHeight);
                                    blocks[originalPosition] = canvas;
                                    startX += currentBlockWidth;
                                } else {
                                    const currentBlockHeight = blockHeight + (originalPosition < extraPixels ? 1 : 0);
                                    const canvas = document.createElement('canvas');
                                    canvas.width = imageWidth;
                                    canvas.height = currentBlockHeight;
                                    const ctx = canvas.getContext('2d');
                                    ctx.drawImage(img, 0, startY, imageWidth, currentBlockHeight, 0, 0, imageWidth, currentBlockHeight);
                                    blocks[originalPosition] = canvas;
                                    startY += currentBlockHeight;
                                }
                            } else {
                                console.error(`Invalid originalPosition: ${originalPosition}`);
                            }
                        });
                        const restoredCanvas = document.createElement('canvas');
                        restoredCanvas.width = imageWidth;
                        restoredCanvas.height = imageHeight;
                        const ctx = restoredCanvas.getContext('2d');
                        startX = 0;
                        startY = 0;
                        Object.keys(blocks).sort((a, b) => a - b).forEach(key => {
                            const block = blocks[key];
                            if (num % 2 === 0) {
                                const currentBlockWidth = block.width;
                                ctx.drawImage(block, 0, 0, currentBlockWidth, imageHeight, startX, 0, currentBlockWidth, imageHeight);
                                startX += currentBlockWidth;
                            } else {
                                const currentBlockHeight = block.height;
                                ctx.drawImage(block, 0, 0, imageWidth, currentBlockHeight, 0, startY, imageWidth, currentBlockHeight);
                                startY += currentBlockHeight;
                            }
                        });
                        let dataURL = restoredCanvas.toDataURL("image/jpeg", 0.9);
                        let dataURL_Split = dataURL.split(",");
                        let bstr = atob(dataURL_Split[1]);
                        let n = bstr.length;
                        let u8arr = new Uint8Array(n);
                        while (n--) {
                            u8arr[n] = bstr.charCodeAt(n);
                        }
                        let blobUrl = URL.createObjectURL(new Blob([u8arr], {
                            type: "image/jpeg"
                        }));
                        fun.showMsg(`DrawImage ${drawing += 1}/${total}`, 0);
                        resolve(blobUrl);
                    };
                    img.onerror = () => {
                        resolve(null);
                    };
                });
            };
            fun.showMsg(displayLanguage.str_05, 0);
            let [articleid, chapterid] = window.location.pathname.match(/\d+/g);
            let max = document.querySelector(".text_title>p").innerText.match(/\d+/g).at(-1);
            let fetchNum = 0;
            let resArr = fun.arr(max).map((_, i) => {
                return fetch("/api/reader_js.php", {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                        "x-requested-with": "XMLHttpRequest"
                    },
                    "body": `action=show&articleid=${articleid}&chapterid=${chapterid}&pid=${i+1}`,
                    "method": "POST"
                }).then(res => res.text()).then(text => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                    try {
                        return JSON.parse(text);
                    } catch (e) {
                        return {
                            error: "ERROR"
                        }
                    }
                }).then(json => json?.error ? [] : json.data.image_list.sort((a, b) => a.order - b.order));
            });
            let allData = await Promise.all(resArr).then(data => data.flat());
            if (allData.length > 0) {
                fun.showMsg(displayLanguage.str_53, 0);
                return allData.map(async (obj, i, _arr) => {
                    if (obj.arr === "") {
                        return obj.pic;
                    } else {
                        await fun.delay(200 * i, 0);
                        return _restoreShuffledImage(obj.pic, obj.arr, _arr.length);
                    }
                });
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: ["#FullPictureLoadMainImgBox", 2],
        insertImgAF: () => {
            let max = document.querySelector(".text_title>p").innerText.match(/\d+/g).at(-1);
            let lastUrl = fun.url.replace(".html", "") + "_" + max + ".html";
            fun.fetchDoc(lastUrl).then(doc => {
                fun.ge(".text_title>p").innerText = fun.ge(".text_title>p", doc).innerText;
                fun.ge("#next_url").outerHTML = fun.ge("#next_url", doc).outerHTML;
                nextLink = fun.ge("#next_url", doc).href;
            });
        },
        autoDownload: [0],
        next: "#next_url",
        observerNext: ".read_nav",
        prev: "#prev_url",
        customTitle: () => fun.ge("meta[property='og:comic:book_name']").content + " - " + fun.ge("meta[property='og:comic:chapter_name']").content,
        css: "#article>canvas,.chapterpic{display:none!important;}",
        category: "hcomic"
    }, {
        name: "VN漫画网 下拉阅读",
        host: ["www.vnacg.com"],
        reg: /(www|m)\.vnacg\.com\/show\/\d+\.html/,
        imgs: async () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let api = `/e/extend/api/show.php?id=${info.id}&page=`;
            let max = await fetch(`${api}1`).then(res => res.json()).then(res => res.pages);
            let fetchNum = 0;
            let resArr = fun.arr(max).map((_, i) => {
                return fetch(`${api + (i + 1)}`).then(res => res.json()).then(json => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                    return json.data;
                });
            });
            return Promise.all(resArr).then(data => data.flat().map(e => e.src));
        },
        button: [4],
        insertImg: [".show,.read", 2],
        customTitle: () => fun.title("_免费阅读", 1),
        category: "hcomic"
    }, {
        name: "VN漫画网 清單頁 www.vnacg.com",
        host: ["www.vnacg.com"],
        reg: /www\.vnacg\.com\/detail\/\d+\.html/,
        observerClick: ".layui-flow-more>a",
        category: "autoPager"
    }, {
        name: "TWHentai/台灣成人H漫/十八禁成人H漫 圖片清單頁",
        host: ["twhentai.com", "mttang.club", "hentai.desi"],
        reg: /^https?:\/\/(twhentai\.com|mttang\.club|(\w+\.)?hentai\.desi)\/\??(hentai_manga|hentai_doujin|hentai_western)\/\d+\/$/,
        imgs: async () => {
            await fun.getNP("//div[div[a[@class='thumbnail'][img]]]", ".pagination li.active+li:not(.disabled)>a", null, ".pagination");
            thumbnailsSrcArray = [...fun.gae(".recommended img")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace("-thumb265x385", ""));
        },
        button: [4],
        insertImg: [
            [".footer", 1], 2
        ],
        go: 1,
        customTitle: () => {
            if (/twhentai|mttang/.test(fun.lh)) {
                return fun.gt(".recommended-info h3");
            } else {
                let h3s = [...fun.gae(".recommended-info h3")];
                return h3s.length > 1 ? h3s[1].innerText : h3s[0].innerText;
            }
        },
        category: "hcomic"
    }, {
        name: "松鼠症倉庫",
        host: ["ahri8.top"],
        reg: /\/readOnline\d\.php\?ID=\d+&host_id=\d+/,
        include: "//div[@id='logo-group']//a[contains(text(),'松鼠症倉庫') or contains(text(),'松鼠症仓库')]",
        imgs: () => Original_Image_List.map(e => HTTP_IMAGE + e.new_filename + "_w1500." + e.extension),
        button: [4],
        insertImg: ["#Big_Image", 2],
        customTitle: () => fun.gt(".page-header").replace("線上閱讀", ""),
        css: "#content>.col-lg-12,[id^=read_online_ads_area],#Big_Image~*{display:none!important}",
        category: "hcomic"
    }, {
        name: "91漫屋/欲漫涩/腐漫屋",
        host: ["91manwu.com", "yumanse.com", "fumanwu.org", "18comic.tw"],
        reg: /^https?:\/\/(91manwu\.com|yumanse\.com|fumanwu\.org|18comic\.tw)\/vodplay\/[\d-]+\.html$/,
        include: "//div[div[img[@class='lazy chapter-img']]]",
        init: () => fun.addMutationObserver(() => fun.remove("//div[div[@id and a[@id and img]]]")),
        imgs: ".chapter-img",
        button: [4],
        insertImg: ["//div[div[img[@class='lazy chapter-img']]]", 2],
        autoDownload: [0],
        next: "//a[span[text()='下一话']][contains(@href,'html')]",
        prev: "//a[span[text()='上一话']][contains(@href,'html')]",
        customTitle: () => fun.gt(".hl-vod-name") + " - " + fun.gt(".hl-vod-name+li").replace("章节:  ", ""),
        css: ".hl-pops-bg,.hl-poptips-wrap{display:none!important;}",
        category: "hcomic"
    }, {
        name: "Caitlin.top",
        host: ["caitlin.top"],
        reg: /caitlin\.top\/index\.php\?route=comic\/readOnline&comic_id=\d+/,
        imgs: () => Image_List.map(e => location.protocol + HTTP_IMAGE + e.sort + "." + e.extension),
        button: [4],
        insertImg: ["#Big_Image", 2],
        customTitle: () => fun.gt(".page-header"),
        css: "#content>.col-lg-12,[id^=read_online_ads_area],#Big_Image~*{display:none!important}",
        category: "hcomic"
    }, {
        name: "C3manga",
        host: ["c3manga.com"],
        reg: /^https?:\/\/c3manga\.com\/[^\/]+\/$/,
        init: async () => await fun.waitEle("#chapter option[selected]"),
        include: "#readerarea",
        imgs: "#readerarea img",
        button: [4],
        insertImg: ["#readerarea", 2],
        autoDownload: [0],
        next: "a.ch-next-btn",
        prev: "a.ch-prev-btn",
        customTitle: () => fun.gt(".entry-title") + " - " + fun.gt("#chapter option[selected]"),
        category: "hcomic"
    }, {
        name: "ACG糖",
        host: ["acghtang.com", "acgntoon.com", "acgtoon.com"],
        reg: /^https?:\/\/(acghtang|acgntoon|acgtoon)\.com\/\w+\/\w+\.html$/,
        imgs: () => {
            let max = fun.gt("//a[text()='下一页']", 2);
            return fun.getImg(".manga-picture img", max, 5);
        },
        button: [4],
        insertImg: [".manga-page", 2],
        autoDownload: [0],
        next: ".next-toon a",
        prev: ".pre-toon a",
        customTitle: () => fun.gt(".title"),
        category: "hcomic"
    }, {
        name: "Roku Hentai",
        host: ["rokuhentai.com"],
        reg: /^https?:\/\/rokuhentai\.com\/\w+$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".site-page-card__media")].map(e => e.style.backgroundImage.split('"')[1]);
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.url + "/0";
            return fun.fetchDoc(url).then(doc => [...fun.gae(".site-reader__image", doc)].map(e => e.dataset.src ?? e.src));
        },
        button: [4],
        insertImg: [
            [".site-manga-info+.mdc-layout-grid", 2], 2
        ],
        go: 1,
        customTitle: () => fun.title(" - Roku Hentai"),
        css: ".site-bottom-ad-slot{display:none!important}",
        category: "hcomic"
    }, {
        name: "Roku Hentai",
        host: ["rokuhentai.com"],
        reg: /^https?:\/\/rokuhentai\.com\/\w+\/\d+$/,
        imgs: ".site-reader__image",
        button: [4],
        insertImg: [".site-reader", 2],
        css: ".site-reader--right-to-left,.site-reader--left-to-right{overflow-x:auto!important;overflow-y:auto!important}.site-reader{padding-bottom:0px!important}.site-reader{display:block!important;}.site-bottom-ad-slot{display:none!important}",
        category: "hcomic"
    }, {
        name: "177 漫画/XXIAV寫真館",
        host: ["www.177pica.com", "www.177picyy.com", "www.xxiav.com"],
        reg: /www\.(177pica|177picyy|xxiav)\.com\/html\/\d+\/\d+\/\d+\.html/,
        imgs: () => fun.getImg(".single-content img[data-lazy-src]", (fun.gt(".page-links>*:last-child", 2) || 1), 10),
        button: [4],
        insertImg: [".single-content", 2],
        autoDownload: [0],
        next: "a[rel=prev]",
        prev: 1,
        customTitle: () => fun.gt(".entry-title").replace(/\[\d+P\]$/i, ""),
        category: "hcomic"
    }, {
        name: "18H 宅宅愛動漫",
        host: ["18h.animezilla.com"],
        reg: /18h\.animezilla\.com\/manga\/\d+/,
        imgs: () => {
            let max;
            try {
                max = fun.ge(".last").href.split("/").at(-1);
            } catch (e) {
                max = 1;
            }
            return fun.getImgO("#comic", max, "4", null, 0, ".entry-title,.wp-pagenavi", siteUrl, 0);
        },
        button: [4],
        insertImg: ["#page-current", 1],
        customTitle: () => fun.gt("h1.entry-title").replace(/\s?\[\d+P\](\s?-\s?\d+\/\d+\s?)?/i, ""),
        category: "hcomic"
    }, {
        name: "18 禁漫",
        host: ["www.18mh.cc"],
        reg: /www\.18mh\.cc\/index-look-name-/,
        imgs: () => {
            let url = fun.attr("img[data-url]", "data-url");
            let [, path, start, ex] = url.match(/(^.+\/)(\d+)(\.\w{2,4})$/);
            let ps = fun.gae("select[onchange]>option").length;
            let end = parseInt(start, 10) + ps;
            let arr = [];
            for (let i = start; i < end; i++) {
                arr.push(path + i + ex);
            }
            return arr;
        },
        button: [4],
        insertImg: [".e", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => {
            let s = fun.gt(".b").split(" - ");
            return s[2] + " - " + s[3];
        },
        css: ".p.fanye,select[onchange],.c_p.k_pag{display:none!important}",
        category: "hcomic"
    }, {
        name: "18 禁漫M",
        host: ["m.18mh.cc"],
        reg: /^https?:\/\/m\.18mh\.cc\/look\/name\//,
        imgs: () => {
            let url = fun.attr("#manga img", "src");
            let [, path, start, ex] = url.match(/(^.+\/)(\d+)(\.\w{2,4})$/);
            let ps = parseInt(fun.gt(".manga-page").match(/(\d+)P/)[1], 10);
            let end = parseInt(start, 10) + ps;
            let arr = [];
            for (let i = start; i < end; i++) {
                arr.push(path + i + ex);
            }
            return arr;
        },
        button: [4],
        insertImg: ["#manga", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.gt("#mangaTitle"),
        css: ".action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none !important}",
        category: "hcomic"
    }, {
        name: "色漫网",
        host: ["www.cartoon18.com"],
        reg: () => /^https?:\/\/www\.cartoon18\.com\/([\w-]+\/)?v\/\w+$/i.test(siteUrl) && fun.ge("#links+.title+div>a>i.fa-play"),
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            let url = fun.ge("#links+.title+div>a").href;
            return fun.fetchDoc(url).then(doc => fun.ge("img[data-src]", doc) ? [...fun.gae("img[data-src]", doc)] : [...fun.gae("#lightgallery a", doc)]);
        },
        button: [4],
        insertImg: ["//div[a[img]]", 2],
        insertImgAF: () => {
            fun.ge("#FullPictureLoadOptionsButtonParentDiv").parentNode.className = "";
            let modalOpen = fun.ge(".modal-open");
            if (modalOpen) modalOpen.classList.remove("modal-open");
        },
        css: "#chromeModal,.modal-backdrop{display:none!important;}",
        category: "hcomic"
    }, {
        name: "色漫网",
        host: ["www.cartoon18.com"],
        reg: /www\.cartoon18\.com\/([\w-]+\/)?story\/\d+\/full/,
        imgs: () => fun.ge("img[data-src]") ? [...fun.gae("img[data-src]")] : [...fun.gae("#lightgallery a")],
        button: [4],
        insertImg: ["#lightgallery", 2],
        category: "hcomic"
    }, {
        name: "韓漫射/绅士同人H漫",
        host: ["h-webtoon.com", "h-doujinshi.xyz"],
        reg: /(h-webtoon\.com|h-doujinshi\.xyz)\/.+\//,
        init: "setTimeout(()=>{fun.gae('.g1-nav-single a').forEach(e=>{e.removeAttribute('target')})},2000)",
        include: ".g1-content-narrow",
        imgs: ".g1-content-narrow p img",
        button: [4],
        insertImg: [".g1-content-narrow", 2],
        autoDownload: [0],
        next: "#content .g1-teaser-next",
        prev: "#content .g1-teaser-prev",
        customTitle: () => fun.gt("h1.entry-title"),
        css: "#simple-banner,.touchy-wrapper,.touchy-wrapper~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),.code-block,#secondary{display:none!important}",
        category: "hcomic"
    }, {
        name: "18H漫画",
        host: ["18hmanga.click"],
        reg: /(18hmanga\.click)\/.+\//,
        init: "setTimeout(()=>{fun.gae('.g1-nav-single a').forEach(e=>{e.removeAttribute('target')})},2000)",
        include: ".g1-content-narrow",
        imgs: () => {
            let selector = "//div[@itemprop='articleBody']//noscript[contains(text(),'upload')]";
            return fun.ge(selector) ? [...fun.gae(selector)].map(e => e.innerText.match(/src="([^"]+)/)[1]) : [...fun.gae("div[itemprop=articleBody] img[src*=upload]")];
        },
        button: [4],
        insertImg: ["div[itemprop=articleBody]", 2],
        autoDownload: [0],
        next: "#content .g1-teaser-prev",
        prev: "#content .g1-teaser-next",
        customTitle: () => fun.gt("h1.entry-title"),
        css: "#simple-banner,.touchy-wrapper,.touchy-wrapper~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),.code-block,#secondary{display:none!important}",
        category: "hcomic"
    }, {
        name: "18H漫画",
        host: ["18hmanga.click"],
        reg: /(18hmanga\.click)\/.+\//,
        init: "setTimeout(()=>{fun.gae('.g1-nav-single a').forEach(e=>{e.removeAttribute('target')})},2000)",
        imgs: () => {
            fun.showMsg(displayLanguage.str_01, 0);
            let fetchNum = 0;
            let resArr = [...fun.gae("//a[contains(text(),'Read More')]", doc)].map((a, i, arr) => {
                return fun.fetchDoc(a.href).then(doc => {
                    fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${arr.length}`, 0);
                    let selector = "//div[@itemprop='articleBody']//noscript[contains(text(),'upload')]";
                    return fun.ge(selector, doc) ? [...fun.gae(selector, doc)].map(e => e.innerText.match(/src="([^"]+)/)[1]) : [...fun.gae("div[itemprop=articleBody] img[src*=upload]", doc)];
                });
            })
            return Promise.all(resArr).then(arr => arr.flat());
        },
        button: [4],
        insertImg: [
            ["#primary", 0], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".g1-breadcrumbs-item>span[itemprop=name]"),
        css: "div[class][id][style*=fixed]{display:none!important;}",
        category: "hcomic"
    }, {
        name: "Hitomi.la",
        host: ["hitomi.la"],
        reg: /hitomi\.la\/reader\/\d+\.html/,
        init: "setTimeout(()=>{$(document).unbind('keydown');$(document).unbind('click')},1000)",
        imgs: async () => {
            await fun.waitEle("#mobileImages .lillie", 11);
            fun.ge("#comicImages").setAttribute("class", "fitVertical");
            fun.ge("#mobileImages").setAttribute("class", "hidden");
            if (options.fancybox == 1) {
                fun.showMsg("Get Thumbnailsing...");
                let url = fun.ge("//a[text()='Gallery Info']").href;
                let doc = await fun.iframeDoc(url, ".gallery-preview img");
                thumbnailsSrcArray = [...fun.gae(".gallery-preview img", doc)].map(e => e.dataset.src ?? e.src);
            }
            return galleryinfo.files.map((e, i) => url_from_url_from_hash(galleryinfo["id"], our_galleryinfo[i], "webp", undefined, "a"));
        },
        button: [4],
        insertImg: ["#comicImages", 2],
        customTitle: () => fun.title("|", 1),
        css: "body{overflow:unset!important}#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        threading: 5,
        category: "hcomic"
    }, {
        name: "Orzqwq List模式",
        host: ["orzqwq.com"],
        reg: /orzqwq\.com\/manga\/.+style=list/,
        include: "//option[@selected and text()='List style']",
        imgs: async () => {
            fun.showMsg(displayLanguage.str_04, 0);
            await fun.waitEle(".img-responsive", 600);
            return [...fun.gae("img[data-src]")];
        },
        insertImg: [".reading-content", 2],
        customTitle: () => fun.gt(".breadcrumb>li:nth-child(2)").trim(),
        category: "hcomic"
    }, {
        name: "HO5HO",
        host: ["www.ho5ho.com"],
        reg: /www\.ho5ho\.com\/.+\/.+\/server.+\//,
        include: "//script[contains(text(),'chapter_preloaded_images')]",
        imgs: () => chapter_preloaded_images,
        button: [4],
        insertImg: [".entry-content", 2],
        customTitle: () => fun.gt(".breadcrumb>li:nth-child(2)").trim(),
        category: "hcomic"
    }, {
        name: "成人漫画 圖片清單頁",
        host: ["bad.news"],
        link: "https://bad.news/mh",
        reg: /^https?:\/\/bad\.news\/mh\/\w+\/id-\d+$/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae("img.img-responsive")].map(e => e.dataset.echo ?? e.src);
            let link = [fun.ge("a.post-thumb").href];
            return fun.getImgA("img.img-responsive", link);
        },
        button: [4],
        insertImg: [
            ["//div[div[article[div[div[a[img[@class='img-responsive']]]]]]]", 2], 2
        ],
        go: 1,
        threading: 4,
        category: "hcomic"
    }, {
        name: "成人漫画 閱讀頁",
        host: ["bad.news"],
        link: "https://bad.news/mh",
        reg: /bad\.news\/mh\/view\/id-\d+/,
        imgs: ".img-responsive",
        button: [4],
        insertImg: ["//div[img[@class='img-responsive']]", 2],
        threading: 4,
        category: "hcomic"
    }, {
        name: "JComic",
        host: ["jcomic.net"],
        reg: /^https?:\/\/jcomic\.net\/page\/[^\/]+$/,
        imgs: ".comic-view,.comic-thumb",
        button: [4],
        insertImg: ["//div[img[@class='img-responsive comic-thumb']]", 2],
        threading: 10,
        customTitle: () => fun.gt("//ol/li[2]/a"),
        category: "hcomic"
    }, {
        name: "JComic",
        host: ["jcomic.net"],
        reg: /^https?:\/\/jcomic\.net\/page\/[^\/]+\/[0-9\.]+$/,
        imgs: ".comic-view,.comic-thumb",
        button: [4],
        insertImg: ["//div[img[@class='img-responsive comic-thumb']]", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[button[text()='下一章']]");
            return next && next.href != siteUrl ? next.href : null;
        },
        prev: 1,
        threading: 10,
        customTitle: () => fun.gt("//ol/li[2]/a") + " - " + fun.gt("//ol/li[3]"),
        category: "hcomic"
    }, {
        name: "一之涩漫画/哈塔兹漫画/物二漫画",
        host: ["1zse.com", "hatazi.com", "522160.xyz", "522161.xyz", "522162.xyz", "522163.xyz", "522164.xyz", "522168.xyz", "522168.xyz", "522167.xyz", "522168.xyz", "522169.xyz"],
        reg: /^https?:\/\/(1zse\.com|hatazi\.com|52216\d\.xyz)\/index\.php\/\d+\.html/,
        init: () => fun.clearAllTimer(),
        imgs: () => fun.getImg(".context img", fun.gt(".pages").match(/\d+/g)[1], 7),
        button: [4],
        insertImg: [".context", 2],
        autoDownload: [0],
        next: ".post-previous a",
        prev: ".post-next a",
        customTitle: () => fun.gt("#content h1").replace(/\[\d+P\]|〈|〉/gi, ""),
        category: "hcomic"
    }, {
        name: "那露漫画",
        host: ["naluhd.com"],
        reg: /^https?:\/\/naluhd\.com\/index\.php\/\d+\.html/,
        imgs: () => fun.getImgA(".article-content img", "a.post-page-numbers"),
        button: [4],
        insertImg: [".article-content", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇'] and not(starts-with(@href,'java'))]",
        prev: "//a[p[text()='下一篇'] and not(starts-with(@href,'java'))]",
        customTitle: () => fun.gt(".article-title>a").replace(/\[\d+P\]/i, ""),
        category: "hcomic"
    }, {
        name: "色色漫画/最新韩漫网",
        host: ["www.sesemanhua.com", "www.xindehanman.com", "aicomic.org"],
        reg: /^https:\/\/www\.sesemanhua\.com\/index\.php\/chapter\/\d+|^https?:\/\/www\.xindehanman\.com\/chapter_\d+\.html/,
        include: ".rd-article-wr,.comic-list",
        imgs: ".rd-article-wr img,.comic-list img",
        button: [4],
        insertImg: [".rd-article-wr,.comic-list", 2],
        autoDownload: [0],
        next: ".j-rd-next,.next-btn",
        prev: ".j-rd-prev,.prev-btn",
        customTitle: () => fun.gt(".comic-title>a,.comic-name,.mip-shell-header-title"),
        category: "hcomic"
    }, {
        name: "九妖漫画",
        host: ["mobile.jymhapp.com", "xn--ihqy4c7yra.jyaaa.info"],
        reg: /^https?:\/\/(mobile\.jymhapp\.com|xn--ihqy4c7yra\.jyaaa\.info)\/chapter\/\d+/,
        include: ".rd-article-wr,.comic-list",
        imgs: ".rd-article-wr img,.comic-list img",
        button: [4],
        insertImg: [".rd-article-wr,.comic-list", 2],
        autoDownload: [0],
        next: ".j-rd-next,.next-btn",
        prev: ".j-rd-prev,.prev-btn",
        customTitle: () => fun.title(" - 九妖漫画网"),
        css: "[class^=ad],.m-hm-ad1,p.result{display:none!important;}",
        category: "hcomic"
    }, {
        name: "韩漫库/3N漫画网/哇漫画/很多漫/爱看韩漫",
        host: ["se8.us", "3456nnn3.com", "wamanhua.com", "henduoman.com", "aikanhanman1.com"],
        reg: [
            /^https?:\/\/(se8\.us|3456nnn3\.com|wamanhua\.com|aikanhanman\d?\.com)\/index\.php\/chapter\/\d+/,
            /^https?:\/\/henduoman\.com\/chapter-\d+\.html/
        ],
        imgs: ".rd-article-wr img,.comic-list img,.episode-detail img",
        button: [4],
        insertImg: [".rd-article-wr,.comic-list,.episode-detail", 1],
        autoDownload: [0],
        next: ".j-rd-next,.next-btn,a.next[href^='/']",
        prev: ".j-rd-prev,.prev-btn,a.prev[href^='/']",
        customTitle: async () => {
            if (fun.ge(".rd-article-wr")) {
                return fun.gt(".read__crumb").replace("首页  ", "").replace("  ", " - ");
            } else {
                try {
                    return shareArr[0].match(/《([^》]+)/)[1] + " - " + fun.gt(".comic-name");
                } catch (e) {
                    let url = fun.ge("//a[contains(text(),'全集')]").href;
                    let comicName = await fun.fetchDoc(url).then(doc => fun.gt("h1.title", 1, doc));
                    return comicName + " - " + fun.gt(".center-title");
                }
            }
        },
        css: "body>ins,div[id^='show']{display:none!important;}",
        category: "hcomic"
    }, {
        name: "福利漫画",
        host: ["flmh.xyz"],
        reg: /^https?:\/\/flmh\.xyz\/chapter_\d+\.html/,
        imgs: ".rd-article-wr img,.comic-list img",
        button: [4],
        insertImg: [".rd-article-wr,.comic-list", 1],
        autoDownload: [0],
        next: ".j-rd-next,.next-btn",
        prev: ".j-rd-prev,.prev-btn",
        customTitle: () => fun.ge(".rd-article-wr") ? fun.gt(".comic-title").replace(/\s-\s.+$/, "") : fun.gt(".comic-name").replace(/\s-\s.+$/, ""),
        css: "body>ins,div[id^='show']{display:none!important;}",
        category: "hcomic"
    }, {
        name: "日漫之家",
        host: ["rimanzhijia.com"],
        reg: /^https?:\/\/rimanzhijia\.com\/index\.php\/chapter\/\d+/,
        imgs: "#comic_pic",
        button: [4],
        insertImg: [
            ["#comic_pic", 2, "#comic_pic"], 2
        ],
        autoDownload: [0],
        next: "//a[contains(text(),'下一章')][starts-with(@href,'/')]",
        prev: "//a[contains(text(),'上一章')][starts-with(@href,'/')]",
        customTitle: () => fun.gt(".bo_tit").replace(">", "-"),
        css: "img[src*='/ad/']{display:none!important;}.bo_nav{width:97%!important;padding:10px!important}",
        category: "hcomic"
    }, {
        name: "最新韩漫网M",
        host: ["www.zuixinhanman.com", "www.xinhanman.com"],
        reg: /^https?:\/\/www\.(zui)?xinhanman\.com\/chapter_\d+\.html/,
        delay: 300,
        imgs: "#comic_pic",
        button: [4],
        insertImg: [
            [".bo_tit", 2, "#comic_pic"], 2,
        ],
        autoDownload: [0],
        next: "//a[contains(text(),'下一章')][contains(@href,'html')]",
        prev: "//a[contains(text(),'上一章')][contains(@href,'html')]",
        customTitle: () => fun.gt(".mip-shell-header-title"),
        fancybox: {
            blacklist: 1
        },
        category: "hcomic"
    }, {
        name: "韩漫100",
        host: ["hanman100.com"],
        reg: /^https?:\/\/hanman100\.com\/index\.php\/chapter-\d+\.html/,
        imgs: "#img-content img,.comic-list img",
        button: [4, "24%", 4],
        insertImg: ["#img-content,.comic-list", 1],
        autoDownload: [0],
        next: ".pnext.next+a[href$=html],.next-btn",
        prev: 1,
        customTitle: () => fun.gt("h1.text-center,.comic-name").replace("漫画 ", ""),
        css: "#left,#right{display:none!important;}",
        category: "hcomic"
    }, {
        name: "免费韩漫看",
        host: ["www.hanmanmianfei.com"],
        reg: /^https?:\/\/www\.hanmanmianfei\.com\/index\.php\/chapter\/\d+/,
        imgs: "#ChapterContent img,.readForm img",
        button: [4],
        insertImg: ["#ChapterContent,.readForm", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][starts-with(@href,'/')]",
        prev: "//a[text()='上一章'][starts-with(@href,'/')]",
        customTitle: () => fun.ge("#ChapterContent") ? fun.gt(".arthor") + " - " + fun.gt(".title") : fun.title("免费观看 "),
        category: "hcomic"
    }, {
        name: "韩漫推荐",
        host: ["www.hanmantop.com"],
        reg: /^https?:\/\/www\.hanmantop\.com\/index\.php\/chapter\/\d+/,
        include: "//div/div[@style]/img[@style]",
        imgs: "//div/div[@style]/img[@style]",
        button: [4],
        insertImg: ["//div[div[@style]/img[@style]]", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][starts-with(@href,'/')]",
        prev: "//a[text()='上一章'][starts-with(@href,'/')]",
        customTitle: () => fun.gt("h1[style]"),
        category: "hcomic"
    }, {
        name: "韩漫推荐M",
        host: ["www.hanmantop.com"],
        reg: /^https?:\/\/www\.hanmantop\.com\/index\.php\/chapter\/\d+/,
        imgs: ".chapterbox img",
        button: [4],
        insertImg: [
            [".chapterbox>*:first-child", 1, ".pic"], 2
        ],
        autoDownload: [0],
        next: "//a[text()='继续阅读下一章节']",
        prev: 1,
        customTitle: () => fun.title("韩漫 "),
        category: "hcomic"
    }, {
        name: "韓漫天堂/51漫画/爱漫画",
        host: ["18jin.top", "51comic.org", "aicomic.org"],
        reg: /^https?:\/\/(18jin\.top|aicomic\.org)\/index\.php\/chapter\/\d+|^https?:\/\/51comic\.org\/chapter\/\d+/,
        imgs: () => fun.ge(".rd-article-wr") ? [...fun.gae(".rd-article-wr img")] : [...fun.gae(".comic-list img:not([src$='empty.png'])")],
        button: [4],
        insertImg: [".rd-article-wr,.comic-list", 1],
        autoDownload: [0],
        next: ".j-rd-next:not([style]):not(.hide),.next-btn",
        prev: ".j-rd-prev,.prev-btn",
        customTitle: () => fun.ge(".rd-article-wr") ? fun.gt(".j-comic-title") + " - " + fun.gt(".comic-title>a").replace(/\d+p/i, "") : shareArr[0].match(/《([^》]+)/)[1] + " - " + fun.gt(".comic-name").replace(/\d+p/i, ""),
        css: ".image-container{display:none!important;}",
        category: "hcomic"
    }, {
        name: "琴瑟漫畫/琴瑟書庫",
        host: ["sixcomic.com", "sixacg.com", "www.sixacg.org", "6acg.top"],
        reg: /^https?:\/\/((www\.)?sixcomic\.com|(www\.)?sixacg\.com|(www\.)?sixacg\.org|6acg\.top)\/chapter\/\d+$/,
        imgs: ".comicpage img:not([data-original*='qssk.top']),#cp_img img:not([data-original*='qssk.top'])",
        button: [4],
        insertImg: [".comicpage,#cp_img", 2],
        autoDownload: [0],
        next: "//a[@href and not(starts-with(@href,'java')) and text()='下一章']",
        prev: "//a[@href and not(starts-with(@href,'java')) and text()='上一章']",
        customTitle: () => fun.title(/免费阅读|在线阅读/, 1),
        category: "hcomic"
    }, {
        name: "特漫网",
        host: ["www.44te.com"],
        reg: /^https?:\/\/www\.44te\.com\/chapter\/\d+$/,
        imgs: ".comicpage img:not([src*='/banner/']),#cp_img img:not([src*='/banner/'])",
        button: [4],
        insertImg: [".comicpage,#cp_img", 2],
        autoDownload: [0],
        next: "//a[@href and not(starts-with(@href,'java')) and text()='下一章']",
        prev: "//a[@href and not(starts-with(@href,'java')) and text()='上一章']",
        customTitle: () => fun.title(/无删减/, 1),
        css: "body>div[style^=background],[id^=ad]{display:none!important;}",
        category: "hcomic"
    }, {
        name: "香香腐宅",
        host: ["boylove.cc", "boylove1.mobi"],
        reg: /^https?:\/\/boylove\d?\.\w+\/home\/book\/capter\/id\/\d+/,
        imgs: "img[data-original]",
        button: [4],
        insertImg: [".reader-cartoon-chapter", 2],
        autoDownload: [0],
        next: "a[data-value=next]",
        prev: "a[data-value=prev]",
        customTitle: () => fun.gt(".title a").trim(),
        category: "hcomic"
    }, {
        name: "一耽女孩",
        host: ["yidan.in", "yidan.one", "yidan.app"],
        reg: /^https?:\/\/yidan\.(in|one|app)\/#\/pages\/read\/read\?no=\d+&id=\d+(&episodesId=\d+)?/,
        delay: 1000,
        init: async () => {
            await fun.waitEle(".read-article img");
            $("uni-view.last-bum").on("click", () => setTimeout(() => location.reload(), 300));
        },
        imgs: ".read-article img",
        button: [4],
        insertImg: [".read-article", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='继续看下一话']");
            if (next) {
                let m = siteUrl.split("&");
                let no = parseInt(m[0].match(/\d+$/)[0], 10);
                let mhid = m[1].match(/\d+/)[0];
                let url = `https://${fun.lh}/#/pages/read/read?no=${no+=1}&id=${mhid}`;
                return url;
            }
            return null;
        },
        prev: 1,
        customTitle: async () => {
            await fun.delay(3000, 0);
            return fun.title(" - 一耽女孩_好看的一耽漫画官网").trim();
        },
        observerTitle: true,
        css: ".page-pagination{display:none!important}",
        category: "hcomic"
    }, {
        name: "91禁漫",
        host: ["www.91jinman.com"],
        reg: /^https?:\/\/www\.91jinman\.com\/\d+\.html/,
        imgs: ".wp-posts-content img",
        button: [4],
        insertImg: [".wp-posts-content", 2],
        autoDownload: [0],
        next: "//a[p[text()='上一篇']]",
        prev: "//a[p[text()='下一篇']]",
        customTitle: () => fun.gt(".article-title"),
        css: ".wp-posts-content{max-height:unset!important}",
        category: "hcomic"
    }, {
        name: "鸟鸟韩漫",
        host: ["nnhanman.org"],
        reg: /^https?:\/\/nnhanman\.\w+\/comic\/[^\/]+\/chapter-\d+\.html/,
        imgs: async () => {
            if (/章$/.test(fun.gt(".BarTit>h1"))) {
                await fun.getNP("img[data-original]", "#k_Pic_nextArr", null, "#action");
                return [...fun.gae("img[data-original]")];
            } else {
                return [...fun.gae("img[data-original]")];
            }
        },
        button: [4],
        insertImg: ["//td[img] | //div[@class='view-imgBox']", 2],
        autoDownload: [0],
        next: "#k_Pic_nextArr",
        prev: 1,
        customTitle: () => fun.gt(".BarTit>h1").replace(" - 第1章", ""),
        category: "hcomic"
    }, {
        name: "肉漫画网",
        host: ["www.roumanhua.com", "m.roumanhua.com"],
        reg: /^https?:\/\/(www|m)\.roumanhua\.com\/(wap)?chapter\/\d+/,
        imgs: "img[data-original]",
        button: [4],
        insertImg: [
            ["img[data-original]", 2, "img[data-original]"], 2
        ],
        autoDownload: [0],
        next: "//a[text()='下一章节'] | //a[@class='s_page2']",
        prev: "//a[text()='上一章节'] | //a[@class='s_page1']",
        customTitle: () => fun.title("|韩国漫画网"),
        category: "hcomic"
    }, {
        name: "漫香阁",
        host: ["xn--wgv69rba1382b.com", "韩漫日漫.com"],
        reg: /^https?:\/\/[^\/]+\/content-[\w-]+\.html/,
        include: "//title[contains(text(),'漫香阁')]",
        imgs: "#contentimg img",
        button: [4],
        insertImg: ["#contentimg", 2],
        customTitle: () => fun.gt(".services-desc"),
        category: "hcomic"
    }, {
        name: "頂點漫畫",
        host: ["www.apexmh.com"],
        reg: /^https?:\/\/www\.apexmh\.com\/comic\/\d+\.html/,
        imgs: () => fun.getImg("#showimg img", fun.gt("//p[contains(text(),'图片数量') or contains(text(),'圖片數量')]").match(/\d+/)[0], 9),
        button: [4],
        insertImg: ["#showimg", 2],
        customTitle: () => fun.gt("h1"),
        category: "hcomic"
    }, {
        name: "亲亲漫画",
        host: ["m.qinqinmanhua.xyz"],
        reg: /^https?:\/\/m\.qinqinmanhua\.xyz\/view\/\d+\.html/,
        imgs: ".showimg img",
        autoDownload: [0],
        next: ".BtnBox>.next[href*=view]",
        prev: ".BtnBox>.prev[href*=view]",
        customTitle: () => document.title.match(/《(.+)》/)[1],
        category: "hcomic"
    }, {
        name: "ok漫画網",
        host: ["www.okcomic.net", "m.okcomic.net"],
        reg: /^https?:\/\/(www|m)\.okcomic\.net\/\w+\/\d+\/\d+\.html/,
        delay: 1000,
        init: async () => {
            await fun.waitEle("//script[contains(text(),'qTcms_S_m_murl_e')]");
            fun.run("document.onkeydown=null");
            fun.remove(".imgBox");
        },
        imgs: () => base64_decode(qTcms_S_m_murl_e).split("$qingtiandy$").map(e => e.replace("////", "//")),
        button: [4],
        insertImg: ["//td[//img[@onclick]]", 2],
        go: 1,
        autoDownload: [0],
        next: "#k_Pic_nextArr",
        prev: "#k_Pic_backArr",
        customTitle: () => qTcms_S_m_name + " - " + qTcms_S_m_playm,
        category: "hcomic"
    }, {
        name: "狮城漫画",
        host: ["hdcomic.com"],
        reg: /^https?:\/\/hdcomic\.com\/chapter\/\d+/,
        init: () => fun.clearAllTimer(),
        imgs: ".comicpage img,#cp_img img",
        button: [4],
        insertImg: [".comiclist,#cp_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        customTitle: () => fun.title(/免费阅读-狮城漫画|在线阅读-狮城漫画/).replace(/\s-\s\(\d+P\)-高清全集/i, ""),
        category: "hcomic"
    }, {
        name: "韩漫连连看",
        host: ["www.hmllk.com"],
        reg: /^https?:\/\/www\.hmllk\.com\/chapter\/\d+/,
        init: () => fun.clearAllTimer(),
        imgs: ".comicpage img,#cp_img img",
        button: [4],
        insertImg: [".comiclist,#cp_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        customTitle: () => fun.title(/免费阅读-连连看.+|免费在线看.+/).replace(/\s-\s\(\d+P\)-高清全集/i, ""),
        category: "hcomic"
    }, {
        name: "顶通漫画",
        host: ["toptoon.shop", "toptoon.buzz", "toptooncn.club", "toptooncn.info", "toptooncn.life", "toptooncn.top", "toptoonapp.com", "toptoon123.xyz", "toptooncn.xyz", "toptoon123.link", "toptoonapp.club"],
        reg: /^https?:\/\/toptoon(\w+)?\.\w+\/\w+\/\d+\.html/,
        imgs: "#txtbox img",
        button: [4],
        insertImg: ["#txtbox", 2],
        autoDownload: [0],
        next: "a.nexturl.on",
        prev: "a.prevurl.on",
        customTitle: () => {
            let arr = fun.gt(".place").split(" > ");
            return arr[2] + " - " + arr[3];
        },
        css: ".ads_plugin,.ad-top-info{display:none!important;}",
        category: "hcomic"
    }, {
        name: "H肉番动漫",
        host: ["www.rhmanhua11.xyz", "www.rhmanhua12.xyz"],
        reg: /^https?:\/\/www\.rhmanhua(\d+)?\.xyz\/artshow-\d+\.html/,
        imgs: () => {
            thumbnailsSrcArray = [...fun.gae(".margin-fix img")].map(e => e.dataset.original ?? e.src);
            return thumbnailsSrcArray.map(e => e.replace(/t(\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [".list-videos", 2],
        go: 1,
        customTitle: () => fun.gt(".headline>h2").replace(/\(\d+P\)/, ""),
        category: "hcomic"
    }, {
        name: "色漫集",
        host: ["semanji.com"],
        reg: /^https?:\/\/semanji\.com\/\w+\/[^\.]+\.html/,
        imgs: ".post-content a",
        button: [4],
        insertImg: [".post-content", 2],
        customTitle: () => fun.title(" - 色漫集"),
        fancybox: {
            v: 3,
            css: false
        },
        category: "hcomic"
    }, {
        name: "155漫画",
        host: ["155comic.com", "155comic.bio", "155comic.cfd", "155comic.buzz", "155comic.autos", "155.lat"],
        reg: /^https?:\/\/155comic\.\w+\/\d+\.html/,
        imgs: "#post-comic img",
        button: [4],
        insertImg: ["#post-comic", 2],
        customTitle: () => fun.gt("#post-data>h1"),
        css: ".contentsad{display:none!important;}",
        category: "hcomic"
    }, {
        name: "18H汉化漫画 介紹頁",
        host: ["manhua.sexbook.top", "18manga.top", "mt91.top", "kk4.top"],
        reg: /^https?:\/\/(manhua\.sexbook\.top|18manga\.top|mt91\.top|kk4\.top)\/cont\.php\?id=/,
        imgs: async () => {
            let max = fun.gt("#td-Act+#td-Series").match(/\d+/)[0];
            let [, imgDir, , ex] = fun.ge(".article-content a").href.match(/^(.+\/)(\d+)(\.\w+)$/);
            return fun.arr(max).map((_, i) => imgDir + (i + 1) + ex);
        },
        button: [4],
        insertImg: [
            [".content", 0, ".article-content>a"], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".article-content>h3").split("｜")[1],
        fancybox: {
            blacklist: 1
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.sidebar,.modown-ad{display:none!important;}.single .content{margin-right:0px!important;}",
        category: "hcomic"
    }, {
        name: "18H汉化漫画 閱讀頁",
        host: ["manhua.sexbook.top", "18manga.top", "mt91.top", "kk4.top"],
        reg: /^https?:\/\/(manhua\.sexbook\.top|18manga\.top|mt91\.top|kk4\.top)\/imgs\.php\?id=/,
        imgs: async () => {
            let next = fun.ge("li.active+li");
            if (next) {
                let last = fun.ge("//a[contains(text(),'最大頁') or contains(text(),'最大页')]");
                let lastDoc = await fun.fetchDoc(last.href);
                let lastFn = fun.gst("decodeBinaryString", lastDoc).match(/decodeBinaryString\('[^;]+/g)[0];
                let html = fun.run(lastFn);
                let tempDoc = fun.doc(html);
                let lastA = [...fun.gae("a", tempDoc)].at(-1);
                let max = lastA.href.match(/(\d+)\.\w+$/)[1];
                let [, imgDir, , ex] = fun.ge("#imgs>a").href.match(/^(.+\/)(\d+)(\.\w+)$/);
                return fun.arr(max).map((_, i) => imgDir + (i + 1) + ex);
            } else {
                return [...fun.gae("#imgs>a")];
            }
        },
        button: [4],
        insertImg: ["#imgs", 2],
        customTitle: () => fun.gt(".article-content>h3"),
        fancybox: {
            blacklist: 1
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.sidebar,.modown-ad{display:none!important;}.single .content{margin-right:0px!important;}",
        category: "hcomic"
    }, {
        name: "hanime1",
        host: ["hanime1.biz", "h202326.xyz"],
        reg: /^https?:\/\/(hanime1\.biz|h202326\.xyz)\/book\/\d+$/,
        init: async () => {
            fun.ge(".blog").scrollIntoView({
                block: "end"
            });
            await fun.delay(1000);
        },
        imgs: async () => {
            await fun.waitEle(".blog_section img[title]:not([src*=cover])");
            thumbnailsSrcArray = [...fun.gae(".blog_section img[title]:not([src*=cover])")].map(e => e.src);
            return thumbnailsSrcArray.map(e => e.replace(/t(\d+\.\w+)$/, "$1"));
        },
        button: [4],
        insertImg: [
            [".m-1>.blog_section", 2], 2
        ],
        go: 1,
        customTitle: () => fun.gt(".blog_section h1,.blog_section h3"),
        css: ".blog_section.max-w-7xl.mx-auto.rounded-sm.p-2.pb-3,.flex.flex-row.flex-wrap.items-center.text-center.justify-center{display:none!important;}",
        category: "hcomic"
    }, {
        name: "JavABC",
        host: ["javabc.club"],
        reg: /^https?:\/\/javabc\.club\/chapter\/\d+$/i,
        include: "#enc_img img",
        init: () => {
            fun.clearAllTimer();
            fun.remove("//div[@class='comicpage']/a[img] | //div[@class='comicpage']/div[script] | //div[@id='cp_img']/a[img] | //div[@id='cp_img']/div[script]");
        },
        imgs: async () => {
            await fun.getNP("#enc_img>div,#enc_img>img", "//a[text()='下一页'][@href]", null, ".fanye,.view-bottom-bar");
            return [...fun.gae("#enc_img img")];
        },
        button: [4],
        insertImg: ["#enc_img", 2],
        customTitle: () => fun.ge(".comic-name") ? fun.gt(".comic-name") : bookInfo.book_name,
        css: "img{opacity:1!important;}",
        category: "hcomic"
    }, {
        name: "桃心漫画",
        host: ["txcomic.com"],
        reg: /^https?:\/\/txcomic\.com\/chapter\/\d+$/i,
        include: "#enc_img img",
        init: () => fun.remove("//div[@class='comicpage']/a[img] | //div[@class='comicpage']/div[script] | //div[@id='cp_img']/a[img] | //div[@id='cp_img']/div[script]"),
        imgs: "#enc_img img",
        button: [4],
        insertImg: ["#enc_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        customTitle: () => fun.ge(".title") ? fun.gt(".title") : bookInfo.book_name + " - " + bookInfo.chapter_name,
        css: "#pubcdnModal{display:none!important;}",
        category: "hcomic"
    }, {
        name: "嘿嘿漫画",
        host: ["www.topcomic.online"],
        reg: /^https?:\/\/www\.topcomic\.online\/chapter\/\d+$/i,
        include: "#enc_img img",
        init: () => fun.clearAllTimer(),
        imgs: "#enc_img img",
        button: [4],
        insertImg: ["#enc_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        customTitle: () => fun.ge(".title") ? fun.gt(".title") : bookInfo.book_name + " - " + bookInfo.chapter_name,
        category: "hcomic"
    }, {
        name: "日本禁漫屋",
        host: ["javcomics.site"],
        reg: /^https?:\/\/javcomics\.site\/chapter\/\d+$/i,
        include: "#enc_img img",
        imgs: async () => {
            await fun.getNP("#enc_img>div,#enc_img>img", "//a[text()='下一页'][@href]", null, ".fanye,.view-bottom-bar");
            return [...fun.gae("#enc_img img")];
        },
        button: [4],
        insertImg: ["#enc_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        css: "img{opacity:1!important;}",
        category: "hcomic"
    }, {
        name: "顶漫漫画",
        host: ["www.viptoon.bond"],
        reg: /^https?:\/\/www\.viptoon\.bond\/chapter\/\d+$/i,
        include: "#enc_img img",
        init: () => fun.clearAllTimer(),
        imgs: "#enc_img img",
        button: [4],
        insertImg: ["#enc_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][@href]",
        prev: "//a[text()='上一章'][@href]",
        customTitle: () => fun.ge(".title") ? fun.gt(".title") : bookInfo.book_name + " - " + bookInfo.chapter_name,
        category: "hcomic"
    }, {
        name: "有色漫画网",
        host: ["yousemanhua.com"],
        reg: /^https?:\/\/yousemanhua\.com\/index\.php\/chapter\/\d+$/i,
        imgs: "img[data-original]:not([data-original*='empty.png'])",
        button: [4],
        insertImg: [".rd-article-wr,.chapter_content", 2],
        autoDownload: [0],
        next: "//a[contains(@class,'j-rd-next')][@_href] | //a[div[span[contains(text(),'下一篇')]]]",
        prev: "//a[contains(@class,'j-rd-prev')][@_href] | //a[div[span[contains(text(),'上一篇')]]]",
        customTitle: async () => {
            if (fun.ge(".read__crumb")) {
                let arr = fun.gt(".read__crumb").split("  ");
                return arr[1] + " - " + arr[2];
            } else {
                let doc = await fun.fetchDoc(fun.ge(".nav_left>a").href);
                return fun.title(" - 有色漫画", 0, doc) + " - " + fun.title(" - 有色漫画");
            }
        },
        category: "hcomic"
    }, {
        name: "污污漫畫",
        host: ["www.55comic.com", "www.comicbox.xyz", "www.wuwucomic.xyz"],
        reg: /^https?:\/\/(www\.55comic\.com|www\.comicbox\.xyz|www\.wuwucomic\.xyz)\/chapter\/\d+$/i,
        include: ".comiclist",
        init: () => fun.remove("//div[div[@class='CarouselView center']]"),
        imgs: async () => {
            let arr = [];
            await fun.aotoScrollEles(".comiclist div[data-src]", (ele) => {
                let canvas = fun.ge("canvas", ele);
                if (canvas) {
                    arr.push(canvas.toDataURL("image/jpeg"));
                    return true;
                }
                return false;
            });
            _unsafeWindow.scrollTo({
                top: 0
            });
            return arr.map(e => fun.dataURLtoBlobURL(e));
        },
        button: [4],
        insertImg: [".comicpage", 0],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.gt(".title"),
        fetch: 1,
        category: "hcomic"
    }, {
        name: "污污漫畫M",
        host: ["www.55comic.com", "www.comicbox.xyz"],
        reg: /^https?:\/\/(www\.55comic\.com|www\.comicbox\.xyz)\/chapter\/\d+$/i,
        include: "#cp_img",
        imgs: async () => {
            let arr = [];
            await fun.aotoScrollEles(".cropped[data-src]", (ele) => {
                let canvas = fun.ge("canvas", ele);
                if (canvas) {
                    arr.push(canvas.toDataURL("image/jpeg"));
                    return true;
                }
                return false;
            });
            _unsafeWindow.scrollTo({
                top: 0
            });
            return arr.map(e => fun.dataURLtoBlobURL(e));
        },
        button: [4],
        insertImg: ["#cp_img", 0],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.title(" - 污污漫畫"),
        fetch: 1,
        category: "hcomic"
    }, {
        name: "污污漫书/55漫書",
        host: ["www.55comics.com", "www.55manshu.com"],
        reg: [
            /^https?:\/\/www\.55comics\.com\/chapter\/\d+\.html$/,
            /^https?:\/\/www\.55manshu\.com\/chapter\/\d+\.html$/
        ],
        imgs: async () => {
            let max = fun.gt("//li[a[text()='下一页»' or text()='下一頁»']]", 2);
            let links = fun.arr(max).map((_, i) => i == 0 ? fun.url : fun.url + "?p=" + (i + 1));
            return fun.getImgA(".scramble-page img", links);
        },
        button: [4],
        insertImg: [
            [".scramble-page", 2, ".scramble-page"], 2
        ],
        insertImgAF: () => {
            let arr = ["//div[div[@class='ads']]", "//div[ul[ul[@class='pagination']]]"];
            fun.remove(arr);
        },
        autoDownload: [0],
        next: "//a[text()='下一话»' or text()='下一話»']",
        prev: "//a[text()='上一话»' or text()='上一話»']",
        customTitle: () => {
            let str = fun.gt(".chapter-left h1");
            let strArr = str.split(">");
            strArr = strArr.map(str => str.trim());
            return strArr[2] + " - " + strArr[3];
        },
        category: "hcomic"
    }, {
        name: "400漫画网",
        host: ["400manhua.com"],
        reg: /^https?:\/\/400manhua\.com\/chapter_\d+\.html$/i,
        include: ".rd-article-wr",
        init: () => fun.clearAllTimer(),
        imgs: ".rd-article-wr img",
        button: [4],
        insertImg: [".rd-article-wr", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge(".j-rd-next[_href$='html']");
            return next ? location.origin + next.getAttribute("_href") : null;
        },
        prev: ".j-rd-prev",
        customTitle: () => fun.gt(".j-comic-title") + " - " + fun.gt(".last-crumb"),
        category: "hcomic"
    }, {
        name: "400漫画网M",
        host: ["400manhua.com"],
        reg: /^https?:\/\/400manhua\.com\/chapter_\d+\.html$/i,
        init: async () => {
            await fun.waitEle(".chapter-end[style]");
            fun.clearAllTimer();
        },
        imgs: ".comic-list img",
        button: [4],
        insertImg: [".comic-list", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge(".next-chapter[_href$='html']");
            return next ? location.origin + next.getAttribute("_href") : null;
        },
        prev: "li.prev",
        customTitle: () => fun.gt("//p[@class='end-txt'][span[contains(text(),'阅读')]]").replace("您已阅读完：", "").replace("漫画", " - "),
        css: ".cnt-4,.comic-list~div[style],.cnt-4~div[style]{display:none!important;}",
        category: "hcomic"
    }, {
        name: "日韩漫画/歪歪漫画",
        host: ["www.diyihm.com", "www.lltoon.com", "www.rrtoon.com", "wwtoon.com", "www.zztoon.com", "www.vvtoon.com"],
        reg: /^https?:\/\/(www\.diyihm\.com|www\.(ll|rr)toon\.com|wwtoon\.com|www\.(zz|vv)toon\.com)\/view\/\d+\/\d+$/i,
        init: async () => {
            await fun.waitEle(".charpetBox img");
            let code = fun.gt("//script[contains(text(),'$(document).ready')]");
            let objStr = code.match(/window\.\w+\s?=\s?([^;]+)/)[1];;
            let json = JSON.parse(objStr);
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: () => siteJson.volume.pages,
        button: [4, "24%", 3],
        insertImg: [".charpetBox", 2],
        autoDownload: [0],
        next: "#loadNextChapter",
        prev: "#loadPrevChapter",
        customTitle: () => siteJson.comic.title + " - " + siteJson.volume.title,
        css: ".letchepter[style*='20px']{display:none!important;}",
        category: "hcomic"
    }, {
        name: "嗨皮漫畫閱讀",
        host: ["m.happymh.com"],
        enable: 0,
        reg: /m\.happymh\.com\/reads/,
        include: "#root",
        exclude: ".no-js",
        xhr: (lp = new URL(siteUrl).pathname) => {
            let [, , mangaCode, id] = lp.split("/");
            let api = `/v2.0/apis/manga/read?code=${mangaCode}&cid=${id}&v=v2.13`;
            return fetch(api, {
                "headers": {
                    "accept": "application/json, text/plain, */*",
                    "x-requested-id": new Date().getTime(),
                    "x-requested-with": "XMLHttpRequest"
                }
            }).then(res => res.json());
        },
        init: async () => {
            let json = await siteData.xhr();
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
            fun.picPreload(json.data.scans.map(e => e.url), json.data.manga_name + " - " + json.data.chapter_name);
            if (await fun.waitEle("#page-area")) {
                new IntersectionObserver((entries, observer) => {
                    if (entries[0].isIntersecting) {
                        observer.unobserve(entries[0].target);
                        let f = ge("footer>article");
                        let item = ge("footer>article>div:nth-child(2)");
                        item.querySelectorAll("a").forEach(a => a.classList.add("MuiButton-containedPrimary"));
                        let p = gx("//a[span[text()='上一话' or text()='上一話'] and contains(@href,'reads')]");
                        if (p) p.classList.add("MuiButton-containedPrimary");
                        let n = gx("//a[span[text()='下一话' or text()='下一話'] and contains(@href,'readMore')]");
                        if (n) {
                            n.classList.remove("MuiButton-containedPrimary");
                            n.firstChild.innerText = "^_^感谢您的阅读~已经没有下一话了哦~";
                        }
                    }
                }).observe(ge('#page-area'));
            }
        },
        imgs: () => siteJson.status == 0 ? siteJson.data.scans.map(e => e.url.replace(/\?q=\d+/, "")) : [],
        referrerpolicy: "origin",
        button: [4],
        insertImg: ["//article[div[contains(@id,'imageLoader')]]", 3],
        autoDownload: [0],
        next: "//a[span[text()='下一話' or text()='下一话']][contains(@href,'reads')]",
        prev: "//a[span[text()='上一話' or text()='上一话']]",
        customTitle: () => siteJson.data.manga_name + " - " + siteJson.data.chapter_name,
        preloadNext: async (nextDoc, obj) => {
            let json = await obj.xhr(new URL(nextLink).pathname);
            json.status == 0 ? fun.picPreload(json.data.scans.map(e => e.url), json.data.manga_name + " - " + json.data.chapter_name, "next") : debug("預讀下一頁失敗");
        },
        css: "footer>article>div{padding: 0.5rem 0 !important}",
        category: "comic"
    }, {
        name: "嗨皮漫畫更新頁，自動點擊載入更多，鏈接新分頁打開",
        host: ["m.happymh.com"],
        reg: /m\.happymh\.com\/latest/,
        enable: 0,
        icon: 0,
        key: 0,
        observerClick: ".more-div-btn",
        openInNewTab: ".manga-cover>a:not([target=_blank])",
        category: "comic"
    }, {
        name: "嗨皮漫畫展開目錄",
        reg: /m\.happymh\.com\/manga\//,
        enable: 0,
        icon: 0,
        key: 0,
        autoClick: ["#expandButton", 1000],
        category: "comic"
    }, {
        name: "嗨皮漫畫，鏈接新分頁打開",
        reg: /m\.happymh\.com\//,
        enable: 0,
        icon: 0,
        key: 0,
        openInNewTab: ".home-banner a:not([target=_blank]),.manga-rank a:not([target=_blank]),.manga-cover a:not([target=_blank])",
        category: "comic"
    }, {
        name: "COLAMANHUA", //方向鍵上一章下一章、反反偵錯，下載需先手動觸發全部載入圖片，圖址如為blob函式會使用到canvas需要繪製過程會有點卡。
        host: ["www.colamanga.com"],
        enable: 1,
        reg: /www\.colamanga\.com\/manga-.+\.html$/,
        init: () => {
            fun.clearAllTimer(1);
            if (autoScrollAllElement === 1) siteData.scrollEle();
        },
        imgs: () => fun.ge(".mh_comicpic img[src^=blob]") ? fun.imgBlobArr(".mh_comicpic img[src^=blob]") : [...fun.gae(".mh_comicpic img[src]")],
        //scrollEle: [".mh_comicpic img", 600],
        scrollEle: () => fun.aotoScrollEles(".mh_comicpic", (ele) => isEle(fun.ge("img[src]", ele)), 10000),
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.title(" COLAMANGA", 1),
        threading: 10,
        css: ".mh_wrap{width:100%!important;min-width:100%!important}",
        category: "comic"
    }, {
        name: "COLAMANHUA 目錄鏈結新分頁開啟",
        reg: /^https?:\/\/www\.colamanga\.com\/manga-\w+\/$/,
        openInNewTab: ".all_data_list a:not([target=_blank])",
        category: "none"
    }, {
        name: "8Comic無限動漫",
        host: ["www.comicabc.com"],
        enable: 1,
        reg: () => /(a|www)\.(comicabc|twobili)\.com\/(ReadComic|online)/.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => {
            fun.remove("//div[@class='text-center'] | //p[@class='text-center']");
            let x = fun.ge("#TheTable").parentNode;
            let e = fun.ge(".navtopbar2").cloneNode(true);
            x.parentNode.insertBefore(e, x.nextSibling);
        },
        imgs: () => {
            let code = fun.gst("ge(e)");
            let [, keyCode] = code.match(/ge\([^.]+\.src\s?=\s?([^;]+)/);
            let arr = [];
            for (let i = 1; i <= ps; i++) {
                let r = "(" + i + ")";
                let src = location.protocol + fun.run(keyCode.replace(/\(pp?\)/g, r));
                arr.push(src);
            }
            return arr;
        },
        button: [4],
        insertImg: ["//td[img[@id='TheImg']]", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("#nextvol:not([style])");
            if (next) return /ReadComic/.test(siteUrl) ? location.origin + rp + ni + "/" + ni + (fz + fz).substr((3 * ni) % fz.length, 10) + ".html" : reurl("ch", ni);
            return null;
        },
        prev: "#prevvol",
        customTitle: doc => fun.gt(".text-view-title", 1, doc) + " - 第" + fun.gt("#lastchapter", 1, doc) + "集",
        preloadNext: () => {
            const callback = (doc, fun) => {
                const code = `
let code = [...document.scripts].find(s => s.innerHTML.includes("ge(e)")).innerHTML;
let [, keyCode] = code.match(/ge\\([^.]+\\.src\\s?=\\s?([^;]+)/);
let arr = [];
for (let i = 1; i <= ps; i++) {
    let r = "(" + i + ")";
    let src = location.protocol + new Function("return " + keyCode.replace(/\\(pp?\\)/g, r))();
    arr.push(src);
}
window.parent.postMessage({
    iframePicArr: arr,
    title: document.querySelector(".text-view-title").innerText + " - 第" + document.querySelector("#lastchapter").innerText + "集"
}, "https://a.twobili.com");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, "#TheImg", 30000, callback);
        },
        css: "td[style^=width],.view_gg_content{display:none!important}",
        category: "comic"
    }, {
        name: "8Comic無限動漫 自動翻頁",
        reg: () => /(a|www)\.(comicabc|twobili)\.com\/(ReadComic|online)/.test(fun.url) && comicInfiniteScrollMode == 1,
        frameCode: `
let code = [...document.scripts].find(s => s.innerHTML.includes("ge(e)")).innerHTML;
let [, keyCode] = code.match(/ge\\([^.]+\\.src\\s?=\\s?([^;]+)/);
let imgSrcArr = [];
for (let i = 1; i <= ps; i++) {
    let r = "(" + i + ")";
    let src = new Function("return " + keyCode.replace(/\\(pp?\\)/g, r))();
    imgSrcArr.push(src);
}
window.newImgs = imgSrcArr;
let next = document.querySelector("#nextvol:not([style])");
if (next && /ReadComic/.test(location.pathname)) {
    window.nextLink = location.origin + rp + ni + "/" + ni + (fz + fz).substr((3 * ni) % fz.length, 10) + ".html";
} else if (next) {
    window.nextLink = reurl("ch", ni);
} else {
    window.nextLink = null;
}
        `,
        init: async () => {
            fun.remove("//div[@class='text-center'] | //p[@class='text-center']");
            fun.script(siteData.frameCode, 0, 1);
            let imgs = fun.createImgArray(frameWindow.newImgs);
            let tE = fun.ge("//td[img[@id='TheImg']]");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            mode: 1,
            waitEle: "#TheImg",
            ele: () => fun.createImgArray(frameWindow.newImgs),
            pos: ["//td[img[@id='TheImg' or contains(@class,'FullPictureLoadImage')]]", 0],
            observer: "//td[img[@id='TheImg' or contains(@class,'FullPictureLoadImage')]]/img",
            next: () => frameWindow.nextLink,
            history: 1,
            title: () => fun.gt(".text-view-title") + ` - 第${frameWindow.ch}集`,
            aF: () => {
                _unsafeWindow.ch = frameWindow.ch;
                fun.lazyload();
            }
        },
        css: "td[style^=width],.view_gg_content{display:none!important}",
        category: "comic autoPager"
    }, {
        name: "8Comic無限動漫 手機版",
        host: ["m.comicabc.com"],
        enable: 1,
        reg: () => /8\.twobili\.com\/comic\/insurance/.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => fun._8ComicM_UI(),
        button: [4],
        imgs: () => {
            let arr = [];
            for (let i = 1; i <= ps; i++) {
                let imgSrc = "https://img" + ss(c, 4, 2) + ".8comic.com/" + ss(c, 6, 1) + "/" + ti + "/" + ss(c, 0, 4) + "/" + nn([i]) + "_" + ss(c, mm([i]) + 10, 3, f) + ".jpg";
                arr.push(imgSrc);
            }
            return arr;
        },
        button: [4],
        insertImg: ["//li[img[@id='TheImg']]", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("#nextvol:not([style])");
            return next ? replaceurl("ch", ni) : null;
        },
        prev: "#prevvol",
        customTitle: (doc = document) => {
            let t = doc.title.split(" ")[0];
            let n = fun.gt("#chapter", 1, doc);
            return t + " - " + n;
        },
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
let arr = [];
for (let i = 1; i <= ps; i++) {
    let imgSrc = "https://img" + ss(c, 4, 2) + ".8comic.com/" + ss(c, 6, 1) + "/" + ti + "/" + ss(c, 0, 4) + "/" + nn([i]) + "_" + ss(c, mm([i]) + 10, 3, f) + ".jpg";
    arr.push(imgSrc);
}
let text = document.createElement("p");
text.id = "FullPictureLoadReturn";
text.innerText = arr.join("|");
document.body.appendChild(text);
                `;
                fun.script(code, 0, 1, doc);
            };
            let nextIframeDoc = await fun.iframeDoc(nextLink, "#TheImg", 30000, callback);
            let arr = fun.gt("#FullPictureLoadReturn", 1, nextIframeDoc).split("|");
            fun.picPreload(arr, obj.customTitle(nextIframeDoc), "next");
        },
        css: ".pinch-zoom-container{height:auto !important;display:contents !important}.view_tmenu+div[style],#pagenum,[onclick^='j'],#pageindex,ico+a+.material-icons.right-logo,.cd-popup{display:none !important}.view_menut a{width:33.3% !important;max-width:33.3% !important}",
        category: "comic"
    }, {
        name: "8Comic無限動漫 手機版 自動翻頁",
        reg: () => /8\.twobili\.com\/comic\/insurance/.test(fun.url) && comicInfiniteScrollMode == 1,
        frameCode: `
let imgSrcArr = [];
for (let i = 1; i <= ps; i++) {
    let imgSrc = "https://img" + ss(c, 4, 2) + ".8comic.com/" + ss(c, 6, 1) + "/" + ti + "/" + ss(c, 0, 4) + "/" + nn([i]) + "_" + ss(c, mm([i]) + 10, 3, f) + ".jpg";
    imgSrcArr.push(imgSrc);
}
window.newImgs = imgSrcArr;
let next = document.querySelector("#nextvol:not([style])");
if (next) {
    window.nextLink = replaceurl("ch", ni);
} else {
    window.nextLink = null;
}
        `,
        init: async () => {
            fun._8ComicM_UI();
            fun.script(siteData.frameCode, 0, 1);
            let imgs = fun.createImgArray(frameWindow.newImgs);
            let tE = fun.ge("//li[img[@id='TheImg']]");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            mode: 1,
            waitEle: "#TheImg",
            ele: () => fun.createImgArray(frameWindow.newImgs),
            pos: ["//li[img[@id='TheImg' or contains(@class,'FullPictureLoadImage')]]", 0],
            observer: "//li[img[@id='TheImg' or contains(@class,'FullPictureLoadImage')]]/img",
            next: () => frameWindow.nextLink,
            history: 1,
            title: () => fun.gt("li:has(>#chapter)").replace("\n", "").replace(/[\d\.]+/, frameWindow.ch),
            aF: (dom) => {
                [...fun.gae("#chapter")].forEach(e => e.innerText = fun.ge("#chapter", dom).innerText);
                [...fun.gae("#nextname")].forEach(e => e.innerText = fun.ge("#nextname", dom).innerText);
                [...fun.gae("#prevname")].forEach(e => e.innerText = fun.ge("#prevname", dom).innerText);
                _unsafeWindow.ch = frameWindow.ch;
                fun.lazyload();
            }
        },
        css: ".pinch-zoom-container{height:auto !important;display:contents !important}.view_tmenu+div[style],#pagenum,[onclick^='j'],#pageindex,ico+a+.material-icons.right-logo,.cd-popup{display:none !important}.view_menut a{width:33.3% !important;max-width:33.3% !important}",
        category: "comic autoPager"
    }, {
        name: "Mangabz",
        host: ["www.mangabz.com", "mangabz.com"],
        enable: 1,
        reg: () => /^https?:\/\/(www\.)?mangabz\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode != 1,
        include: ".container",
        init: () => fun.MangabzUI(),
        imgs: (msg = 1) => {
            if (!mkey) var mkey = "";
            let fetchNum = 0;
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let resArr = fun.arr(MANGABZ_IMAGE_COUNT).map((_, i) => {
                let apiUrl = MANGABZ_CURL + "chapterimage.ashx" + `?cid=${MANGABZ_CID}&page=${(i + 1)}&key=${mkey}&_cid=${MANGABZ_CID}&_mid=${MANGABZ_MID}&_dt=${MANGABZ_VIEWSIGN_DT}&_sign=${MANGABZ_VIEWSIGN}`;
                return fetch(apiUrl).then(res => res.text()).then(res => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}(${fetchNum+=1}/${MANGABZ_IMAGE_COUNT})`, 0);
                    return fun.run(res)[0];
                });
            });
            return Promise.all(resArr).then(arr => {
                if (msg == 1) fun.hideMsg();
                return arr;
            });
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[img[contains(@src,'xiayizhang')]][starts-with(@href,'/m')]",
        prev: "//a[img[contains(@src,'shangyizhang')]][starts-with(@href,'/m')]",
        customTitle: doc => fun.title("_", 2, doc).replace("漫畫", ""),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("MANGABZ_IMAGE_COUNT", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(0), obj.customTitle(nextDoc), "next");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}a[href^='j']{display:none !important}body{overflow:unset!important}",
        category: "comic"
    }, {
        name: "Mangabz 自動翻頁",
        reg: () => /^https?:\/\/(www\.)?mangabz\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode == 1,
        include: ".container",
        getImgs: (dom = document) => {
            let code = fun.gst("MANGABZ_IMAGE_COUNT", dom);
            let imagesNum = code.match(/MANGABZ_IMAGE_COUNT[\s\=]+(\d+)/)[1];
            let chapterURL = code.match(/MANGABZ_CURL[\s\="]+([^"]+)/)[1];
            let cid = code.match(/MANGABZ_CID[\s\=]+(\d+)/)[1];
            let mid = code.match(/MANGABZ_MID[\s\=]+(\d+)/)[1];
            let dt = encodeURIComponent(code.match(/MANGABZ_VIEWSIGN_DT[\s\="]+([^"]+)/)[1]);
            let sing = code.match(/MANGABZ_VIEWSIGN[\s\="]+([^"]+)/)[1];
            let resArr = [];
            for (let i = 1; i <= imagesNum; i++) {
                let api = `${chapterURL}chapterimage.ashx?cid=${cid}&page=${i}&key=&_cid=${cid}&_mid=${mid}&_dt=${dt}&_sign=${sing}`;
                let res = fetch(api).then(res => res.text()).then(text => {
                    let urlArr = fun.run(text);
                    return urlArr[0];
                });
                resArr.push(res);
            }
            return Promise.all(resArr).then(urls => fun.createImgArray(urls));
        },
        init: async () => {
            fun.MangabzUI();
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getImgs().then(async imgs => {
                let tE = fun.ge("#cp_img");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#cp_img", 0],
            observer: "#cp_img>img",
            next: "//a[img[contains(@src,'xiayizhang')]][starts-with(@href,'/m')]",
            re: ".container",
            history: 1,
            title: (dom) => {
                let code = fun.gst("MANGABZ_CTITLE", dom);
                let title = code.match(/MANGABZ_CTITLE[\s\="]+([^"]+)/)[1];
                return title;
            },
            aF: () => fun.lazyload()
        },
        css: "a[href^='j']{display:none !important}body{overflow:unset!important}",
        category: "comic autoPager"
    }, {
        name: "Xmanhua",
        host: ["www.xmanhua.com", "xmanhua.com"],
        enable: 1,
        reg: () => /^https?:\/\/(www\.)?xmanhua\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode != 1,
        include: ".reader-bottom-page-list",
        init: () => fun.XmanhuaUI(),
        imgs: (msg = 1) => {
            if (!mkey) var mkey = "";
            let fetchnUm = 0;
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let resArr = fun.arr(XMANHUA_IMAGE_COUNT).map((_, i) => {
                let apiUrl = location.origin + XMANHUA_CURL + "chapterimage.ashx" + `?cid=${XMANHUA_CID}&page=${(i + 1)}&key=${mkey}&_cid=${XMANHUA_CID}&_mid=${XMANHUA_MID}&_dt=${XMANHUA_VIEWSIGN_DT}&_sign=${XMANHUA_VIEWSIGN}`;
                return fetch(apiUrl).then(res => res.text()).then(res => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}(${fetchnUm+=1}/${XMANHUA_IMAGE_COUNT})`, 0);
                    return fun.run(res)[0];
                });
            });
            return Promise.all(resArr).then(arr => {
                if (msg == 1) fun.hideMsg();
                return arr;
            });
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[img[contains(@src,'reader-bottom-right-2')]][starts-with(@href,'/m')]",
        prev: "//a[img[contains(@src,'reader-bottom-right-1')]][starts-with(@href,'/m')]",
        customTitle: doc => fun.title("_", 2, doc).replace("漫畫", ""),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("XMANHUA_IMAGE_COUNT", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(0), obj.customTitle(nextDoc), "next");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.relative>a{display:none!important}.reader-img-con{padding:64px 0 50px !important;}",
        category: "comic"
    }, {
        name: "Xmanhua 自動翻頁",
        reg: () => /^https?:\/\/(www\.)?xmanhua\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode == 1,
        include: ".reader-bottom-page-list",
        getImgs: (dom = document) => {
            let code = fun.gst("XMANHUA_IMAGE_COUNT", dom);
            let imagesNum = code.match(/XMANHUA_IMAGE_COUNT[\s\=]+(\d+)/)[1];
            let chapterURL = code.match(/XMANHUA_CURL[\s\="]+([^"]+)/)[1];
            let cid = code.match(/XMANHUA_CID[\s\=]+(\d+)/)[1];
            let mid = code.match(/XMANHUA_MID[\s\=]+(\d+)/)[1];
            let dt = encodeURIComponent(code.match(/XMANHUA_VIEWSIGN_DT[\s\="]+([^"]+)/)[1]);
            let sing = code.match(/XMANHUA_VIEWSIGN[\s\="]+([^"]+)/)[1];
            let resArr = [];
            for (let i = 1; i <= imagesNum; i++) {
                let api = `${chapterURL}chapterimage.ashx?cid=${cid}&page=${i}&key=&_cid=${cid}&_mid=${mid}&_dt=${dt}&_sign=${sing}`;
                let res = fetch(api).then(res => res.text()).then(text => {
                    let urlArr = fun.run(text);
                    return urlArr[0];
                });
                resArr.push(res);
            }
            return Promise.all(resArr).then(urls => fun.createImgArray(urls));
        },
        init: async () => {
            fun.XmanhuaUI();
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getImgs().then(async imgs => {
                let tE = fun.ge("#cp_img");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#cp_img", 0],
            observer: "#cp_img>img",
            next: "//a[img[contains(@src,'reader-bottom-right-2')]][starts-with(@href,'/m')]",
            re: ".container",
            history: 1,
            title: (dom) => {
                let code = fun.gst("XMANHUA_CTITLE", dom);
                let title = code.match(/XMANHUA_CTITLE[\s\="]+([^"]+)/)[1];
                return title;
            },
            aF: () => fun.lazyload()
        },
        css: ".relative>a{display:none!important}.reader-img-con{padding:64px 0 50px !important;}",
        category: "comic autoPager"
    }, {
        name: "DM5/極速 分頁模式",
        host: ["www.dm5.com", "m.dm5.com", "www.dm5.cn", "m.dm5.cn", "en.dm5.com", "cnc.dm5.com", "hk.dm5.com", "www.1kkk.com", "m.1kkk.com", "tel.1kkk.com", "en.1kkk.com", "cnc.1kkk.com", "hk.1kkk.com"],
        enable: 1,
        reg: () => /^https?:\/\/(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk)\.(com|cn)\/(m|ch|vol|other)[-_0-9p]+\//.test(fun.url) && comicInfiniteScrollMode != 1,
        include: "#chapterpager",
        imgs: (msg = 1) => {
            if (!mkey) var mkey = "";
            let fetchNum = 0;
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let resArr = fun.arr(DM5_IMAGE_COUNT).map((_, i) => {
                let apiUrl = location.origin + DM5_CURL + "chapterfun.ashx" + `?cid=${DM5_CID}&page=${(i + 1)}&key=${mkey}&language=1>k=6&_cid=${DM5_CID}&_mid=${DM5_MID}&_dt=${DM5_VIEWSIGN_DT}&_sign=${DM5_VIEWSIGN}`;
                return fetch(apiUrl).then(res => res.text()).then(res => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}(${fetchNum+=1}/${DM5_IMAGE_COUNT})`, 0);
                    return fun.run(res)[0];
                });
            });
            return Promise.all(resArr).then(arr => {
                if (msg == 1) fun.hideMsg();
                return arr;
            });
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.title("_", 2, doc),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("DM5_IMAGE_COUNT", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(0), obj.customTitle(nextDoc), "next");
        },
        topButton: true,
        css: "body{overflow:unset!important}",
        category: "comic"
    }, {
        name: "DM5/極速 分頁模式 自動翻頁",
        reg: () => /^https?:\/\/(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk)\.(com|cn)\/(m|ch|vol|other)[-_0-9p]+\//.test(fun.url) && comicInfiniteScrollMode == 1,
        include: "#chapterpager",
        getImgs: (dom = document) => {
            let code = fun.gst("DM5_IMAGE_COUNT", dom);
            let imagesNum = code.match(/DM5_IMAGE_COUNT[\s\=]+(\d+)/)[1];
            let chapterURL = code.match(/DM5_CURL[\s\="]+([^"]+)/)[1];
            let cid = code.match(/DM5_CID[\s\=]+(\d+)/)[1];
            let mid = code.match(/DM5_MID[\s\=]+(\d+)/)[1];
            let dt = encodeURIComponent(code.match(/DM5_VIEWSIGN_DT[\s\="]+([^"]+)/)[1]);
            let sing = code.match(/DM5_VIEWSIGN[\s\="]+([^"]+)/)[1];
            let resArr = [];
            for (let i = 1; i <= imagesNum; i++) {
                let api = `${chapterURL}chapterfun.ashx?cid=${cid}&page=${i}&key=&language=1&gtk=6&_cid=${cid}&_mid=${mid}&_dt=${dt}&_sign=${sing}`;
                let res = fetch(api).then(res => res.text()).then(text => {
                    let urlArr = fun.run(text);
                    return urlArr[0];
                });
                resArr.push(res);
            }
            return Promise.all(resArr).then(srcs => fun.createImgArray(srcs));
        },
        init: async () => {
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getImgs().then(async imgs => {
                let tE = fun.ge("#cp_img");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#cp_img", 0],
            observer: "#cp_img>img",
            next: "//a[text()='下一章']",
            re: ".active.right-arrow,.view-paging",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => fun.gt(".title", 1, dom).replace("首页 ", "")
        },
        css: "body{overflow:unset!important}a[href^='javascript:Show'],.chapterpager{display:none!important;}",
        category: "comic autoPager"
    }, {
        name: "DM5/極速 條漫模式",
        host: ["www.dm5.com", "m.dm5.com", "www.dm5.cn", "m.dm5.cn", "en.dm5.com", "cnc.dm5.com", "hk.dm5.com", "www.1kkk.com", "m.1kkk.com", "tel.1kkk.com", "en.1kkk.com", "cnc.1kkk.com", "hk.1kkk.com"],
        enable: 1,
        reg: () => /^https?:\/\/(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk)\.(com|cn)\/(m|ch|vol|other)[-_0-9]+\//.test(fun.url) && comicInfiniteScrollMode != 1,
        include: ["#barChapter"],
        imgs: "#barChapter>img",
        button: [4],
        insertImg: ["#barChapter", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.title("_", 2, doc),
        preloadNext: (nextDoc, obj) => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextDoc), obj.customTitle(nextDoc), "next"),
        css: "body{overflow:unset!important}",
        category: "comic"
    }, {
        name: "DM5/極速 條漫模式 自動翻頁",
        reg: () => /^https?:\/\/(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk)\.(com|cn)\/(m|ch|vol|other)[-_0-9]+\//.test(fun.url) && comicInfiniteScrollMode == 1,
        include: ["#barChapter"],
        getImgs: (dom = document) => {
            let srcs = [...fun.gae("img.load-src[data-src]", dom)].map(e => e.dataset.src);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#barChapter");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#barChapter", 0],
            observer: "#barChapter>img",
            next: "//a[text()='下一章']",
            re: ".view-paging",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => fun.gt(".title", 1, dom).replace("首页 ", "")
        },
        css: "body{overflow:unset!important}",
        category: "comic autoPager"
    }, {
        name: "YYMANGA",
        enable: 1,
        host: ["www.yymanhua.com", "yymanhua.com"],
        reg: () => /(www\.)?yymanhua\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode != 1,
        include: ".reader-bottom-page-list",
        init: () => fun.XmanhuaUI(),
        imgs: (msg = 1) => {
            if (!mkey) var mkey = "";
            let fetchnUm = 0;
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let resArr = fun.arr(YYMANHUA_IMAGE_COUNT).map((_, i) => {
                let apiUrl = location.origin + YYMANHUA_CURL + "chapterimage.ashx" + `?cid=${YYMANHUA_CID}&page=${(i + 1)}&key=${mkey}&_cid=${YYMANHUA_CID}&_mid=${YYMANHUA_MID}&_dt=${YYMANHUA_VIEWSIGN_DT}&_sign=${YYMANHUA_VIEWSIGN}`;
                return fetch(apiUrl).then(res => res.text()).then(res => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}(${fetchnUm+=1}/${YYMANHUA_IMAGE_COUNT})`, 0);
                    return fun.run(res)[0];
                });
            });
            return Promise.all(resArr).then(arr => {
                if (msg == 1) fun.hideMsg();
                return arr;
            });
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[img[contains(@src,'reader-bottom-right-2')]][starts-with(@href,'/m')]",
        prev: "//a[img[contains(@src,'reader-bottom-right-1')]][starts-with(@href,'/m')]",
        customTitle: doc => fun.title("_", 2, doc).replace("漫畫", ""),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("YYMANHUA_IMAGE_COUNT", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(0), obj.customTitle(nextDoc), "next");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.relative>a{display:none!important}.reader-img-con{padding:64px 0 50px !important;}",
        category: "comic"
    }, {
        name: "YYMANGA 自動翻頁",
        reg: () => /(www\.)?yymanhua\.com\/m\d+/.test(fun.url) && comicInfiniteScrollMode == 1,
        include: ".reader-bottom-page-list",
        getImgs: (dom = document) => {
            let code = fun.gst("YYMANHUA_IMAGE_COUNT", dom);
            let imagesNum = code.match(/YYMANHUA_IMAGE_COUNT[\s\=]+(\d+)/)[1];
            let chapterURL = code.match(/YYMANHUA_CURL[\s\="]+([^"]+)/)[1];
            let cid = code.match(/YYMANHUA_CID[\s\=]+(\d+)/)[1];
            let mid = code.match(/YYMANHUA_MID[\s\=]+(\d+)/)[1];
            let dt = encodeURIComponent(code.match(/YYMANHUA_VIEWSIGN_DT[\s\="]+([^"]+)/)[1]);
            let sing = code.match(/YYMANHUA_VIEWSIGN[\s\="]+([^"]+)/)[1];
            let resArr = [];
            for (let i = 1; i <= imagesNum; i++) {
                let api = `${chapterURL}chapterimage.ashx?cid=${cid}&page=${i}&key=&_cid=${cid}&_mid=${mid}&_dt=${dt}&_sign=${sing}`;
                let res = fetch(api).then(res => res.text()).then(text => {
                    let urlArr = fun.run(text);
                    return urlArr[0];
                });
                resArr.push(res);
            }
            return Promise.all(resArr).then(urls => fun.createImgArray(urls));
        },
        init: async () => {
            fun.XmanhuaUI();
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getImgs().then(async imgs => {
                let tE = fun.ge("#cp_img");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#cp_img", 0],
            observer: "#cp_img>img",
            next: "//a[img[contains(@src,'reader-bottom-right-2')]][starts-with(@href,'/m')]",
            re: ".container",
            history: 1,
            title: (dom) => {
                let code = fun.gst("YYMANHUA_CTITLE", dom);
                let title = code.match(/YYMANHUA_CTITLE[\s\="]+([^"]+)/)[1];
                return title;
            },
            aF: () => fun.lazyload()
        },
        css: ".relative>a{display:none!important}.reader-img-con{padding:64px 0 50px !important;}",
        category: "comic autoPager"
    }, {
        name: "DM5/極速/Mangabz/Xmanhua/yymanhua/漫画人漫本 手機版",
        host: ["www.dm5.com", "m.dm5.com", "www.dm5.cn", "m.dm5.cn", "en.dm5.com", "cnc.dm5.com", "hk.dm5.com", "www.1kkk.com", "m.1kkk.com", "tel.1kkk.com", "en.1kkk.com", "cnc.1kkk.com", "hk.1kkk.com", "www.mangabz.com", "mangabz.com", "www.xmanhua.com", "xmanhua.com", "www.yymanhua.com", "yymanhua.com", "www.manben.com", "www.manhuaren.com"],
        enable: 1,
        reg: () => /(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk|mangabz|xmanhua|yymanhua|manhuaren|manben)\.(com|cn)\/(m|ch|vol|other)?[-_0-9]+\//.test(fun.url) && comicInfiniteScrollMode != 1,
        delay: 300,
        include: "//script[contains(text(),'newImgs')]",
        init: () => {
            if (fun.gae(".view-bottom-bar>li").length == 4) fun.css(".view-bottom-bar>li:nth-child(n+2):nth-child(-n+3){display:none!important}.view-bottom-bar li{width:50%!important}");
        },
        imgs: () => newImgs,
        button: [4],
        insertImg: ["#cp_img,.main_img,#comicContain,.comic-list", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一章'] | //a[img[@alt='下一章']]");
            if (next) return /pushHistory/.test(next.href) ? location.origin + next.href.split("'")[1] : next.href;
            return null;
        },
        prev: "//a[text()='上一章'] | //a[img[@alt='上一章']]",
        customTitle: doc => {
            let host = fun.lh;
            if (/dm5|manhuaren|1kkk|mangabz|xmanhua|yymanhua/.test(host) && !/sixmanhua/.test(host)) {
                return fun.title("_", 2, doc);
            } else if (/sixmanhua/.test(host)) {
                return fun.title("_", 3, doc);
            } else if (/manben/.test(host)) {
                if (fun.ge("#comicTitle")) {
                    return fun.gt("#chapter", 1, doc) + " " + fun.gt(".title-comicHeading", 1, doc);
                } else {
                    return fun.title(" ", 2, doc);
                }
            }
        },
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("newImgs", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "DM5/極速/Mangabz/Xmanhua/yymanhua/漫画人/漫本 手機版 自動翻頁",
        reg: () => /(www|tel|en|cnc|hk|m)?\.?(dm5|1kkk|mangabz|xmanhua|yymanhua|manhuaren|manben)\.(com|cn)\/(m|ch|vol|other)?[-_0-9]+\//.test(fun.url) && comicInfiniteScrollMode == 1,
        delay: 300,
        include: "//script[contains(text(),'newImgs')]",
        getImgs: (dom = document) => {
            let code = fun.gst("newImgs", dom);
            code = code.replace("eval", "");
            let text = fun.run(code);
            let arrText = text.replace(/var newImgs=|;$/g, "");
            let urlArr = fun.run(arrText);
            return fun.createImgArray(urlArr);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#cp_img");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#cp_img", 0],
            observer: "#cp_img>img",
            next: (dom) => {
                let next = fun.ge("//a[text()='下一章'] | //a[img[@alt='下一章']]", dom);
                if (next) return /pushHistory/.test(next.href) ? fun.lo + next.href.split("'")[1] : next.href;
                return null;
            },
            re: ".view-bottom-bar",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => dom.title.replace(/,?_在线漫画.+/, "").replace("漫画", "")
        },
        category: "comic autoPager"
    }, {
        name: "mh234",
        host: ["mh234.top"],
        enable: 0,
        reg: /^https?:\/\/mh234\.top\/m\d+\//,
        include: ".container",
        imgs: (msg = 1) => {
            if (!mkey) var mkey = "";
            let fetchNum = 0;
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let resArr = fun.arr(MH234_IMAGE_COUNT).map((_, i) => {
                let apiUrl = location.origin + MH234_CURL + "chapterimage.ashx" + `?cid=${MH234_CID}&page=${(i + 1)}&key=${mkey}&_cid=${MH234_CID}&_mid=${MH234_MID}&_dt=${MH234_VIEWSIGN_DT}&_sign=${MH234_VIEWSIGN}`;
                return fetch(apiUrl).then(res => res.text()).then(res => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}(${fetchNum+=1}/${MH234_IMAGE_COUNT})`, 0);
                    return fun.run(res)[0];
                });
            });
            return Promise.all(resArr).then(arr => {
                if (msg == 1) fun.hideMsg();
                return arr;
            });
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[img[contains(@src,'xiayizhang')]][starts-with(@href,'/m')]",
        prev: "//a[img[contains(@src,'shangyizhang')]][starts-with(@href,'/m')]",
        customTitle: doc => fun.title("_", 2, doc).replace("漫畫", ""),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("MH234_IMAGE_COUNT", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(0), obj.customTitle(nextDoc), "next");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}a[href^='j']{display:none !important}body{overflow:unset!important}",
        category: "comic"
    }, {
        name: "动漫之家M",
        host: ["m.idmzj.com"],
        enable: 0,
        reg: /m\.i?dmzj\.com\/view\/\d+\/\d+\.html/,
        init: "$('body').unbind('keydown');",
        imgs: () => {
            let code = fun.gst("initData");
            return fun.run(code.match(/page_url.+(\[.+\])/)[1]);
        },
        button: [4, "24%", 3],
        insertImg: ["#commicBox", 2],
        go: 1,
        autoDownload: [0],
        next: ".afterChapter",
        prev: ".beforeChapter",
        customTitle: () => fun.title("-", 1),
        css: "#khdDown,.appTil,#m_r_bottom,#m_r_panelbox,.control_panel.alpha{display:none!important}",
        category: "comic"
    }, {
        name: "漫畫狗",
        host: ["dogemanga.com"],
        enable: 1,
        reg: /dogemanga\.com\/p\/[\w-]+/i,
        init: () => {
            fun.ge(".site-reader").setAttribute("class", "imgBox");
            fun.addUrlHtml(location.origin, ".imgBox", 1, "首頁");
            siteData.next() ? fun.addUrlHtml(siteData.next(), ".imgBox", 1) : null;
        },
        imgs: () => [...fun.gae(".site-reader__image")].map(e => e.dataset.pageImageUrl),
        button: [4, "24%", 1],
        insertImg: [".imgBox", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//select[@data-kind='publication']/option[@selected]/preceding-sibling::option[1]");
            return next ? next.value : null;
        },
        prev: 1,
        customTitle: () => fun.title(" - 漫畫狗"),
        threading: 1,
        css: ".imgBox{height:auto!important}.fixed-bottom{display:none!important}",
        category: "comic"
    }, {
        name: "白绒Yuri",
        host: ["www.ponpomu.com"],
        enable: 1,
        delay: 1000,
        reg: /^https?:\/\/www\.ponpomu\.com\/topic\/\d+\/comic\//,
        imgs: () => fun.ge(".comic-page-container data") ? [...fun.gae(".comic-page-container data")].map(e => e.value) : [...fun.gae(".comic-page-container img")].map(e => e.dataset.srcset),
        autoDownload: [0],
        next: () => {
            let ele = fun.ge("//div[text()='已经到尽头了']");
            if (!ele) {
                let s = siteUrl.split("/");
                s[s.length - 1] = parseInt(s[s.length - 1], 10) + 1;
                return s.join("/");
            }
            return null;
        },
        prev: 1,
        customTitle: () => fun.gt(".comic-info").replace(/\n/, " ").replace("连载:", "-").replace("单行本: ", "").replace("完结: ", ""),
        category: "comic"
    }, {
        name: "明日方舟泰拉记事社",
        host: ["terra-historicus.hypergryph.com"],
        enable: 1,
        reg: /^https?:\/\/terra-historicus\.hypergryph\.com\/comic\/\d+\/episode\/\d+/,
        imgs: () => {
            let max = fun.gt(".HG_COMIC_READER_indicator>div:last-child");
            let fetchNum = 0;
            return fun.arr(max).map((_, i) => {
                return fetch(`/api${fun.lp}/page?pageNum=${(i + 1)}`).then(res => res.json()).then(json => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${max}`, 0);
                    return json.data.url;
                });
            });
        },
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一话']") || fun.ge("//a[text()='下一张']");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: async () => {
            await fun.waitEle(".HG_COMIC_READER_episodeTitle");
            return fun.gt(".HG_COMIC_READER_comicTitle") + " - " + fun.gt(".HG_COMIC_READER_episodeTitle");
        },
        category: "comic"
    }, {
        name: "Manhuagui看漫画M",
        host: ["m.manhuagui.com"],
        enable: 1,
        reg: () => /m\.manhuagui\.com\/comic\/\d+\/\d+.html/.test(fun.url) && comicInfiniteScrollMode != 1,
        json: (doc = document) => {
            let code = fun.gst("x6c", doc).trim().slice(26);
            return JSON.parse(fun.run(code).slice(11, -12));
        },
        init: () => siteJson = siteData.json(),
        imgs: (json = siteJson) => json.images.map(e => `https://i.hamreus.com${e}?e=${json.sl.e}&m=${json.sl.m}`),
        button: [4],
        insertImg: ["#manga", 2],
        go: 1,
        autoDownload: [0],
        next: () => siteJson.nextId == 0 ? null : fun.ge("#mangaTitle a").href + siteJson.nextId + ".html",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.gt("#mangaTitle", 1, doc),
        preloadNext: (nextDoc, obj) => {
            let json = obj.json(nextDoc);
            let arr = obj.imgs(json);
            fun.picPreload(arr, obj.customTitle(nextDoc), "next");
        },
        threading: 3,
        css: ".action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,.clickforceads{display:none !important}",
        category: "comic"
    }, {
        name: "Manhuagui看漫画M 自動翻頁",
        host: ["m.manhuagui.com"],
        reg: () => /m\.manhuagui\.com\/comic\/\d+\/\d+.html/.test(fun.url) && comicInfiniteScrollMode == 1,
        json: (dom = document) => {
            let code = fun.gst("x6c", dom).trim().slice(26);
            let json = JSON.parse(fun.run(code).slice(11, -12));
            return json;
        },
        getImgs: (dom = document) => {
            let json = siteData.json(dom);
            debug("\nManhuagui看漫画M_Json\n", json);
            let srcs = json.images.map(e => `https://i.hamreus.com${e}?e=${json.sl.e}&m=${json.sl.m}`);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#manga");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#manga", 0],
            observer: "#manga>img",
            next: (dom) => {
                let json = siteData.json(dom);
                if (json.nextId == 0) {
                    let e = fun.ge("a[data-action='chapter.next']");
                    e.href = fun.ge("#mangaTitle a").href;
                    e.innerText = "返回目录";
                    return null;
                } else {
                    return fun.ge("#mangaTitle a").href + json.nextId + ".html";
                }
            },
            re: "#mangaTitle",
            history: 1,
            title: (dom) => fun.ge("#mangaTitle>a", dom)?.nextSibling?.data?.trim(),
            aF: (dom) => {
                let json = siteData.json(dom);
                let cUrl = fun.ge("#mangaTitle a").href;
                let ne = fun.ge("a[data-action='chapter.next']");
                ne.href = cUrl + json.nextId + ".html";
                let pe = fun.ge("a[data-action='chapter.prev']");
                pe.href = cUrl + json.prevId + ".html";
                fun.lazyload()
            }
        },
        css: ".action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.manga-page,.clickforceads{display:none !important}",
        category: "comic autoPager"
    }, {
        name: "Manhuagui看漫画M 点击查看下20条记录",
        host: ["m.manhuagui.com"],
        reg: /m\.manhuagui\.com\/(update|list|rank|user)\//,
        icon: 0,
        key: 0,
        observerClick: "#more:not([style*=none])>.more-go",
        openInNewTab: "#detail a:not([target=_blank])",
        category: "comic"
    }, {
        name: "Manhuagui看漫画/COCOMANGA",
        host: ["www.manhuagui.com", "tw.manhuagui.com", "www.mhgui.com", "cocomanga.xyz"],
        enable: 1,
        reg: () => /((www|tw)\.manhuagui\.com)|www\.mhgui\.com\/comic\/\d+\/\d+.html|cocomanga\.xyz\/comic\/\d+\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode != 1,
        init: "$(document).unbind('keydown');",
        imgs: (doc = document) => {
            let code = fun.gst("x6c", doc).slice(26, -1);
            let json = fun.run(fun.run(code).slice(11, -11));
            let domain;
            /manhuagui|mhgui/.test(fun.lh) ? domain = "https://i.hamreus.com" : domain = "https://i1.cocomanga.xyz";
            return json.files.map(e => `${domain+json.path+e}?e=${json.sl.e}&m=${json.sl.m}`);
        },
        button: [4],
        insertImg: ["#tbBox", 2],
        go: 1,
        autoDownload: [0],
        threading: 3,
        next: () => cInfo.nextId == 0 ? null : location.origin + "/comic/" + cInfo.bid + "/" + cInfo.nextId + ".html",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.gt("h1>a", 1, doc) + " - " + fun.gt("h2", 1, doc),
        preloadNext: true,
        css: ".tbCenter{max-width:1400px!important;width:auto!important;height:auto!important}",
        category: "comic"
    }, {
        name: "Manhuagui看漫画/COCOMANGA 自動翻頁",
        host: ["www.manhuagui.com", "tw.manhuagui.com", "www.mhgui.com", "cocomanga.xyz"],
        reg: () => /((www|tw)\.manhuagui\.com)|www\.mhgui\.com\/comic\/\d+\/\d+.html|cocomanga\.xyz\/comic\/\d+\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode == 1,
        json: (dom = document) => {
            let code = fun.gst("x6c", dom).slice(26, -1);
            let json = fun.run(fun.run(code).slice(11, -11));
            return json;
        },
        getImgs: (dom = document) => {
            let json = siteData.json(dom);
            debug("\nManhuagui看漫画_Json\n", json);
            let domain;
            /manhuagui|mhgui/.test(fun.lh) ? domain = "https://i.hamreus.com" : domain = "https://i1.cocomanga.xyz";
            let srcs = json.files.map(e => `${domain+json.path+e}?e=${json.sl.e}&m=${json.sl.m}`);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#tbBox");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
            fun.run("$(document).unbind('keydown');");
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#tbBox", 0],
            observer: "#tbBox>img",
            next: (dom) => {
                let json = siteData.json(dom);
                let n = json.nextId;
                if (n == 0) {
                    fun.ge("#pagination").outerHTML = fun.ge(".main-btn").outerHTML;
                    return null;
                } else {
                    return fun.url.replace(/\d+\.html$/, "") + n + ".html";
                }
            },
            re: ".title h2",
            history: 1,
            title: (dom) => siteData.json(dom).cname,
            aF: () => fun.lazyload()
        },
        css: ".tbCenter{max-width:1400px!important;width:auto!important;height:auto!important}#prev,#pageSelect,#next,.pager>*:not([onclick]){display:none!important;}",
        category: "comic autoPager"
    }, {
        name: "包子漫画 閱讀",
        host: ["cn.baozimh.com", "cn.webmota.com", "tw.baozimh.com", "tw.webmota.com", "www.baozimh.com", "www.webmota.com", "cn.kukuc.co", "tw.kukuc.co", "www.kukuc.co", "tw.czmanga.com", "cn.czmanga.com", "www.czmanga.com", "tw.dzmanga.com", "cn.dzmanga.com", "www.dzmanga.com", "tw.dociy.net", "cn.dociy.net", "www.dociy.net", "tw.twmanga.com", "cn.twmanga.com", "www.twmanga.com"],
        enable: 1,
        reg: () => /\/comic\/chapter\/[^/]+\/\w+\.html/i.test(fun.url) && fun.ge("//title[contains(text(),'包子')]") && comicInfiniteScrollMode != 1,
        init: async () => {
            fun.run("document['onkeydown']=null;");
            await fun.getNP(".comic-contain>div:not(.mobadsq)", "//a[contains(text(),'下一頁') or contains(text(),'下一页')]", null, ".comic-chapter>.next_chapter,.bottom-bar-tool");
        },
        imgs: doc => [...new Set([...fun.gae(".comic-contain amp-img", doc)].map(e => e.dataset.src ?? e.getAttribute("src")))],
        button: [4],
        insertImg: [".comic-contain", 2],
        go: 1,
        autoDownload: [0],
        next: "//div[@class='next_chapter']/a[contains(text(),'下一話') or contains(text(),'下一话')]",
        prev: 1,
        customTitle: doc => fun.title(" - ", 3, doc),
        preloadNext: true,
        css: ".chapter-main.scroll-mode~*:not(.next_chapter):not(.bottom-bar){display:none!important}",
        category: "comic"
    }, {
        name: "包子漫画 閱讀 自動翻頁",
        reg: () => /\/comic\/chapter\/[^/]+\/\w+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        include: ["//title[contains(text(),'包子')]"],
        getImgs: (doc = document) => {
            let urls = [...fun.gae(".comic-contain amp-img", doc)].map(e => e.dataset.src ?? e.getAttribute("src"));
            if (fun.ge(".FullPictureLoadImage")) {
                let currentLastSrc = [...fun.gae(".FullPictureLoadImage")].at(-1).dataset.src;
                let nextFirstNum = parseInt(urls[0].match(/(\d)\.\w+$/)[1], 10);
                if (/\/(50|100|150|200|250|300)\.[a-z]{3,5}$/i.test(currentLastSrc) && nextFirstNum == 7 && nextFirstNum != 1) {
                    urls = urls.slice(4);
                }
            }
            return fun.createImgArray(urls);
        },
        init: async () => {
            fun.run("document['onkeydown']=null;");
            let imgs = siteData.getImgs();
            let tE = fun.ge(".comic-contain");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: [".comic-contain", 0],
            observer: ".comic-contain>img",
            next: (dom) => {
                let next = fun.ge("a#next-chapter", dom);
                return next ? next.pathname : null;
            },
            re: "//div[@class='text']/span[@class='title'] | //div[@class='comic-chapter']/div[@class='next_chapter'] | //div[@class='bottom-bar-tool']",
            aF: () => fun.lazyload(),
            history: 1,
            title: (dom) => {
                let titleText = fun.gt("span.title", 1, dom).replace(/\(\d\/\d+\)/, "");
                return {
                    ok: /\/\d+_\d+\.html$/.test(nextLink),
                    text: titleText
                }
            }
        },
        css: ".chapter-main.scroll-mode~*:not(.next_chapter):not(.bottom-bar){display:none!important}.comic-contain{width: 100%;margin: 0 auto;max-width:970px;",
        category: "comic autoPager"
    }, {
        name: "包子漫画 展開目錄",
        icon: 0,
        key: 0,
        reg: /\/comic\/[-\w]+$/i,
        include: "//title[contains(text(),'包子')]",
        autoClick: ["#button_show_all_chatper", 1000],
        category: "comic"
    }, {
        name: "包子漫画，鏈接新分頁打開",
        icon: 0,
        key: 0,
        reg: /(cn|tw|www)\.(baozimh|webmota|kukuc|czmanga|dzmanga|dociy|twmanga|hcmanga)\.(co|com|net)/,
        openInNewTab: ".comics-card a:not([target=_blank]),.bookshelf-items a:not(.remove-img):not([target=_blank])",
        category: "comic"
    }, {
        name: "Komiic",
        host: ["komiic.com"],
        enable: 1,
        reg: /komiic\.com\/comic\/\d+\/chapter\//,
        init: async () => await fun.waitEle(".v-breadcrumbs"),
        imgs: async (url = siteUrl) => {
            fun.showMsg(displayLanguage.str_05, 0);
            let chapterId = url.match(/chapter\/(\d+)\/images/)[1];
            let body = {
                operationName: "imagesByChapterId",
                variables: {
                    chapterId: `${chapterId}`
                },
                query: "query imagesByChapterId($chapterId: ID!) {\n  imagesByChapterId(chapterId: $chapterId) {\n    id\n    kid\n    height\n    width\n    __typename\n  }\n}\n"
            };
            let json = await fetch("/api/query", {
                "headers": {
                    "content-type": "application/json"
                },
                "body": JSON.stringify(body),
                "method": "POST"
            }).then(res => res.json());
            debug("\nimages JSON\n", json);
            return json.data.imagesByChapterId.map(e => "https://komiic.com/api/image/" + e.kid);
        },
        repeat: 1,
        autoDownload: [0],
        next: async () => {
            let mhId = siteUrl.match(/comic\/(\d+)/)[1];
            let body = {
                operationName: "chapterByComicId",
                variables: {
                    comicId: `${mhId}`
                },
                query: "query chapterByComicId($comicId: ID!) {\n  chaptersByComicId(comicId: $comicId) {\n    id\n    serial\n    type\n    dateCreated\n    dateUpdated\n    size\n    __typename\n  }\n}\n"
            };
            let json = await fetch("/api/query", {
                "headers": {
                    "content-type": "application/json"
                },
                "body": JSON.stringify(body),
                "method": "POST"
            }).then(res => res.json());
            debug("\nchapter JSON\n", json);
            let chapterId = siteUrl.match(/chapter\/(\d+)\/images/)[1];
            let chapters = json.data.chaptersByComicId;
            let nextUrl;
            for (let i = 0; i < chapters.length; i++) {
                if (new RegExp(chapterId).test(chapters[i].id)) {
                    try {
                        let nextId = chapters[parseInt(i, 10) + 1].id;
                        nextUrl = siteUrl.replace(new RegExp(`/${chapterId}/`), `/${nextId}/`).replace(/\?page=\d+/, "");
                    } catch (e) {
                        nextUrl = null;
                    }
                    break;
                }
            }
            return nextUrl;
        },
        observerURL: true,
        prev: 1,
        customTitle: () => {
            let textArr = fun.gt(".v-breadcrumbs").split("\n");
            return textArr[1] + " - " + textArr[2];
        },
        observerTitle: true,
        threading: 2,
        category: "comic"
    }, {
        name: "LINE WEBTOON / 咚漫",
        host: ["www.webtoons.com", "www.dongmanmanhua.cn"],
        enable: 0,
        reg: /www\.(webtoons|dongmanmanhua)\.(com|cn)\/[^&]+&episode/,
        imgs: "._images[data-url]",
        autoDownload: [0],
        next: "//div[@class='episode_cont']//li[a[starts-with(@class,'on')]]/following-sibling::li[1]/a",
        prev: "//div[@class='episode_cont']//li[a[starts-with(@class,'on')]]/preceding-sibling::li[1]/a",
        customTitle: () => fun.title("|", 3).replace(/ - \d+/, "").replace("|", " - "),
        category: "comic"
    }, {
        name: "LINE WEBTOON 目錄聚集所有章節",
        host: ["www.webtoons.com"],
        enable: 0,
        icon: 0,
        key: 0,
        reg: /www\.webtoons\.com\/.+\/list\?title_no=\d+/,
        init: "fun.getNP('._episodeItem',\"//div[@class='paginate']/a[span[@class='on']]/following-sibling::a[1]\",null,'.paginate',0,null,0);",
        category: "comic"
    }, {
        name: "動漫狂",
        host: ["www.cartoonmad.com", "cc.fun8.us"],
        enable: 1,
        reg: () => /^https?:\/\/www\.cartoonmad\.com\/comic\/\d+\.html|^https?:\/\/cc\.fun8\.us\/post\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode != 1,
        exclude: "#info table[align]",
        init: () => fun.cartoonmadUI(),
        imgs: doc => {
            let imgDir = fun.ge("img[onload],img[oncontextmenu]", doc).src.match(/.+\//)[0];
            let max = fun.ge(".onpage", doc).parentNode.lastElementChild.previousElementSibling.innerText;
            fun.remove("//tr[td[a[@class='onpage']]]");
            return fun.arr(max).map((_, i) => imgDir + String((i + 1)).padStart(3, "0") + ".jpg");
        },
        button: [4],
        insertImg: ["//td[a[img[@oncontextmenu]]] | //td[a[img[@oncontextmenu]]]", 2],
        go: 1,
        autoDownload: [0],
        next: "//td[@width='150' and a[img[@src='/image/rad.gif']]]/a | //a[b]",
        prev: "//td[@width='150' and a[img[@src='/image/rad1.gif']]]/a",
        customTitle: async (doc = document) => {
            let src = fun.ge("img[onload],img[oncontextmenu]", doc).src;
            let comicId = new URL(src).pathname.split("/")[3];
            let comicIdData = JSON.parse(localStorage.getItem("comicIdData")) ?? {};
            if (comicIdData[comicId] === null || comicIdData[comicId] === undefined) {
                if (/TW|HK/.test(language)) {
                    fun.showMsg("首次取得漫畫名稱", 0);
                } else if (/zh/.test(language)) {
                    fun.showMsg("首次取得漫画名称", 0);
                } else {
                    fun.showMsg("First time Get ComicName", 0);
                }
                let comicName = await fun.xhrDoc(`https://www.cartoonmad.com/comic/${comicId}.html`, "", PCUA).then(comicDoc => fun.ge("meta[name=Keywords]", comicDoc).content.split(",")[0]);
                comicIdData[comicId] = comicName;
                localStorage.setItem("comicIdData", JSON.stringify(comicIdData));
                return comicName + " - " + doc.title;
            } else {
                let comicName = comicIdData[comicId];
                return comicName + " - " + doc.title;
            }
        },
        preloadNext: true,
        category: "comic"
    }, {
        name: "動漫狂 自動翻頁",
        reg: () => /^https?:\/\/www\.cartoonmad\.com\/comic\/\d+\.html|^https?:\/\/cc\.fun8\.us\/post\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode == 1,
        exclude: "#info table[align]",
        getImgs: (dom = document) => {
            let imgDir = fun.ge("img[onload],img[oncontextmenu]", dom).src.match(/.+\//)[0];
            let max = fun.ge(".onpage", dom).parentNode.lastElementChild.previousElementSibling.innerText;
            let srcs = fun.arr(max).map((_, i) => imgDir + String((i + 1)).padStart(3, "0") + ".jpg");
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.cartoonmadUI();
            let imgs = siteData.getImgs();
            let tE = fun.ge("//td[a[img[@oncontextmenu]]] | //td[a[img[@oncontextmenu]]]");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
            fun.remove("//tr[td[a[@class='onpage']]]");
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["//td[img]", 0],
            observer: "//td[img]/img",
            next: "//td[@width='150' and a[img[@src='/image/rad.gif']]]/a | //a[b]",
            history: 1,
            aF: (dom) => {
                [...fun.gae("//tr[td[@bgcolor='#EAEAEA']]")].forEach(e => e.innerHTML = fun.ge("//tr[td[@bgcolor='#EAEAEA']]", dom).innerHTML);
                fun.remove("//td[div[@id='sidebar-follow']] | //td[ins[@class='adsbygoogle']] | //tr[td[script]] | //select");
                fun.lazyload();
            }
        },
        category: "comic autoPager"
    }, {
        name: "動漫啦",
        host: ["www.dongman.la"],
        enable: 0,
        reg: /^https?:\/\/www\.dongman\.la\/manhua\/chapter\/\d+\/\d+\//,
        imgs: (link = siteUrl, msg = 1, request = 0) => {
            let links = [link.replace("all.html", "") + "all.html"];
            return fun.getImgA(".imgListBox img", links, 0, null, msg, request);
        },
        button: [4],
        insertImg: [".imgListBox", 2],
        autoDownload: [0],
        next: "//a[label[text()='下一章']][contains(@href,'chapter')]",
        prev: "//a[label[text()='上一章']][contains(@href,'chapter')]",
        customTitle: doc => fun.attr("meta[name='description']", "content", doc),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, 0, 1), obj.customTitle(nextDoc), "next"),
        css: ".mdui-container .mdui-col-xs-4:nth-child(2){display:none!important;}.mdui-col-xs-4{width:50%!important}",
        category: "comic"
    }, {
        name: "動漫戲說",
        host: ["comic.acgn.cc"],
        enable: 0,
        reg: /comic\.acgn\.cc\/view/,
        imgs: doc => [...fun.gae(".pic[_src][id]", doc)].map(e => e.getAttribute("_src")),
        button: [4],
        insertImg: ["#pic_list", 2],
        go: 1,
        autoDownload: [0],
        next: ".display_right>a",
        prev: ".display_left>a",
        customTitle: doc => fun.gt(".hotrmtexth1>a", 1, doc),
        preloadNext: true,
        css: ".btn_wrap{display:none!important}",
        category: "comic"
    }, {
        name: "98漫畫網",
        host: ["www.98comic.com"],
        enable: 0,
        reg: /www\.98comic\.com\/comic\/\d+\/\w+\.html$/,
        imgs: () => cInfo.fs.map(e => "https://www.98comic.com/g.php?" + cInfo.cid + "/" + e),
        button: [4],
        insertImg: ["//td[img[@id='manga']]", 2],
        go: 1,
        autoDownload: [0],
        next: () => cInfo.ncid.length >= 2 ? location.origin + cInfo.burl + cInfo.ncid + ".html" : null,
        prev: ".prevC",
        customTitle: () => cInfo.btitle + " - " + cInfo.ctitle,
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("cInfo", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(), "next");
        },
        css: ".bd_960_90{display:none!important}",
        category: "comic"
    }, {
        name: "国漫吧",
        host: ["www.guoman8.cc", "m.guoman8.cc"],
        enable: 1,
        reg: () => /(www|m)\.guoman8\.cc\/\d+\/\d+\.html$/.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => setTimeout(() => fun.run("$(document).off();"), 5000),
        imgs: () => cInfo.fs.map(e => /^http/.test(e) ? e : location.protocol + "//" + pageConfig.host.auto[0] + e),
        button: [4],
        insertImg: ["//td[img[@id='manga']]", 2],
        go: 1,
        autoDownload: [0],
        next: "a.nextC:not([href^=java])",
        prev: ".prevC",
        customTitle: () => cInfo.btitle + " - " + cInfo.ctitle,
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("cInfo", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(), "next");
        },
        css: ".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.bd_960_90,body>section,#action~*:not(#pageNo),footer~*{display:none!important}",
        category: "comic"
    }, {
        name: "国漫吧 自動翻頁",
        reg: () => /(www|m)\.guoman8\.cc\/\d+\/\d+\.html$/.test(fun.url) && comicInfiniteScrollMode == 1,
        json: (dom = document) => {
            let code = fun.gst("eval", dom);
            let codeText = code.match(/eval(\(.+\)\))/)[0].slice(4);
            let objText = fun.run(codeText);
            objText = objText.replace(/var\scInfo\s?=|;/g, "");
            let json = fun.run(objText);
            return json;
        },
        getImgs: (dom = document) => {
            let json = siteData.json(dom);
            debug("\n国漫吧_Json\n", json);
            let srcs = json.fs.map(e => /^http/.test(e) ? e : "//" + pageConfig.host.auto[0] + e);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("//td[img[@id='manga']]");
            tE.innerHTML = "";
            tE.append(...imgs);
            fun.hideMsg();
            await fun.lazyload();
            setTimeout(() => fun.run("$(document).off();"), 5000);
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["//td[img]", 0],
            observer: "//td[img]/img",
            next: "a.nextC:not([href^=java])",
            history: 1,
            title: (dom) => siteData.json(dom).ctitle,
            aF: () => fun.lazyload()
        },
        css: ".action-list li{width:50%!important}#action>ul>li:nth-child(n+2):nth-child(-n+3),.bd_960_90,body>section,#action~*:not(#pageNo),footer~*{display:none!important}",
        category: "comic"
    }, {
        name: "亲亲漫画",
        host: ["www.acgwd.com", "m.acgwd.com"],
        enable: 0,
        reg: /^https?:\/\/(www|m)\.acgwd\.com\/manhua\/\d+\/\d+\.html/,
        init: () => {
            fun.clearAllTimer(3);
            let div = document.createElement("div");
            div.id = "imgBox";
            let x = fun.ge("#images");
            x.parentNode.insertBefore(div, x.nextSibling);
        },
        imgs: () => chapterImages.map(e => SinConf.resHost[0].domain + "/" + chapterPath + e),
        button: [4],
        insertImg: ["#imgBox", 2],
        autoDownload: [0],
        next: () => nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null,
        prev: "//a[contains(text(),'上一章')]",
        customTitle: doc => {
            let code = fun.gst("jmzz20191018", doc);
            let arr = code.match(/jmzz20191018\(([^\)]+)\)/)[1].replaceAll('"', "").split(",");
            return arr[3] + " - " + arr[1];
        },
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            jmzz20191018();
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
            _0x5097 = null;
        },
        css: "#images,.img_land_prev,.img_land_next,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*,.chapter-view~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}#action li{width:50%!important}",
        category: "comic"
    }, {
        name: "古风漫画网",
        host: ["www.gufengmh.com", "m.gufengmh.com", "www.gufengmh9.com", "m.gufengmh9.com"],
        enable: 1,
        reg: () => /^https?:\/\/(www|m)\.gufengmh\d?\.com\/manhua\/\w+\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => {
            fun.run("$(document).off();$('#images').off();");
            fun.remove("#skin");
            fun.createImgBox("#images", 2);
        },
        imgs: () => chapterImages.map(e => SinConf.resHost[0].domain + "/" + chapterPath + e),
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "#images"], 2
        ],
        autoDownload: [0],
        next: () => nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null,
        prev: "//a[contains(text(),'上一章')]",
        customTitle: doc => {
            if (/^https?:\/\/www/.test(siteUrl)) {
                let arr = fun.gt(".title", 1, doc).split(" / ");
                return arr[0] + " - " + arr[1];
            } else {
                let code = fun.gst("SinMH.initChapter", doc);
                let arr = code.match(/SinMH.initChapter\(([^\)]+)\)/)[1].replaceAll('"', "").split(",");
                return arr[3] + " - " + arr[1];
            }
        },
        preloadNext: async (nextDoc, obj) => {
            let title;
            /^https?:\/\/www/.test(siteUrl) ? title = nextDoc.title.split("在线")[0] : title = obj.customTitle(nextDoc);
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), title, "next");
        },
        css: ".img_land_prev,.img_land_next,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*,.chapter-view~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}#action li{width:50%!important}",
        category: "comic"
    }, {
        name: "古风漫画网 自動翻頁",
        reg: () => /^https?:\/\/(www|m)\.gufengmh\d?\.com\/manhua\/\w+\/\d+\.html/.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: (dom = document) => {
            let code = fun.gst("chapterImages", dom);
            let imagesArrText = code.match(/chapterImages[\s=]+([^;]+)/)[1];
            let cImages = fun.run(imagesArrText);
            let cPath = code.match(/chapterPath[\s="]+([^"]+)/)[1];
            let domain = code.match(/pageImage[\s="]+(https?:\/\/\w+\.\w+\.\w+\/)/)[1];
            let srcs = cImages.map(e => domain + cPath + e);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.run("$(document).off();$('#images').off();");
            fun.remove("#skin");
            fun.createImgBox("#images", 2);
            fun.remove("#images");
            let imgs = siteData.getImgs();
            let tE = fun.ge("#FullPictureLoadMainImgBox");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#FullPictureLoadMainImgBox", 0],
            observer: "#FullPictureLoadMainImgBox>img",
            next: (dom) => {
                let code = fun.gst("nextChapterData", dom);
                let nextText = code.match(/nextChapterData[\s=]+([^;]+)/)[1];
                let cUrlText = code.match(/comicUrl[\s="]+([^"]+)/)[1];
                let nextrData = JSON.parse(nextText);
                _unsafeWindow.nextChapterData.id = nextrData?.id;
                return nextrData?.id && nextrData?.id > 0 ? cUrlText + nextrData.id + ".html" : null;
            },
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => {
                if (/^https?:\/\/www/.test(siteUrl)) {
                    return fun.gt(".title>h1>a", 1, dom) + " - " + fun.gt(".title>h2", 1, dom);
                } else {
                    let code = fun.gst("SinMH.initChapter", dom);
                    let arr = code.match(/SinMH.initChapter\(([^\)]+)\)/)[1].replaceAll('"', "").split(",");
                    return arr[1];
                }
            }
        },
        css: ".img_land_prev,.img_land_next,#action li:nth-child(2),#action li:nth-child(3),.control_bottom~*,.chapter-view~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),.img_info{display:none!important}#action li{width:50%!important}",
        category: "comic autoPager"
    }, {
        name: "漫画456",
        host: ["www.manhua456.com"],
        enable: 0,
        reg: /www\.manhua456\.com\/manhua\/\w+\/\d+\.html/,
        delay: 1000,
        init: "setTimeout(()=>{$(document).unbind('keyup');$(document).unbind('keydown')},4000)",
        imgs: async () => {
            await fun.waitEle("//script[contains(text(),'chapterImages')]");
            let host = SinConf.resHost1 ?? SinConf.resHost[0].domain;
            return chapterImages.map(e => /^http/.test(e) ? e : host + "/" + chapterPath + e);
        },
        button: [4],
        insertImg: ["#images", 2],
        next: () => {
            if (nextChapterData.id && nextChapterData.id > 0) {
                let url = new URL(comicUrl + nextChapterData.id + ".html");
                return url.protocol != location.protocol ? url.href.replace(url.protocol, location.protocol) : url;
            }
            return null;
        },
        prev: "//a[text()='上一章']",
        customTitle: () => fun.title(" - ", 3),
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
let host = SinConf.resHost1 ?? SinConf.resHost[0].domain;
window.parent.postMessage({
    iframePicArr: chapterImages.map(e => /^http/.test(e) ? e : host + "/" + chapterPath + e),
    title: document.title
}, "https://www.manhua456.com");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, "//script[contains(text(),'chapterImages')]", 30000, callback);
        },
        css: ".img_land_prev,.img_land_next{display:none!important}",
        category: "comic"
    }, {
        name: "漫画456M m.manhua456.com",
        host: ["m.manhua456.com"],
        enable: 0,
        reg: /m\.manhua456\.com\/manhua\/\w+\/\d+\.html/,
        delay: 300,
        init: async () => {
            await fun.waitEle("//script[contains(text(),'chapterImages')]");
            fun.run("$('#images').unbind('click');");
        },
        imgs: () => chapterImages.map(e => /^http/.test(e) ? e : SinConf.resHost[0].domain + "/" + chapterPath + e),
        button: [4],
        insertImg: ["#images", 2],
        next: () => {
            if (nextChapterData.id && nextChapterData.id > 0) {
                let url = new URL(comicUrl + nextChapterData.id + ".html");
                return url.protocol != location.protocol ? url.href.replace(url.protocol, location.protocol) : url;
            }
            return null;
        },
        prev: "//a[text()='上一章']",
        customTitle: () => {
            let s = pagtitle.split(" - ");
            return s[1] + " - " + s[0];
        },
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
window.parent.postMessage({
    iframePicArr: chapterImages.map(e => /^http/.test(e) ? e : SinConf.resHost1 + "/" + chapterPath + e),
    title: document.title
}, "https://m.manhua456.com");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, "//script[contains(text(),'chapterImages')]", 30000, callback);
        },
        css: ".img_land_prev,.img_land_next{display:none!important}",
        category: "comic"
    }, {
        name: "漫画1234",
        host: ["www.gmh1234.com", "m.gmh1234.com"],
        enable: 0,
        reg: /(www|m)\.\wmh1234\.com\/comic\/\d+\/\d+\.html/i,
        init: async () => {
            await fun.waitVar("chapterImages", 600);
            fun.run("$(document).unbind('keydown');$(document).unbind('keyup');$('#images').unbind('click');");
        },
        imgs: () => {
            return chapterImages.map(e => {
                if (/^http/.test(e)) {
                    return e;
                } else {
                    return SinConf.resHost[0].domain + "/" + chapterPath + e;
                }
            });
        },
        button: [4],
        insertImg: ["#images", 2],
        insertImgAF: () => {
            if (fun.lh == "m.gmh1234.com") fun.run("$('#images').off()");
            if (fun.lh == "www.gmh1234.com" && siteData.next()) fun.addUrlHtml(siteData.next(), "#images", 1);
        },
        autoDownload: [0],
        next: () => nextChapterData.id > 0 ? nextChapterData.url : null,
        prev: 1,
        customTitle: (doc = document) => {
            if (fun.lh == "m.gmh1234.com") {
                let s = fun.gst("initChapter", doc).match(/SinTheme\.initChapter\(([^\)]+)\);/)[1].replaceAll('"', "").split(",");
                return s[3] + " - " + s[1];
            } else {
                let data = JSON.parse(localStorage.history)[0];
                return data.comic_name + " - " + data.read_chapter;
            }
        },
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        css: ".globalPadding,.img_info,#imgLoading,#loading{display:none!important;}.action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none !important}",
        category: "comic"
    }, {
        name: "92漫画",
        host: ["www.92mh.com"],
        enable: 0,
        reg: /^https?:\/\/www\.92mh\.com\/manhua\/\d+\/\d+\.html/i,
        init: "$(document).unbind('keydown');$(document).unbind('keyup');$('#images').unbind('click');",
        imgs: () => chapterImages.map(e => /^http/.test(e) ? e : SinConf.resHost[0].domain + "/" + e),
        button: [4],
        insertImg: ["#images", 2],
        autoDownload: [0],
        next: () => nextChapterData.id > 0 ? nextChapterData.url : null,
        prev: 1,
        customTitle: () => {
            let data = JSON.parse(localStorage.history)[0];
            return data.comic_name + " - " + data.read_chapter;
        },
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), nextDoc.title, "next");
        },
        category: "comic"
    }, {
        name: "92漫画M",
        host: ["m.92mh.com"],
        enable: 0,
        reg: /^https?:\/\/m\.92mh\.com\/manhua\/\d+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = fun.gt(".image-content p", 1, doc).match(/\/(\d+)/)[1];
            return fun.getImg("#manga-image", max, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一章'][contains(@href,'html')]");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: doc => fun.title("在线", 1, doc),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: ".action-list li{width:50% !important}div[style*='text-align: left;'],.UnderPage~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),.action-list>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}body{padding:0!important}",
        category: "comic"
    }, {
        name: "90漫画",
        host: ["www.90mh.com", "www.90mh.org"],
        enable: 0,
        reg: /www\.90mh\.(com|org)\/manhua\/\w+\/\d+\.html/i,
        imgs: () => chapterImages.map(e => SinConf.resHost[0].domain + "/" + chapterPath + e),
        button: [4],
        insertImg: ["#images", 2],
        autoDownload: [0],
        next: () => nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null,
        prev: ".prevC",
        customTitle: doc => fun.title(" - ", 3, doc),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "90漫画M",
        host: ["wap.90mh.com", "m.90mh.org"],
        enable: 0,
        reg: /(wap|m)\.90mh\.(com|org)\/manhua\/\w+\/\d+\.html/i,
        init: () => siteData.next() ? fun.addUrlHtml(siteData.next(), "#chapter-image", 1) : null,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => fun.getImg("#chapter-image img", fun.gt("#k_total", 1, doc), 5, null, 20, url, msg, request),
        button: [4],
        insertImg: ["#chapter-image", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一章'][contains(@href,'html')]");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: doc => fun.title("在线", 1, doc),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: ".a-90mh{display:none!important}",
        category: "comic"
    }, {
        name: "优酷漫画",
        host: ["www.ykmh.com"],
        enable: 0,
        reg: /www\.ykmh\.com\/manhua\/\w+\/\d+\.html/i,
        init: "$(document).unbind('keydown');$(document).unbind('keyup');",
        imgs: () => chapterImages.map(e => SinConf.resHost[0].domain + e),
        button: [4],
        insertImg: ["#images", 2],
        autoDownload: [0],
        next: ".next>a",
        prev: ".pre>a",
        customTitle: doc => fun.title(" - ", 3, doc),
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        css: ".img_land_prev,.img_land_next{display:none!important}",
        category: "comic"
    }, {
        name: "优酷漫画M",
        host: ["h5.ykmh.com"],
        enable: 0,
        reg: /h5\.ykmh\.com\/manhua\/\w+\/\d+\.html/i,
        init: "$('#images').unbind('click');",
        imgs: () => chapterImages.map(e => SinConf.resHost[0].domain + e),
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: () => nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null,
        prev: "//a[text()='上一章']",
        customTitle: () => {
            let s = pagtitle.split(" - ");
            return s[1] + " - " + s[0];
        },
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), nextDoc.title, "next");
        },
        css: ".letchepter>div,.letchepter>section,#FullPictureLoad~*{display:none!important}",
        category: "comic"
    }, {
        name: "最漫画M / 拼拼漫画M",
        host: ["m.zuimh.com", "m.pinmh.com"],
        enable: 0,
        reg: /(m\.zuimh\.com|m.pinmh.com)\/manhua\/\w+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = fun.gt(".image-content p", 1, doc).match(/\/(\d+)/)[1];
            return fun.getImg("#image", max, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章'][contains(@href,'html')] | //a[img[contains(@src,'icon_xz.png')]][contains(@href,'html')]",
        prev: "//a[text()='上一章'][contains(@href,'html')] | //a[img[contains(@src,'icon_sz.png')]][contains(@href,'html')]",
        customTitle: doc => fun.title("在线", 1, doc),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: "body{padding:0!important}div[style*='text-align']:not(#images),.UnderPage~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]){display:none!important}",
        category: "comic"
    }, {
        name: "零点漫画M",
        host: ["m.0dmh.com"],
        enable: 0,
        reg: /(m\.0dmh\.com)\/manhua\/\w+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = Math.ceil(fun.gt("#images p", 1, doc).match(/\/(\d+)/)[1] / 3);
            return fun.getImg("#images img", max, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章'][contains(@href,'html')]",
        prev: "//a[text()='上一章'][contains(@href,'html')]",
        customTitle: doc => fun.title("-零点漫画", 0, doc).trim(),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: ".action-list li{width:50% !important}div[style*='text-align']:not(#images),.action-list>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}",
        category: "comic"
    }, {
        name: "漫画连M / 果果漫画M",
        host: ["m.100mhl.com", "m.guoguomh.com"],
        enable: 0,
        reg: /(m\.100mhl\.com|m\.guoguomh\.com)\/manhua\/\w+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let num = fun.gt("#images p", 1, doc).match(/\/(\d+)/)[1];
            let max = Math.ceil(num / 5);
            return fun.lh == "m.100mhl.com" ? fun.getImg("#images img", max, 5, null, 20, url, msg, request) : fun.getImg("#images img", num, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一章'][contains(@href,'html')]");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: () => {
            let comic_name;
            fun.lh == "m.100mhl.com" ? comic_name = document.title.split("漫画")[0] : comic_name = fun.attr("meta[name='keywords']", "content").split(" ")[0];
            return comic_name + " - " + fun.gt(".BarTit").trim();
        },
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), nextDoc.title, "next"),
        css: "#addMoney,#images~div[style*=blur],div[style*='text-align: left;']{display:none!important}",
        category: "comic"
    }, {
        name: "77动漫M",
        host: ["m.77dmh.com"],
        enable: 0,
        reg: /m\.77dmh\.com\/manhua\/\w+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let num = fun.gt("#images p", 1, doc).match(/\/(\d+)/)[1];
            let max = Math.ceil(num / 3);
            return fun.getImg("#images img", max, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[text()='下一章'][contains(@href,'html')]");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: () => {
            let comic_name;
            fun.lh == "m.100mhl.com" ? comic_name = document.title.split("漫画")[0] : comic_name = fun.attr("meta[name='keywords']", "content").split(" ")[0];
            return comic_name + " - " + fun.gt(".BarTit").trim();
        },
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), nextDoc.title, "next"),
        css: "#addMoney,#images~div[style*=blur],div[style*='text-align: left;']{display:none!important}",
        category: "comic"
    }, {
        name: "爱米推漫画M/下拉式漫画M/冰氪漫画M/狗狗漫画M/悠闲漫画M",
        host: ["m.imitui.com", "m.xlsmh.com", "m.icekr.com", "m.gougoumh.com", "m.yxtun.com"],
        enable: 0,
        reg: /(m\.imitui\.com|m\.xlsmh\.com|m\.icekr\.com|m\.gougoumh\.com|m\.yxtun\.com)\/manhua\/\w+\/\d+\.html/i,
        imgs: doc => {
            let imgs = fun.getImgSrcArr("#images img:not([src*=loading]),#scroll-image img", doc);
            fun.remove("#scroll-image");
            return imgs;
        },
        button: [4],
        insertImg: ["#images", 2],
        go: 1,
        autoDownload: [0],
        next: () => {
            try {
                return nextChapterData.id > 0 ? nextChapterData.url : null;
            } catch (e) {
                let next = fun.ge("//a[text()='下一章 > '][contains(@href,'html')]");
                return next ? next.href : null;
            }
        },
        prev: 1,
        customTitle: doc => /xlsmh|gougoumh|yxtun/.test(fun.lh) ? fun.gt("#panel-title span,.title3 span", 1, doc).replace(">", " - ") : fun.title("在线", 1, doc),
        preloadNext: async (nextDoc, obj) => fun.picPreload(obj.imgs(nextDoc), obj.customTitle(nextDoc), "next"),
        css: "body{padding:0!important}.UnderPage~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),.bottom~*:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox]),div[style*='text-align: left;']{display:none!important}",
        category: "comic"
    }, {
        name: "前未漫画/最漫画/爱米推漫画/下拉式漫画/漫画连/拼拼漫画/零点漫画/雪儿漫画/狗狗漫画/悠闲漫画/漫画看/果果漫画",
        host: ["www.qianmh.com", "www.zuimh.com", "www.imitui.com", "imitui.com", "www.xlsmh.com", "www.100mhl.com", "www.pinmh.com", "www.0dmh.com", "www.xuermh.com", "www.gougoumh.com", "www.yxtun.com", "www.bukamh.com", "www.mhkan.com", "www.guoguomh.com"],
        enable: 0,
        reg: /www\.(qianmh|zuimh|imitui|xlsmh|100mhl|pinmh|0dmh|xuermh|gougoumh|yxtun|mhkan|guoguomh|77dmh)\.com\/manhua\/\w+\/\d+\.html/i,
        init: "try{$(document).unbind('keydown');$(document).unbind('keyup')}catch(e){}fun.remove(\"//div[@class='main'][h3]\");",
        imgs: () => chapterImages,
        button: [4],
        insertImg: [
            ["#images,#imagesOld", 2, "#images,#imagesOld"], 2
        ],
        go: 1,
        autoDownload: [0],
        next: () => {
            let next = fun.ge(".next>a,a.next,a.nextC");
            if (next) {
                if (/SinTheme\.nextChapter/.test(next.href)) {
                    return nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null;
                } else {
                    return next.href;
                }
            }
            return null;
        },
        prev: ".pre>a,a.prev,a.prevC",
        autoClick: "#chapter-pagination:not(.active),#mode_pagination",
        customTitle: () => {
            let host = fun.lh;
            if (/pinmh|guoguomh/.test(host)) {
                return fun.gt(".head_title").replace("-", " -");
            } else if (/qianmh|xlsmh|100mhl|0dmh|xuermh|gougoumh|77dmh/.test(host)) {
                //return fun.gt("h1").trim();
                let data = JSON.parse(localStorage.history)[0];
                return data.comic_name + " - " + data.read_chapter
            } else if (/zuimh|imitui|dmhua|yxtun|mhkan/.test(host)) {
                return fun.gt(".title h1") + " - " + fun.gt(".title h2");
            }
        },
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), nextDoc.title, "next");
        },
        css: "#qTcms_picID{display:none!important}",
        category: "comic"
    }, {
        name: "雪儿漫画M",
        host: ["m.xuermh.com"],
        enable: 0,
        reg: /m\.xuermh\.com\/manhua\/\w+\/\d+\.html/i,
        init: async () => {
            let a = fun.ge(".erPag a");
            let img = fun.ge(".erPag a img:last-child");
            a.outerHTML = img.outerHTML;
            await fun.getNP(".erPag mip-link img:not([style*=position])", "//mip-link[text()='下一页'][contains(@href,'-')] | //a[text()='下一页'][contains(@href,'-')]", null, "#action", 0, null, 0);
        },
        imgs: () => [...fun.gae(".erPag mip-link img:not([style*=position])")],
        button: [4],
        insertImg: [".erPag", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => fun.gt("h1").replace(">", " - ").trim(),
        css: "div[style*='text-align: left;'],#action li:nth-child(2),#action li:nth-child(3),span.right{display:none!important}#action li{width:50%!important}",
        category: "comic"
    }, {
        name: "来漫画",
        host: ["www.laimanhua8.com"],
        enable: 1,
        reg: () => /www\.laimanhua\d?\.(net|com)\/kanmanhua\/\w+\/\d+\.html/i.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => fun.clearAllTimer(),
        imgs: () => base64_decode(picTree).split("$qingtiandy$").map(e => getpicdamin() + e),
        button: [4],
        insertImg: ["#pic-list", 2],
        autoDownload: [0],
        next: () => nextUrlid == "" ? null : fun.ge("#cartoon_url").href + nextUrlid + ".html",
        prev: ".btn-prev",
        customTitle: doc => fun.title(",", 1, doc).replace("漫画", ""),
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("picTree", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}#pre-loading,.img_info{display:none!important}",
        category: "comic"
    }, {
        name: "来漫画 自動翻頁",
        host: ["www.laimanhua8.com"],
        reg: () => /www\.laimanhua\d?\.(net|com)\/kanmanhua\/\w+\/\d+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: (dom = document) => {
            let code = fun.gst("picTree", dom);
            let base64Text = code.match(/picTree[\s\=]+([^;]+)/)[1].replaceAll('"', "").replaceAll("'", "");
            let srcs = base64_decode(base64Text).split("$qingtiandy$").map(e => getpicdamin() + e);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.clearAllTimer();
            let imgs = siteData.getImgs();
            let tE = fun.ge("#pic-list");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
            fun.addMutationObserver(() => fun.remove("#pic-list img[alt],.img_info"));
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#pic-list", 0],
            observer: "#pic-list>img",
            next: (dom) => {
                let code = fun.gst("nextUrlid", dom);
                let comicURL = fun.ge("#position a").href;
                let cidText = code.match(/nextUrlid[\s\=]+([^,;]+)/)[1];
                if (/\d+/.test(cidText)) {
                    let cid = cidText.match(/\d+/)[0];
                    return comicURL + cid + ".html";
                } else {
                    return null;
                }
            },
            title: (dom) => fun.gt("#position", 1, dom).replaceAll("\n", "").replaceAll(">", "").replace("漫画", ""),
            history: 1,
            aF: () => fun.lazyload()
        },
        css: "#pre-loading,.img_info{display:none!important}",
        category: "comic autoPager"
    }, {
        name: "来漫画M",
        host: ["m.laimanhua8.com"],
        enable: 1,
        reg: () => /m\.laimanhua8\.com\/kanmanhua\/\w+\/\d+\.html/i.test(fun.url) && comicInfiniteScrollMode != 1,
        init: () => fun.clearAllTimer(),
        imgs: () => mhInfo.images.map(e => realurl + mhInfo.path + e),
        button: [4],
        insertImg: ["#manga", 2],
        autoDownload: [0],
        next: () => mhInfo.nextUrlid == "" ? null : fun.ge("#mangaTitle>a").href + mhInfo.nextUrlid + ".html",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.gt("#mangaTitle", 1, doc),
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("mhInfo", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        css: "#jusha1{display:none!important}.action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none !important}",
        category: "comic"
    }, {
        name: "来漫画M 自動翻頁",
        reg: () => /m\.laimanhua8\.com\/kanmanhua\/\w+\/\d+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        json: (dom = document) => {
            let code = fun.gst("mhInfo", dom);
            let objText = code.match(/mhInfo[\s=]+([^;]+)/)[1];
            let json = JSON.parse(objText);
            return json;
        },
        getImgs: (dom = document) => {
            let json = siteData.json(dom);
            debug("\n来漫画M_Json\n", json);
            let srcs = json.images.map(e => realurl + json.path + e);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.clearAllTimer();
            let imgs = siteData.getImgs();
            let tE = fun.ge("#manga");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#manga", 0],
            observer: "#manga>img",
            next: (dom) => {
                let json = siteData.json(dom);
                return json.nextUrlid == "" ? null : fun.ge("#mangaTitle>a").href + json.nextUrlid + ".html";
            },
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => siteData.json(dom).chapterTitle
        },
        css: "#jusha1{display:none!important}.action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none !important}",
        category: "comic autoPager"
    }, {
        name: "漫画看M",
        host: ["m.mhkan.com"],
        enable: 0,
        reg: /^https?:\/\/m\.mhkan\.com\/manhua\/\w+\/\d+\.html/i,
        imgs: () => chapterImages,
        button: [4],
        insertImg: [".chapter-content", 2],
        autoDownload: [0],
        next: () => nextChapterData.id && nextChapterData.id > 0 ? comicUrl + nextChapterData.id + ".html" : null,
        prev: "//a[text()='上一章']",
        customTitle: () => {
            let data = JSON.parse(localStorage.history)[0];
            return data.comic_name + " - " + data.read_chapter
        },
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("chapterImages", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), nextDoc.title, "next");
        },
        category: "comic"
    }, {
        name: "漫客栈",
        host: ["www.mkzhan.com"],
        enable: 0,
        reg: /www\.mkzhan\.com\/\d+\/\d+\.html/i,
        xhr: async (lp = new URL(siteUrl).pathname) => {
            let lps = lp.split("/");
            let comic_id = lps[1];
            let chapter_id = lps[2].match(/\d+/)[0];
            let apiUrl = `https://comic.mkzcdn.com/chapter/content/v1/?chapter_id=${chapter_id}&comic_id=${comic_id}&format=1&quality=1&type=1`;
            return fetch(apiUrl).then(res => res.json());
        },
        init: async () => {
            let json = await siteData.xhr();
            debug("\n此頁JSON資料\n", json);
            siteJson = json;
        },
        imgs: (json = siteJson) => json.code == 302 ? [] : json.data.page.map(e => e.image),
        insertImg: ["#pages-tpl", 2],
        autoDownload: [0],
        next: ".rd-aside a.j-rd-next",
        prev: ".rd-aside a.j-rd-prev",
        autoClick: "//div[@class='rd-aside__item j-rd-mod'][span[text()='卷轴']]",
        customTitle: doc => fun.title(" - ", 1, doc),
        preloadNext: async (nextDoc, obj) => {
            let json = await obj.xhr(new URL(nextLink).pathname);
            fun.picPreload(obj.imgs(json), obj.customTitle(nextDoc), "next")
        },
        category: "comic"
    }, {
        name: "797漫画网",
        host: ["797mh.com"],
        enable: 0,
        reg: /^https?:\/\/797mh\.com\/chapter\/\d+$/i,
        init: () => fun.createImgBox("#comic_pic", 1),
        imgs: "#comic_pic",
        button: [4],
        insertImg: [
            ["#FullPictureLoadMainImgBox", 0, "#comic_pic"], 2
        ],
        autoDownload: [0],
        next: "//a[contains(text(),'下一章')]",
        prev: "//a[contains(text(),'上一章')]",
        customTitle: doc => fun.gt(".bo_tit", 1, doc).replace("\\n", "").replace(">", "-"),
        preloadNext: true,
        css: ".addg{display:none!important;}",
        category: "comic"
    }, {
        name: "漫画屋格式",
        host: ["www.mhua5.com", "www.mhw1.com", "www.cmh5.com", "www.umh5.com", "www.manshiduo.net", "www.obq8.com", "mh.9xxsm.com"],
        enable: 0,
        reg: /(www\.mhua5\.com|www\.mhw\d?\.com|www\.cmh5\.com|www\.umh5\.com|mh\.9xxsm\.com)\/index\.php\/chapter\/\d+|(www\.manshiduo\.net)\/chapter_\d+\.html|www\.obq8\.com\/index\.php\/chapter-\d+.html/i,
        include: ".rd-article-wr",
        init: "document.onkeydown=null;",
        imgs: doc => fun.getImgSrcArr("img[data-original]:not([data-original*='/template/pc/default/']),.lazy-read:not([data-original*='/template/pc/default/']),img[data-src]", doc),
        button: [4],
        insertImg: [".rd-article-wr", 2],
        autoDownload: [0],
        //next: ".btn--next-chapter,.rd-aside a.j-rd-next",
        next: () => {
            let next1 = fun.ge("a.j-rd-next[_href]:not([style])");
            let next2 = fun.ge("a.j-rd-next[href]:not([href^=java])");
            if (/mh\.9xxsm\.com/.test(fun.lh)) {
                let next = fun.ge("a.j-rd-prev[_href]:not([style])");
                return next ? location.origin + next.getAttribute("_href") : null;
            } else if (next1) {
                let href = fun.attr("a.j-rd-next[_href]", "_href");
                return href == "" ? null : location.origin + href;
            } else if (next2) {
                return next2.href;
            }
            return null;
        },
        prev: ".rd-aside a.j-rd-prev",
        autoClick: "//div[@class='rd-aside__item j-rd-mod'][span[text()='卷轴']]",
        customTitle: doc => {
            if (/www\.mhua5\.com|www\.mhw\d\.com/.test(fun.lh)) {
                return fun.title(" - 漫画屋", 0, doc).replace("-", " - ");
            } else if (/www\.cmh5\.com/.test(fun.lh)) {
                return fun.attr("meta[name=description]", "content", doc).split(" - 漫画屋")[0].replace("当前阅读的是", "").replace("的", " - ");
            } else if (/www\.umh5\.com|www\.biqug\.org|mh\.9xxsm\.com/.test(fun.lh)) {
                return fun.gt(".j-comic-title", 1, doc) + " - " + fun.gt(".last-crumb", 1, doc);
            } else {
                return fun.title(/下拉|在线/, 1, doc).replace("-", " - ").replace(/漫画|\[\d+P\]/i, "");
            }
        },
        preloadNext: true,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "漫画屋M格式",
        host: ["m.mkzhan.com", "www.mhua5.com", "www.mhw1.com", "www.cmh5.com", "www.umh5.com", "www.manshiduo.net", "www.biqug.org", "mh.9xxsm.com"],
        enable: 0,
        reg: /m\.mkzhan\.com\/\d+\/\d+\.html|(www\.mhua5\.com|www\.mhw\d?\.com|www\.cmh5\.com|www\.umh5\.com|mh\.9xxsm\.com)\/index\.php\/chapter\/\d+|(www\.manshiduo\.net)\/chapter_\d+\.html|www\.biqug\.org\/index\.php\/chapter-\d+.html/i,
        imgs: doc => fun.getImgSrcArr(".comic-page img,img[data-src],img[data-original]", doc),
        autoDownload: [0],
        next: async () => {
            if (/www\.mhua5\.com|www\.cmh5\.com|www\.umh5\.com|www\.mhw\d\.com|www\.biqug\.org|mh\.9xxsm\.com/.test(fun.lh)) {
                let next = fun.attr(".next-chapter", "_href");
                return next !== "" ? location.origin + next : null;
            } else if (/m\.mkzhan\.com/.test(fun.lh)) {
                await fun.waitEle(".next-chapter[data-href]", 10)
                let next = fun.ge(".next-chapter").dataset.href;
                return next !== "" || next != 0 ? location.origin + next : null;
            } else if (/www\.manshiduo\.net|www..cmh5\.com/.test(fun.lh)) {
                let next = fun.attr(".next-chapter", "_href");
                return next !== "" ? location.origin + next : null;
            } else {
                let next = fun.ge("//a[text()='下一章']");
                return next ? next.href : null;
            }
        },
        prev: 1,
        customTitle: doc => {
            if (/www\.mhua5\.com|www\.cmh5\.com/.test(fun.lh)) {
                return fun.title(" - 漫画屋", 0, doc).replace("-", " - ");
            } else if (/m\.mkzhan\.com/.test(fun.lh)) {
                return fun.title(" - 漫客栈", 0, doc).trim();
            } else if (/www\.umh5\.com|www\.mhw\d\.com|www\.biqug\.org|mh\.9xxsm\.com|m\.cuiman\.com/.test(fun.lh)) {
                return shareArr[0].match(/《([^》]+)/)[1] + " - " + fun.gt(".comic-name", 1, doc);
            } else {
                return fun.title("下拉", 1, doc).trim().replace("-", " - ");
            }
        },
        preloadNext: (nextDoc, obj) => fun.iframeDoc(nextLink, ".comic-page img,img[data-src],img[data-original],canvas[data-src]", 30000).then(nextIframeDoc => fun.picPreload(obj.imgs(nextIframeDoc), obj.customTitle(nextIframeDoc), "next")),
        css: "body>ins,#mainView>.read,.chapter-end .read,#chapter1,#chapter3,.cnt-4,.comic-list a,.chapter-end>a,div[style^=height]{display:none!important}",
        category: "comic"
    }, {
        name: "漫百库M",
        host: ["www.manhuabaiku.com"],
        enable: 0,
        reg: /www\.manhuabaiku\.com\/chapter\/\w+\.html/i,
        init: () => {
            $("body").on("click", ".FullPictureLoadImage", () => {
                if ($(".top-tool-bar").css("top") == "0px") {
                    $(".top-tool-bar").animate({
                        top: "-100px"
                    }, 500);
                    $(".bottom-tool-bar").animate({
                        bottom: "-100px"
                    }, 500);
                } else {
                    $(".top-tool-bar").animate({
                        top: "0px"
                    }, 500);
                    $(".bottom-tool-bar").animate({
                        bottom: "0px"
                    }, 500);
                }
            });
        },
        imgs: doc => [...fun.gae(".readForm canvas", doc)].map(e => atob(e.dataset.sc)),
        button: [4],
        insertImg: [".readForm", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][contains(@href,'html')]",
        prev: "//a[text()='上一章'][contains(@href,'html')]",
        customTitle: (doc = document) => doc.title.split("漫画章节")[0] + " - " + fun.gt(".comic-name", 1, doc),
        preloadNext: true,
        category: "comic"
    }, {
        name: "vomic漫画",
        host: ["www.vomicmh.com"],
        enable: 0,
        reg: /^http:\/\/www\.vomicmh\.com\/m_\w+\//i,
        imgs: "#showimage img",
        button: [4],
        insertImg: ["#showimage", 2],
        autoDownload: [0],
        next: "a#next_c[href]",
        prev: "a#last_c[href]",
        customTitle: doc => fun.title(" - ", 3, doc).trim(),
        preloadNext: (nextDoc, obj) => fun.iframeSrcDoc(nextLink, "#showimage img", 30000).then(nextIframeDoc => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextIframeDoc), obj.customTitle(nextIframeDoc), "next")),
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "爱国漫",
        host: ["www.guoman.net"],
        enable: 1,
        reg: () => /www\.guoman\.net\/chapter\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode != 1,
        imgs: () => newImgs.map(e => e.url),
        button: [4, "24%", 1],
        insertImg: [".main-scroll_mode", 2],
        autoDownload: [0],
        next: "a.J_next_eposide_btn[href*=chapter]",
        prev: "a.J_prev_eposide_btn[href*=chapter]",
        customTitle: doc => fun.gt(".cartoon-title>a:first-child", 1, doc) + " - " + fun.gt(".cartoon-title>a:last-child", 1, doc),
        preloadNext: async (nextDoc, obj) => {
            let iframe = await fun.iframeVar(nextLink, 1000, "newImgs");
            let srcs = iframe.newImgs.map(e => e.url);
            fun.picPreload(srcs, obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "爱国漫 自動翻頁",
        reg: () => /www\.guoman\.net\/chapter\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: () => {
            let srcs = frameWindow.newImgs.map(e => e.url);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge(".main-scroll_mode");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            mode: 1,
            waitEle: ".main-item>img:not([src*='.gif'])",
            ele: () => siteData.getImgs(),
            pos: [".main-scroll_mode", 0],
            observer: ".main-scroll_mode>img",
            next: "a.J_next_eposide_btn[href*=chapter]",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => fun.gt(".cartoon-title>a:first-child", 1, dom) + " - " + fun.gt(".cartoon-title>a:last-child", 1, dom)
        },
        category: "comic autoPager"
    }, {
        name: "爱国漫M",
        host: ["m.guoman.net"],
        enable: 1,
        reg: () => /m\.guoman\.net\/chapter\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode != 1,
        imgs: () => newImgs.map(e => e.url),
        capture: () => siteData.imgs(),
        autoDownload: [0],
        next: "//a[text()='下一章'][contains(@href,'html')]",
        prev: "//a[text()='上一章'][contains(@href,'html')]",
        customTitle: (doc = document) => doc.title.split("免费")[0].replace("漫画", ""),
        preloadNext: async (nextDoc, obj) => {
            let iframe = await fun.iframeVar(nextLink, 1000, "newImgs");
            let srcs = iframe.newImgs.map(e => e.url);
            fun.picPreload(srcs, obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "爱国漫M 自動翻頁",
        reg: () => /m\.guoman\.net\/chapter\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: () => {
            let srcs = frameWindow.newImgs.map(e => e.url);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#chapterPic");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            mode: 1,
            waitEle: "#chapterPic>img:not([src*='.gif'])",
            ele: () => siteData.getImgs(),
            pos: ["#chapterPic", 0],
            observer: "#chapterPic>img",
            next: "//a[text()='下一章'][contains(@href,'html')]",
            re: ".bottom-bar",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => dom.title.split("免费")[0].replace("漫画", "")
        },
        category: "comic autoPager"
    }, {
        name: "新新漫画",
        host: ["www.77mh.nl", "m.77mh.nl", "www.77mh.xyz", "m.77mh.xyz", "www.77mh.me", "m.77mh.me"],
        enable: 0,
        reg: /(www|m)\.77mh\.[a-z]{2,3}\/\d+\/\d+\.html/i,
        imgs: async () => {
            let status;
            if (fun.ge(".FullPictureLoadImage")) {
                status = 200;
            } else {
                let src = fun.attr("#comicImg img,.mg-co img", "src");
                status = await fun.xhrHEAD(src).then(res => res.status);
            }
            return status === 200 ? msg.split("|").map(e => fun.indexOf(fun.lh, "m.77mh") ? ImgSvrList + e : img_qianz + e) : [];
        },
        button: [4],
        insertImg: ["#comicImg,.mg-co", 2],
        insertImgAF: () => {
            if (fun.indexOf(fun.lh, "m.77mh")) {
                let p = fun.ge(".page_num");
                let m = fun.ge(".mg-co");
                p ? m.parentNode.insertBefore(p.cloneNode(true), m.nextSibling) : null;
                let selectors = [".pagelist", "//div[div[@style and a[img[@width]]]]"];
                fun.remove(selectors);
            } else {
                let str = "try{$(document).unbind('keydown');$(document).unbind('keyup')}catch(e){}";
                new Function(str)();
                let p = fun.ge("#pnpage");
                let m = fun.ge("#main");
                p ? m.parentNode.insertBefore(p.cloneNode(true), m.nextSibling) : null;
                let selectors = [".qrcode_div", "#bdcotopnew", "#main>*:not(#comicImg)"];
                fun.remove(selectors);
            }
        },
        autoDownload: [0],
        next: () => nextLink_b == "" ? null : location.origin + nextLink_b,
        prev: "//a[contains(text(),'上一章')]",
        customTitle: doc => fun.title(" - ", 3, doc),
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("eval", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(await obj.imgs(), obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "漫漫聚/KuKu动漫",
        enable: 1,
        reg: () => {
            let hosts = ["www.manmanju.cc", "a.manmanju.cc", "b.manmanju.cc", "www.ikukudm.cc", "a.ikukudm.cc", "b.ikukudm.cc"];
            return hosts.includes(fun.lh) && /\/comiclist\/\d+\/\d+\/1\.htm$/.test(fun.lp) && comicInfiniteScrollMode != 1;
        },
        include: "td img",
        comicListUrl: () => `/comiclist/${siteUrl.split("/")[4]}/index.htm`,
        imgs: () => fun.getKukudmSrc(),
        button: [4],
        insertImg: ["//td[input]", 2],
        go: 1,
        insertImgAF: async () => {
            let cUrl = siteData.comicListUrl();
            let nextUrl = await siteData.next();
            if (nextUrl) {
                fun.addUrlHtml(nextUrl, "body", 2);
                fun.addUrlHtml(cUrl, "body", 2, "目錄");
            } else {
                fun.addUrlHtml(cUrl, "body", 2, "目錄");
                fun.addUrlHtml(location.origin, "body", 2, "首頁");
            }
        },
        autoDownload: [0],
        next: () => {
            let chapterId = siteUrl.split("/")[5];
            let host = 1;
            if (/^a\./.test(fun.lh)) {
                host = 2;
            } else if (/^b\./.test(fun.lh)) {
                host = 3;
            }
            let nextXPath = `//dd[a[contains(@href,'${chapterId}')]]/following-sibling::dd[1]/a[${host}]`;
            return fun.xhrDoc(siteData.comicListUrl()).then(doc => {
                let next = fun.ge(nextXPath, doc);
                return next ? next.href : null;
            })
        },
        prev: 1,
        preloadNext: async (nextDoc, obj) => fun.picPreload(await fun.getKukudmSrc(nextLink, nextDoc, 0), nextDoc.title, "next"),
        css: "body{background-image:unset}body>table:nth-child(1),body>table:nth-child(3){display:none!important}body>table:nth-child(2),body>table:nth-child(2)>tbody>tr>td{width:100%!important;}body{scrollbar-width:none;-ms-overflow-style:none;overflow-x:hidden;overflow-y:auto}",
        category: "comic"
    }, {
        name: "漫漫聚/KuKu动漫 自動翻頁",
        reg: () => {
            let hosts = ["www.manmanju.cc", "a.manmanju.cc", "b.manmanju.cc", "www.ikukudm.cc", "a.ikukudm.cc", "b.ikukudm.cc"];
            return hosts.includes(fun.lh) && /\/comiclist\/\d+\/\d+\/1\.htm$/.test(fun.lp) && comicInfiniteScrollMode == 1;
        },
        include: "td img",
        comicListUrl: () => `/comiclist/${siteUrl.split("/")[4]}/index.htm`,
        init: async () => {
            fun.showMsg("自動翻頁初始化中...", 0);
            await fun.getKukudmSrc(siteUrl, document, 0).then(srcs => fun.createImgArray(srcs)).then(async imgs => {
                let tE = fun.ge("//td[input]");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
        },
        autoPager: {
            ele: (dom) => fun.getKukudmSrc(nextLink, dom, 0).then(srcs => fun.createImgArray(srcs)),
            pos: ["//td[img]", 0],
            observer: "//td[img]/img",
            next: () => {
                let chapterId = (nextLink ?? siteUrl).split("/")[5];
                let host = 1;
                if (/^a\./.test(fun.lh)) {
                    host = 2;
                } else if (/^b\./.test(fun.lh)) {
                    host = 3;
                }
                let nextXPath = `//dd[a[contains(@href,'${chapterId}')]]/following-sibling::dd[1]/a[${host}]`;
                return fun.xhrDoc(siteData.comicListUrl()).then(doc => {
                    let next = fun.ge(nextXPath, doc);
                    return next ? next.href : null;
                })
            },
            stop: (dom) => !fun.ge("//td[input]//img", dom),
            history: 1,
            aF: () => fun.lazyload()
        },
        css: "body{background-image:unset}body>table:nth-child(1),body>table:nth-child(3){display:none!important}body>table:nth-child(2),body>table:nth-child(2)>tbody>tr>td{width:100%!important;}body{scrollbar-width:none;-ms-overflow-style:none;overflow-x:hidden;overflow-y:auto}",
        category: "comic autoPager"
    }, {
        name: "漫漫聚M/KuKu动漫M",
        enable: 1,
        reg: () => {
            let hosts = ["m.manmanju.cc", "s1.m.manmanju.cc", "s2.m.manmanju.cc", "s3.m.manmanju.cc", "m.ikukudm.cc", "m.3840p.xyz", "sbxrb11.3840p.xyz", "s1.wap.ikukudm.cc", "s2.wap.ikukudm.cc", "s3.wap.ikukudm.cc"];
            return hosts.includes(fun.lh) && /\/comiclist\/\d+\/\d+\/1\.htm$/.test(fun.lp) && comicInfiniteScrollMode != 1;
        },
        include: ".classBox img,.imgBox",
        init: () => fun.remove("//center[iframe]"),
        imgs: () => {
            fun.remove("//a[img] | //ul[center[li]]");
            return fun.getKukudmSrc();
        },
        button: [4],
        insertImg: [".imgBox", 2],
        go: 1,
        insertImgAF: async () => {
            fun.remove(".bottom .subNav~div[style*=height],.bottom .pageLine,.bottom .subNav");
            let nav = fun.ge("ul.subNav").cloneNode(true);
            let tE = fun.ge("div.bottom");
            tE.parentNode.insertBefore(nav, tE);
            fun.remove("meta[name=viewport]");
            $("head").append('<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=2.0,user-scalable=no"/>');
            let url = await siteData.next();
            if (url) fun.addUrlHtml(url, ".bottom", 0);
        },
        autoDownload: [0],
        next: () => {
            let comicListUrl = fun.ge(".subNav a").href;
            let chapterId = siteUrl.split("/")[5];
            let nextXPath = `//li[a[contains(@href,'${chapterId}')]]/preceding-sibling::li[1]/a`;
            return fun.xhrDoc(comicListUrl).then(doc => {
                let next = fun.ge(nextXPath, doc);
                return next ? next.href : null;
            })
        },
        prev: 1,
        customTitle: () => fun.title("在线", 1),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await fun.getKukudmSrc(nextLink, nextDoc, 0), nextDoc.title.split("在线")[0], "next"),
        css: ".imgBox{margin-bottom:0px!important}.subNav{border-top:1px solid #dcdcde}body{scrollbar-width:none;overflow-x:hidden;overflow-y:auto}",
        category: "comic"
    }, {
        name: "漫漫聚/KuKu动漫M 404",
        enable: 1,
        reg: () => {
            let hosts = ["m.manmanju.cc", "s1.m.manmanju.cc", "s2.m.manmanju.cc", "s3.m.manmanju.cc", "m.ikukudm.cc", "m.3840p.xyz", "sbxrb11.3840p.xyz", "s1.wap.ikukudm.cc", "s2.wap.ikukudm.cc", "s3.wap.ikukudm.cc"];
            return hosts.includes(fun.lh) && /\/comiclist\/\d+\/\d+\/1\.htm$/.test(fun.lp) && comicInfiniteScrollMode != 1;
        },
        include: [
            "td img",
            "iframe[src='/top.htm']"
        ],
        comicListUrl: () => `/comiclist/${siteUrl.split("/")[4]}/index.htm`,
        imgs: () => fun.getKukudmSrc(),
        button: [4],
        insertImg: ["//td[input]", 2],
        go: 1,
        insertImgAF: async () => {
            let cUrl = siteData.comicListUrl();
            let nextUrl = await siteData.next();
            if (nextUrl) {
                fun.addUrlHtml(nextUrl, "body", 2);
                fun.addUrlHtml(cUrl, "body", 2, "目錄");
            } else {
                fun.addUrlHtml(cUrl, "body", 2, "目錄");
                fun.addUrlHtml(location.origin, "body", 2, "首頁");
            }
        },
        autoDownload: [0],
        next: () => {
            let chapterId = siteUrl.split("/")[5];
            let nextXPath = `//li[a[contains(@href,'${chapterId}')]]/preceding-sibling::li[1]/a`;
            return fun.xhrDoc(siteData.comicListUrl()).then(doc => {
                let next = fun.ge(nextXPath, doc);
                return next ? next.href : null;
            })
        },
        prev: 1,
        preloadNext: async (nextDoc, obj) => fun.picPreload(await fun.getKukudmSrc(nextLink, nextDoc, 0), nextDoc.title.split("在线")[0], "next"),
        css: "body{background-image:unset}body>table:nth-child(1),body>table:nth-child(3){display:none!important}body>table:nth-child(2),body>table:nth-child(2)>tbody>tr>td{width:100%!important;}body{scrollbar-width:none;-ms-overflow-style:none;overflow-x:hidden;overflow-y:auto}",
        category: "comic"
    }, {
        name: "漫漫聚M/KuKu动漫M 自動翻頁",
        reg: () => {
            let hosts = ["m.manmanju.cc", "s1.m.manmanju.cc", "s2.m.manmanju.cc", "s3.m.manmanju.cc", "m.ikukudm.cc", "m.3840p.xyz", "sbxrb11.3840p.xyz", "s1.wap.ikukudm.cc", "s2.wap.ikukudm.cc", "s3.wap.ikukudm.cc"];
            return hosts.includes(fun.lh) && /\/comiclist\/\d+\/\d+\/1\.htm$/.test(fun.lp) && comicInfiniteScrollMode == 1;
        },
        include: ".classBox img,.imgBox",
        init: async () => {
            fun.remove("//center[iframe] | //a[img] | //ul[center[li[@class='txtA']]]");
            fun.showMsg("自動翻頁初始化中...", 0);
            await fun.getKukudmSrc(siteUrl, document, 0).then(urls => fun.createImgArray(urls)).then(async imgs => {
                let tE = fun.ge(".imgBox");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
            fun.remove(".bottom .subNav~div[style*=height],.bottom .pageLine,.bottom .subNav");
            let nav = fun.ge("ul.subNav").cloneNode(true);
            let tE = fun.ge("div.bottom");
            tE.parentNode.insertBefore(nav, tE);
            fun.remove("meta[name=viewport]");
            $("head").append('<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=2.0,user-scalable=no"/>');
        },
        autoPager: {
            ele: (dom) => fun.getKukudmSrc(nextLink, dom, 0).then(urls => fun.createImgArray(urls)),
            pos: [".imgBox", 0],
            observer: ".imgBox>img",
            next: () => {
                let comicListUrl = fun.ge(".subNav a").href;
                let chapterId = (nextLink ?? siteUrl).split("/")[5];
                let nextXPath = `//li[a[contains(@href,'${chapterId}')]]/preceding-sibling::li[1]/a`;
                return fun.xhrDoc(comicListUrl).then(doc => {
                    let next = fun.ge(nextXPath, doc);
                    return next ? next.href : null;
                })
            },
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => dom.title.replace(/在线漫画.+$/, "")
        },
        css: ".imgBox{margin-bottom:0px!important}.subNav{border-top:1px solid #dcdcde}body{scrollbar-width:none;overflow-x:hidden;overflow-y:auto}",
        category: "comic autoPager"
    }, {
        name: "仙漫网",
        host: ["www.gaonaojin.com"],
        enable: 0,
        reg: /www\.gaonaojin\.com\/\w+\/\d+\.html/i,
        imgs: (url = fun.url) => {
            if (imgDomain === "") {
                url = url.replace("www.gaonaojin.com", "m.gaonaojin.com");
                fun.showMsg(displayLanguage.str_05, 0);
                return fun.xhr(url, "document", url, MobileUA).then(doc => {
                    let code = fun.gst("eval", doc).match(/eval.+\)\)/)[0].slice(4);
                    let imgData = fun.run(fun.run(code).match(/picdata[^;]+/)[0]);
                    return imgData.map(e => "https://res.xiaoqinre.com/" + e);
                });
            } else if (imgDomain === "https://res.xiaoqinre.com/") {
                return picdata.map(e => imgDomain + e);
            } else {
                return [];
            }
        },
        button: [4],
        insertImg: [".comicpage", 2],
        insertImgAF: () => nextLink ? fun.addUrlHtml(nextLink, ".comicpage", 1) : null,
        autoDownload: [0],
        next: "//li[a[@class='active']]/preceding-sibling::li[1]/a",
        prev: "//li[a[@class='active']]/following-sibling::li[1]/a",
        customTitle: () => fun.gt("h1.title").replace(/\(\d+\/\d+\)/, "").trim(),
        preloadNext: async (nextDoc, obj) => {
            let url = nextLink.replace("www.gaonaojin.com", "m.gaonaojin.com");
            let arr = await fun.xhr(url, "document", url, MobileUA).then(doc => {
                let code = fun.gst("eval", doc).match(/eval.+\)\)/)[0].slice(4);
                let imgData = fun.run(fun.run(code).match(/picdata[^;]+/)[0]);
                return imgData.map(e => "https://res.xiaoqinre.com/" + e);
            });
            fun.picPreload(arr, nextDoc.title, "next");
        },
        css: ".dropload-down{display:none!important;}",
        category: "comic"
    }, {
        name: "仙漫网M m.gaonaojin.com",
        host: ["m.gaonaojin.com"],
        enable: 0,
        reg: /m\.gaonaojin\.com\/\w+\/\d+\.html/i,
        imgs: (doc = document) => {
            let code = fun.gst("eval", doc).match(/eval.+\)\)/)[0].slice(4);
            let imgData = fun.run(fun.run(code).match(/picdata[^;]+/)[0]);
            return imgData.map(e => "https://res.xiaoqinre.com/" + e);
        },
        button: [4],
        insertImg: ["#cp_img", 2],
        autoDownload: [0],
        next: "a.btn.next",
        prev: "a.btn.prev",
        customTitle: doc => fun.title("免费", 1, doc),
        preloadNext: true,
        category: "comic"
    }, {
        name: "漫画台",
        host: ["manhuat.cc", "www.manhuat.cc"],
        enable: 0,
        reg: /manhuat\.cc\/manhua\/\d+\/\d+\.html/i,
        imgs: () => [...fun.doc(imgs.join("")).images],
        button: [4],
        insertImg: ["#content", 2],
        go: 1,
        autoDownload: [0],
        next: "a[rel=next][href$=html],#next_url",
        prev: "a[rel=prev][href$=html],#prev_url",
        customTitle: doc => {
            let s = fun.gt(".info-title,.con_top", 1, doc).split(/\s?>/);
            return (s[2] + s[3]).trim();
        },
        preloadNext: async (nextDoc, obj) => {
            let code = fun.gst("imgs", nextDoc);
            fun.script(code, 0, 1);
            let arr = [...fun.doc(imgs.join("")).images].map(e => e.src);
            fun.picPreload(arr, obj.customTitle(nextDoc), "next");
        },
        category: "comic"
    }, {
        name: "漫画哥",
        host: ["www.manhuag.cc", "m.manhuag.cc"],
        enable: 0,
        reg: /^https?:\/\/(www|m)\.manhuag\.cc\/\d+\/\d+\/\d+\.html/i,
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = fun.gt("//a[text()='下一页']", 2, doc) || 1;
            return /www\.manhuag\.cc/.test(fun.lh) ? fun.getImg(".img img", max, 9, null, 20, url, msg, request) : fun.getImg(".img img", max, 5, null, 20, url, msg, request);
        },
        button: [4],
        insertImg: ["//div[div[@id='nr'][p[@class='img']]] | //div[@id][p[@class='img']][not(@style)]", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: (doc = document) => {
            if (/www\.manhuag\.cc/.test(fun.lh)) {
                let s = doc.title.split("|");
                let comic_name = s[1];
                let comic_chapter = s[0];
                return comic_name + " - " + comic_chapter;
            } else {
                return fun.gt(".nav_name>h1", 1, doc) + " - " + fun.gt("h3", 1, doc);
            }
        },
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        category: "comic"
    }, {
        name: "大树漫画/世伦漫画",
        host: ["www.dashumanhua.com", "www.shilunart.com"],
        enable: 1,
        reg: () => /(www\.dashumanhua\.com|www\.shilunart\.com)\/comic\/\w+\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode != 1,
        imgs: (doc = document) => {
            let code = fun.gst("picTree", doc);
            let m = code.match(/eval.+\)\)/)[0].slice(4);
            return fun.run(fun.run(m).slice(12, -1));
        },
        button: [4],
        insertImg: ["#pic-list", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一话' and not(contains(@href,'--1'))]",
        prev: "//a[text()='上一话' and not(contains(@href,'--1'))]",
        customTitle: doc => fun.gt(".setnmh-bookname h1", 1, dom) + " - " + fun.gt(".setnmh-bookname h2", 1, dom),
        preloadNext: true,
        category: "comic"
    }, {
        name: "大树漫画/世伦漫画 自動翻頁",
        host: ["www.dashumanhua.com", "www.shilunart.com"],
        enable: 1,
        reg: () => /(www\.dashumanhua\.com|www\.shilunart\.com)\/comic\/\w+\/.+\.html/i.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: (dom = document) => {
            let code = fun.gst("picTree", dom);
            let m = code.match(/eval.+\)\)/)[0].slice(4);
            let srcs = fun.run(fun.run(m).slice(12, -1));
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.createImgBox("#pic-list", 2);
            fun.remove("#pic-list,.loading-box");
            let imgs = siteData.getImgs();
            let tE = fun.ge("#FullPictureLoadMainImgBox");
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#FullPictureLoadMainImgBox", 0],
            observer: "#FullPictureLoadMainImgBox>img",
            next: "//a[text()='下一话' and not(contains(@href,'--1'))]",
            re: ".setnmh-headsee,.setnmh-controlbottomn>.prev,.setnmh-controlbottomn>.huiname,.setnmh-controlbottomn>.next",
            history: 1,
            aF: () => {
                let n = fun.ge(".next>.tandiv>a");
                if (n) {
                    fun.ge(".next>a").href = n.href;
                    fun.remove(".next>a+span,a[v-if=booknext]+span");
                } else {
                    fun.ge(".next>a").classList.add("hui");
                    fun.remove("div[v-if=booknext]");
                }
                fun.lazyload();
            },
            title: (dom) => {
                if (hasTouchEvents) {
                    return fun.gt(".setnmh-bookname h2", 1, dom);
                } else {
                    return fun.gt(".setnmh-bookname h1", 1, dom) + " - " + fun.gt(".setnmh-bookname h2", 1, dom);
                }
            }
        },
        category: "comic autoPager"
    }, {
        name: "Godamanga.ART",
        host: ["godamanga.art"],
        enable: 0,
        reg: /^https?:\/\/godamanga\.art\/manga\/[a-z0-9-_]+\/[a-z0-9-_]+(\/|\.html)$/i,
        delay: 300,
        imgs: "//img[@decoding and @layout] | //img[@decoding and contains(@class,'img_content_jpg')]",
        button: [4],
        insertImg: ["//div[div[div[div[div[img[@decoding and @layout]]]]]] | //div[div[div[div[div[img[@decoding and contains(@class,'img_content_jpg')]]]]]]", 2],
        autoDownload: [0],
        next: "//a[span[text()='下一话']] | //a[span[text()='NEXT']]",
        prev: "//a[span[text()='上一话']] | //a[span[text()='PREV']]",
        customTitle: doc => fun.gt("h1", 1, doc),
        preloadNext: (nextDoc, obj) => fun.iframeDoc(nextLink, obj.imgs, 30000).then(nextIframeDoc => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextIframeDoc), obj.customTitle(nextIframeDoc), "next")),
        category: "comic"
    }, {
        name: "GODA漫畫 / 包子漫畫",
        enable: 1,
        reg: () => {
            /*
            let hosts = ["godamh.com", "cocolamanhua.com","news.cocolamanhua.com", "m.cocolamanhua.com", "baozimh.one", "cn.baozimh.one", "cocomanga.org", "baozimh.org", "cn.baozimh.org", "cn.godamanga.site", "godamanga.com", "bz.godamanga.art", "gd.godamanga.art", "cn.godamanga.art", "cn.godamanga.com"];
            return hosts.includes(fun.lh) && /\/manga\/[a-z0-9-_-]+\/[a-z0-9-_-]+/.test(fun.lp);
            */
            let hosts = ["news.cocolamanhua.com", "cn.baozimh.one"];
            return hosts.includes(fun.lh) && /^\/[\w-]+\/$|^\/manga\/[a-z0-9-_-]+\/[a-z0-9-_-]+$/.test(fun.lp) && fun.ge("h2#title,h2.truncate") && comicInfiniteScrollMode != 1;
        },
        init: async () => {
            await fun.waitEle(".touch-manipulation img");
            fun.remove("//div[ins[@class='adsbygoogle']]");
        },
        imgs: doc => fun.getImgSrcArr(".touch-manipulation img", doc),
        button: [4],
        insertImg: [".touch-manipulation", 2],
        autoDownload: [0],
        next: () => {
            let next = fun.ge("//a[button[text()='下一話' or text()='下一话']] | //a[div[span[text()='下一話']]]");
            return next ? next.href : null;
        },
        prev: 1,
        customTitle: doc => fun.gt("ol.inline-flex>li:nth-child(2) a", 1, doc) + " - " + fun.gt("ol.inline-flex>li:nth-child(3) a", 1, doc),
        category: "comic"
    }, {
        name: "GODA漫畫 自動翻頁",
        enable: 1,
        reg: () => {
            let hosts = ["news.cocolamanhua.com"];
            return hosts.includes(fun.lh) && /^\/[\w-]+\/$/.test(fun.lp) && fun.ge("h2#title") && comicInfiniteScrollMode == 1;
        },
        getImgs: (dom = document) => {
            let dataEle = fun.ge("#imagelist", dom);
            let mid;
            let cid;
            if (dataEle) {
                mid = dataEle.dataset.mid;
                cid = dataEle.dataset.cid;
            } else {
                [, , mid, cid] = new URL(nextLink).pathname.split("/");
            }
            let api = `https://cocolamanhua.com/chapter/getinfo?m=${mid}&c=${cid}`;
            return fun.fetchDoc(api).then(apiDom => {
                let next = fun.ge("a#nextChapter[href*='manga']", apiDom);
                if (next) {
                    tempNextLink = next.href;
                } else {
                    tempNextLink = null;
                }
                let np = fun.ge(".flex.flex-row.space-x-2.px-2.py-4", apiDom);
                let cp = fun.ge(".flex.flex-row.space-x-2.px-2.py-4");
                if (np && cp) {
                    cp.outerHTML = np.outerHTML;
                }
                let nt = fun.gt(".text-default-500 .text-xs.line-clamp-1", 1, apiDom);
                let ct = fun.ge("#title");
                if (nt && ct) {
                    ct.innerText = nt;
                }
                let n_nav = fun.ge(".mx-auto.p-4", apiDom);
                let c_nav = fun.ge(".mx-auto.p-4");
                if (n_nav && c_nav) {
                    c_nav.outerHTML = n_nav.outerHTML;
                }
                customTitle = nt;
                let srcs = fun.getImgSrcArr(".touch-manipulation img", apiDom);
                return fun.createImgArray(srcs);
            });
        },
        init: async () => {
            await fun.waitEle(".touch-manipulation img");
            fun.remove("//div[ins[@class='adsbygoogle']]");
            fun.createImgBox(".touch-manipulation", 2);
            fun.remove(".touch-manipulation,.bottom-0");
            let imgs = await siteData.getImgs();
            let tE = fun.ge("#FullPictureLoadMainImgBox");
            tE.append(...imgs);
            await fun.lazyload();
            let next = fun.ge("a#nextChapter[href*='manga']");
            if (next) {
                tempNextLink = next.href;
            } else {
                tempNextLink = null;
            }
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            observer: "#FullPictureLoadMainImgBox>img",
            pos: ["#FullPictureLoadMainImgBox", 0],
            next: () => tempNextLink,
            history: 1,
            aF: () => fun.lazyload(),
            title: () => customTitle
        },
        category: "comic autoPager"
    }, {
        name: "包子漫畫 自動翻頁",
        enable: 1,
        reg: () => {
            let hosts = ["cn.baozimh.one"];
            return hosts.includes(fun.lh) && /^\/manga\/[a-z0-9-_-]+\/[a-z0-9-_-]+$/.test(fun.lp) && fun.ge("h2.truncate") && comicInfiniteScrollMode == 1;
        },
        getImgs: (dom = document) => {
            let srcs = fun.getImgSrcArr(".touch-manipulation img", dom);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            await fun.waitEle(".touch-manipulation img");
            fun.remove("//div[ins[@class='adsbygoogle']]");
            fun.createImgBox(".touch-manipulation", 2);
            fun.remove(".touch-manipulation");
            let imgs = siteData.getImgs();
            let tE = fun.ge("#FullPictureLoadMainImgBox");
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            observer: "#FullPictureLoadMainImgBox>img",
            pos: ["#FullPictureLoadMainImgBox", 0],
            next: "//a[button[text()='下一話' or text()='下一话']] | //a[div[span[text()='下一話']]]",
            re: ".top-0,.bottom-0,.mx-auto.p-4,.flex.flex-row.space-x-2.px-2.py-4",
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => fun.gt("ol.inline-flex>li:nth-child(2) a", 1, dom) + " - " + fun.gt("ol.inline-flex>li:nth-child(3) a", 1, dom)
        },
        category: "comic autoPager"
    }, {
        name: "漫畫屋",
        host: ["mh5.tw"],
        enable: 0,
        reg: /mh5\.tw\/(series|seriesvip)-\w+-\d+-\d+/i,
        imgs: () => {
            let max;
            /seriesvip/.test(siteUrl) ? max = fun.gt("a.cur~a:last-child") - 2 : max = fun.gt("a.cur~a:last-child") - 1;
            return fun.getImgIframe(".ptview>img[alt]:not([style])", max, 13, ".setnmh-pagedos", 1000, 0);
        },
        insertImg: [".ptview", 1, 0],
        autoDownload: [0],
        next: "//a[text()='下一話']",
        prev: "//a[text()='上一話']",
        customTitle: () => {
            let ele = fun.ge("h2");
            return ele ? fun.gt("h1") + " - " + fun.gt("h2") : fun.gt(".setnmh-bookname>a:nth-child(5)") + " - " + fun.gt(".setnmh-bookname>a:nth-child(7)");
        },
        css: ".ptview>img{width:100%!important;height:auto!important;max-width:1000px!important;border:none!important;box-shadow:none!important;padding:0!important;margin:0 auto!important}",
        category: "comic"
    }, {
        name: "山立漫畫/TVBS漫畫",
        host: ["www.setnmh.com", "www.tvbsmh.com"],
        enable: 0,
        reg: /^https?:\/\/(www\.setnmh\.com|www\.tvbsmh\.com)\/(series|seriesvip)-\w+-\d+-\d+-.+$/i,
        imgs: () => {
            let max;
            /seriesvip/.test(siteUrl) ? max = fun.gt("a.cur~a:last-child") - 2 : max = fun.gt("a.cur~a:last-child") - 1;
            return fun.getImgIframe(".ptview>img[alt]:not([style])", max, 13, ".setnmh-pagedos,.pagedosw", 1000, 0);
        },
        insertImg: [".ptview", 1, 0],
        autoDownload: [0],
        next: "//a[text()='下一話']",
        prev: "//a[text()='上一話']",
        customTitle: () => document.title.split(" - ")[0].replace(/正在觀看|（\d+P）/ig, "").replace(">", " - "),
        css: ".ptview>img{width:100%!important;height:auto!important;max-width:1000px!important;border:none!important;box-shadow:none!important;padding:0!important;margin:0 auto!important}",
        category: "comic"
    }, {
        name: "ACG456",
        host: ["www.acg456.com"],
        enable: 0,
        reg: /^http:\/\/www\.acg456\.com\/HTML\/\w+\/\d+\//i,
        init: () => {
            fun.ge("body>table").width = "1400";
            fun.run("document.onkeydown=null;");
        },
        imgs: () => picAy,
        button: [4],
        insertImg: ["body>table", 2],
        autoDownload: [0],
        next: () => nextChap == "" ? null : location.origin + nextChap,
        prev: "//a[text()='上一回']",
        customTitle: doc => {
            let [, , comic_name, comic_chapter] = fun.gt(".Reduction_left", 1, doc).split(" > ");
            return comic_name + " - " + comic_chapter.replace(/（\d+P）/i, "").replace(/（\d+P）/i, "");
        },
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
window.parent.postMessage({
    iframePicArr: picAy,
    title: document.title
}, "http://www.acg456.com/");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, "#curPic", 30000, callback);
        },
        category: "comic"
    }, {
        name: "ACG456M",
        host: ["m.acg456.com"],
        enable: 0,
        reg: /^http:\/\/m\.acg456\.com\/b\/\w+\/\w+\/\w+\//i,
        imgs: () => picAy,
        button: [4],
        insertImg: ["#PicArea", 2],
        autoDownload: [0],
        next: "//a[contains(text(),'下一话')]",
        prev: "//a[contains(text(),'上一话')]",
        customTitle: () => fun.gt(".menu_top_list>li:last-child"),
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
window.parent.postMessage({
    iframePicArr: picAy,
    title: document.title
}, "http://m.acg456.com/");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, "#PicArea img", 3000, callback);
        },
        category: "comic"
    }, {
        name: "漫画160/非常爱漫",
        host: ["www.mh160.cc", "m.mh160.cc", "www.veryim.com"],
        enable: 1,
        reg: () => /\.mh160\.cc\/kanmanhua\/\w+\/\d+\.html$|^https?:\/\/www\.veryim\.com\/manhua\/\d+\/\d+\.html$/i.test(fun.url) && comicInfiniteScrollMode != 1,
        init: "document.onkeydown=null",
        imgs: () => base64_decode(qTcms_S_m_murl_e).split("$qingtiandy$").map(e => f_qTcms_Pic_curUrl_realpic(e)),
        button: [4],
        insertImg: ["//td[//img[@onclick]] | //div[@class='UnderPage']", 2],
        go: 1,
        autoDownload: [0],
        next: "#k_Pic_nextArr",
        prev: "#k_Pic_backArr",
        customTitle: () => qTcms_S_m_name + " - " + qTcms_S_m_playm,
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("qTcms_S_m_murl_e", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(), "next");
        },
        category: "comic"
    }, {
        name: "漫画160/非常爱漫 自動翻頁",
        enable: 1,
        reg: () => /\.mh160\.cc\/kanmanhua\/\w+\/\d+\.html$|^https?:\/\/www\.veryim\.com\/manhua\/\d+\/\d+\.html$/i.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: (dom = document) => {
            let srcs = base64_decode(qTcms_S_m_murl_e).split("$qingtiandy$").map(e => f_qTcms_Pic_curUrl_realpic(e));
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            fun.createImgBox("//td[//img[@onclick]] | //div[@class='UnderPage']", 2);
            fun.remove("//td[//img[@onclick]] | //div[@class='UnderPage']");
            let tE = fun.ge("#FullPictureLoadMainImgBox");
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            script: "//script[contains(text(),'qTcms_S_m_murl_e')]",
            ele: () => siteData.getImgs(),
            pos: ["#FullPictureLoadMainImgBox", 0],
            observer: "#FullPictureLoadMainImgBox>img",
            next: "#k_Pic_nextArr[href$='html']",
            re: ".title,.main-btn,.BarTit,#action",
            title: () => {
                if (hasTouchEvents) {
                    return qTcms_S_m_playm;
                } else {
                    return qTcms_S_m_name + " - " + qTcms_S_m_playm;
                }
            },
            history: 1,
            aF: () => fun.lazyload()
        },
        css: ".action-list li{width:50% !important}#action>ul>li:nth-child(n+2):nth-child(-n+3){display:none !important}@media only screen and (max-width:480px){.container,.content-body{padding:0px !important}}",
        category: "comic autoPager"
    }, {
        name: "笨狗漫画",
        host: ["www.bengou.co", "m.bengou.co"],
        enable: 0,
        reg: /(www|m)\.bengou\.co\/\w+\/\w+\/\d+\.html/i,
        init: "document.onkeydown=null;",
        imgs: () => base64_decode(qTcms_S_m_murl_e).split("$qingtiandy$").map(e => f_qTcms_Pic_curUrl_realpic(e)),
        insertImg: ["//td[img[@id='qTcms_pic']]", 2],
        go: 1,
        autoDownload: [0],
        next: () => (!/^java/.test(qTcms_Pic_nextArr) && qTcms_Pic_nextArr !== "") ? location.origin + qTcms_Pic_nextArr : null,
        prev: 1,
        customTitle: () => qTcms_S_m_name + " - " + qTcms_S_m_playm,
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("qTcms_S_m_murl_e", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(), "next");
        },
        css: ".action-list li{width:50% !important}#mypic_k0,.action-list>ul>li:nth-child(n+2):nth-child(-n+3){display:none!important}",
        category: "comic"
    }, {
        name: "星辰漫画网",
        host: ["www.xcmh.com", "m.xcmh.com"],
        enable: 1,
        reg: /(www|m)\.xcmh\.com\/\w+\/\w+\/\d+\.html/i,
        init: "document.onkeydown=null;",
        imgs: () => base64_decode(qTcms_S_m_murl_e).split("$qingtiandy$").map(e => location.origin + f_qTcms_Pic_curUrl_realpic(e)),
        button: [4],
        insertImg: ["//td[img[@id='qTcms_pic']]", 2],
        go: 1,
        autoDownload: [0],
        next: () => (!/^java/.test(qTcms_Pic_nextArr) && qTcms_Pic_nextArr !== "") ? location.origin + qTcms_Pic_nextArr : null,
        prev: 1,
        customTitle: () => qTcms_S_m_name + " - " + qTcms_S_m_playm,
        preloadNext: (nextDoc, obj) => {
            let code = fun.gst("qTcms_S_m_murl_e", nextDoc);
            fun.script(code, 0, 1);
            fun.picPreload(obj.imgs(), obj.customTitle(), "next");
        },
        css: "#mypic_k0{display:none!important}",
        category: "comic"
    }, {
        name: "木马漫画",
        host: ["www.omyschool.com"],
        enable: 0,
        reg: /www\.omyschool\.com\/article_detail\/\d+\/\d+\/.+\/.+\//i,
        imgs: "#imgs amp-img",
        button: [4],
        insertImg: ["#imgs", 2],
        go: 1,
        autoDownload: [0],
        next: ".nav_button.next",
        prev: ".nav_button.prev",
        customTitle: doc => fun.gt("//a/span[@property and not(i)]", 1, doc) + " - " + fun.gt("//li/span[@property and not(i)]", 1, doc),
        preloadNext: true,
        category: "comic"
    }, {
        name: "砂之船动漫家",
        host: ["www.szcdmj.com"],
        enable: 0,
        reg: /www\.szcdmj\.com\/szcchapter\/\d+/i,
        include: ".comiclist",
        imgs: async () => {
            await fun.getNP(".comicpage>div", "//a[@href and text()='下一页']", null, ".fanye");
            return [...fun.gae("img.lazy")];
        },
        button: [4],
        insertImg: [".comiclist", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一话']",
        prev: "//a[text()='上一话']",
        customTitle: () => fun.gt("h1.title"),
        category: "comic"
    }, {
        name: "砂之船动漫家M",
        host: ["www.szcdmj.com"],
        enable: 0,
        reg: /www\.szcdmj\.com\/szcchapter\/\d+/i,
        include: "#cp_img",
        imgs: async () => {
            await fun.getNP("#cp_img>img[data-original]", "//a[@href and text()='下一页']", null, ".view-bottom-bar");
            return [...fun.gae("#cp_img>img[data-original]")];
        },
        insertImg: ["#cp_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一话']",
        prev: "//a[text()='上一话']",
        customTitle: () => bookInfo.book_name + " - " + bookInfo.chapter_name,
        category: "comic"
    }, {
        name: "艾米漫画/聚合漫画屋/酷看漫画",
        host: ["www.aimimh.com", "www.52hah.com", "www.kukanmanhua.com"],
        enable: 0,
        reg: /www\.aimimh\.com\/chapter\/[\d-]+|www\.52hah\.com\/chapter\/\d+|www\.kukanmanhua\.com\/chapter\/\d+/i,
        include: ".comiclist",
        imgs: ".comiclist img",
        button: [4],
        insertImg: [".comicpage", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: doc => fun.gt("h1.title", 1, doc),
        preloadNext: (nextDoc, obj) => fun.iframeDoc(nextLink, ".comiclist img:not([src*=loading])", 30000).then(nextIframeDoc => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextIframeDoc), obj.customTitle(nextIframeDoc), "next")),
        category: "comic"
    }, {
        name: "艾米漫画M/聚合漫画屋M/酷看漫画M",
        host: ["www.aimimh.com", "www.52hah.com", "www.kukanmanhua.com"],
        enable: 0,
        reg: /www\.aimimh\.com\/chapter\/[\d-]+|www\.52hah\.com\/chapter\/\d+|www\.kukanmanhua\.com\/chapter\/\d+/i,
        imgs: "#cp_img>img[data-original]",
        button: [4],
        insertImg: ["#cp_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => {
            if (/www\.52hah\.com|www\.kukanmanhua\.com/.test(fun.lh)) {
                return bookInfo.book_name.replace(/_\d+$/, "") + " - " + bookInfo.chapter_name;
            } else {
                return fun.title("在线阅读-艾米漫画");
            }
        },
        preloadNext: (nextDoc, obj) => fun.iframeDoc(nextLink, "#cp_img>img[data-original]:not([src*=loading])", 30000).then(nextIframeDoc => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextIframeDoc), nextIframeDoc.title, "next")),
        category: "comic"
    }, {
        name: "云端漫画",
        host: ["www.bcloudmerge.com"],
        enable: 0,
        reg: /^https?:\/\/www\.bcloudmerge\.com\/bmergechapter\/\d+\/\d+\.html$/,
        init: () => fun.remove("//div[p[@class='open']] | //div[p[contains(text(),'小贴士')]] | //div[div[button[text()='无删韩漫']]]"),
        imgs: ".mh_list img,#content img",
        button: [4],
        insertImg: [".mh_list,#content", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: () => read.articlename + " - " + read.cname,
        category: "comic"
    }, {
        name: "次元/夜神",
        host: ["cymh.info", "ysmh.info"],
        enable: 0,
        reg: () => !hasTouchEvents && /^https?:\/\/(cymh|ysmh)\.info\/\w+\/\d+\/\d+\.html$/i.test(fun.url),
        init: async () => fun.getNP("#cp_img img", "//a[text()='下一页']", null, ".fanye"),
        imgs: "#cp_img img",
        button: [4],
        insertImg: ["#cp_img", 2],
        autoDownload: [0],
        next: "//li[a[@class='active']]/following-sibling::li[1]/a",
        prev: "//li[a[@class='active']]/preceding-sibling::li[1]/a",
        customTitle: () => fun.gt("h1.title") + " - " + fun.gt("a.active"),
        category: "comic"
    }, {
        name: "次元M/夜神M",
        host: ["cymh.info", "ysmh.info"],
        enable: 0,
        reg: () => hasTouchEvents && /^https?:\/\/(cymh|ysmh)\.info\/\w+\/\d+\/\d+\.html$/i.test(fun.url),
        init: async () => fun.getNP("#cp_img>*", "//a[text()='下一页']", null, ".page"),
        imgs: "#cp_img img",
        button: [4],
        insertImg: ["#cp_img", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: 1,
        customTitle: async () => {
            let url = fun.ge(".back>a").href;
            let comicName = await fun.fetchDoc(url).then(doc => fun.ge("#bookcase", doc).dataset.name);
            return comicName + " - " + fun.gt(".h1");
        },
        category: "comic"
    }, {
        name: "最次元/野蛮/考拉漫画/优乐漫画",
        host: ["zcymh.com", "yemancomic.com", "cn.colacomic.com", "www.beston-test.com"],
        enable: 0,
        reg: () => !hasTouchEvents && /^https?:\/\/(zcymh\.com|yemancomic\.com|cn\.colacomic\.com|www\.beston-test\.com)\/\w+\/\d+\/\d+\.html$/.test(fun.url),
        imgs: "#img-box img",
        button: [4],
        insertImg: ["#img-box", 2],
        autoDownload: [0],
        next: "#js_pageNextBtn>a",
        prev: "#js_pagePrevBtn>a",
        customTitle: () => read.articlename + " - " + read.chaptername,
        category: "comic"
    }, {
        name: "最次元M/野蛮M/考拉漫画M/优乐漫画M",
        host: ["zcymh.com", "yemancomic.com", "cn.colacomic.com", "www.beston-test.com"],
        enable: 0,
        reg: () => hasTouchEvents && /^https?:\/\/(zcymh\.com|yemancomic\.com|cn\.colacomic\.com|www\.beston-test\.com)\/\w+\/\d+\/\d+\.html$/.test(fun.url),
        imgs: "#imgsec img",
        button: [4],
        insertImg: ["#imgsec", 2],
        autoDownload: [0],
        next: "a#next",
        prev: "a#prev",
        customTitle: () => read.articlename + " - " + read.chaptername,
        category: "comic"
    }, {
        name: "爱看漫",
        host: ["ikmmh.com"],
        enable: 0,
        reg: () => !hasTouchEvents && /^https?:\/\/ikmmh\.com\/\w+\/\d+\/\d+\.html$/.test(fun.url),
        imgs: () => {
            fun.showMsg(displayLanguage.str_05, 0);
            return fun.xhr(fun.url, "document", fun.url, MobileUA).then(doc => [...fun.gae(".episode-detail img", doc)]);
        },
        button: [4],
        insertImg: ["#img-box", 2],
        autoDownload: [0],
        next: "#js_pageNextBtn>a",
        prev: "#js_pagePrevBtn>a",
        customTitle: () => read.articlename + " - " + read.chaptername,
        category: "comic"
    }, {
        name: "爱看漫M",
        host: ["ikmmh.com"],
        enable: 0,
        reg: () => hasTouchEvents && /^https?:\/\/ikmmh\.com\/\w+\/\d+\/\d+\.html$/.test(fun.url),
        imgs: ".episode-detail img",
        button: [4],
        insertImg: [".episode-detail", 2],
        autoDownload: [0],
        next: "a#next",
        prev: "a#prev",
        customTitle: () => read.articlename + " - " + read.chaptername,
        category: "comic"
    }, {
        name: "拷貝漫畫",
        host: ["www.copymanga.site", "copymanga.site", "www.copymanga.tv", "copymanga.tv", "www.mangacopy.com", "mangacopy.com"],
        enable: 1,
        reg: () => /(www\.)?(copymanga\.site|copymanga\.tv|mangacopy\.com)\/comic\/\w+\/chapter\/.+/.test(fun.url) && comicInfiniteScrollMode != 1,
        delay: 300,
        init: async () => {
            fun.copymangaUI();
            fun.showMsg(displayLanguage.str_05, 0);
            let host = fun.lh.replace("www.", "");
            let api = siteUrl.replace(/.*?(?=\/comic\/)/, `https://api.${host}/api/v3`);
            let json = await fetch(api).then(res => res.json());
            siteJson = json;
            debug("\n此頁JSON資料\n", json);
            let readHistoryData = localStorage.getItem("copymangaReadHistory");
            let pathnameSplit = fun.lp.split("/");
            let comic = pathnameSplit[2];
            let chapter = pathnameSplit[4];
            let obj;
            readHistoryData ? obj = JSON.parse(readHistoryData) : obj = {};
            obj[comic] = chapter;
            localStorage.setItem("copymangaReadHistory", JSON.stringify(obj));
        },
        imgs: () => siteJson.results.chapter.contents.map(e => e.url.replace("c800x.", "c1500x.")),
        button: [4],
        insertImg: [".comicContent-list", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一話'][starts-with(@href,'/comic/')]",
        prev: "//a[text()='上一話'][starts-with(@href,'/comic/')]",
        customTitle: () => siteJson.results.comic.name + " - " + siteJson.results.chapter.name,
        preloadNext: () => {
            let host = fun.lh.replace("www.", "");
            let api = nextLink.replace(/.*?(?=\/comic\/)/, `https://api.${host}/api/v3`);
            fetch(api).then(res => res.json()).then(json => {
                let arr = json.results.chapter.contents.map(e => e.url.replace("c800x.", "c1500x."));
                let title = json.results.comic.name + " - " + json.results.chapter.name;
                fun.picPreload(arr, title, "next");
            });
        },
        topButton: true,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}.header+div[style],.comicContainerAds{display:none!important}",
        category: "comic"
    }, {
        name: "拷貝漫畫 自動翻頁",
        reg: () => /(www\.)?(copymanga\.site|copymanga\.tv|mangacopy\.com)\/comic\/\w+\/chapter\/.+/.test(fun.url) && comicInfiniteScrollMode == 1,
        delay: 300,
        getImgs: (url = siteUrl) => {
            let host = fun.lh.replace("www.", "");
            let api = url.replace(/.*?(?=\/comic\/)/, `https://api.${host}/api/v3`);
            return fetch(api).then(res => res.json()).then(json => {
                let srcArr = json.results.chapter.contents.map(e => e.url.replace("c800x.", "c1500x."));
                customTitle = json.results.comic.name + " - " + json.results.chapter.name;
                let readHistoryData = localStorage.getItem("copymangaReadHistory");
                let pathnameSplit = new URL(url).pathname.split("/");
                let comic = pathnameSplit[2];
                let chapter = pathnameSplit[4];
                let obj;
                readHistoryData ? obj = JSON.parse(readHistoryData) : obj = {};
                obj[comic] = chapter;
                localStorage.setItem("copymangaReadHistory", JSON.stringify(obj));
                return srcArr;
            }).then(urls => fun.createImgArray(urls));
        },
        init: async () => {
            fun.copymangaUI();
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getImgs().then(async imgs => {
                let tE = fun.ge(".comicContent-list");
                tE.innerHTML = "";
                tE.append(...imgs);
                fun.hideMsg();
                await fun.lazyload();
            });
            fun.addMutationObserver(() => {
                if (fun.ge("//li[img[@data-src]]")) {
                    fun.remove("//li[img[@data-src]]");
                }
            });
        },
        autoPager: {
            ele: () => siteData.getImgs(nextLink),
            pos: [".comicContent-list", 0],
            observer: ".comicContent-list>img",
            next: "//a[text()='下一話'][starts-with(@href,'/comic/')]",
            history: 1,
            aF: () => fun.lazyload(),
            title: () => customTitle
        },
        css: ".header+div[style],.comicContainerAds{display:none!important}",
        category: "comic autoPager"
    }, {
        name: "拷貝漫畫 目錄頁",
        reg: /(www\.)?(copymanga\.site|copymanga\.tv|mangacopy\.com)\/comic\/\w+$/,
        delay: 300,
        init: async () => {
            fun.run("$(document).unbind();document[_0x1f93('0x1b')][_0x1f93('0x27')]=null;");
            if (isFn(aboutBlank)) fun.run("aboutBlank=()=>{};");
            fun.clearAllTimer();
            await fun.waitEle(".tab-pane.show.active a");
            const updateLastChapter = () => {
                let readHistoryData = localStorage.getItem("copymangaReadHistory");
                let pathnameSplit = fun.lp.split("/");
                let comic = pathnameSplit.at(-1);
                if (readHistoryData === null) {
                    return;
                } else {
                    let obj = JSON.parse(readHistoryData);
                    if (obj[comic] === undefined) {
                        return;
                    } else {
                        let selector = `.upLoop a[href$="${obj[comic]}"]`;
                        [...document.querySelectorAll(".lastchapter")].forEach(a => a.classList.remove("lastchapter"));
                        [...document.querySelectorAll(selector)].forEach(a => a.classList.add("lastchapter"));
                    }
                }
            };
            updateLastChapter();
            document.addEventListener("visibilitychange", updateLastChapter);
        },
        css: ".lastchapter{color:#fff !important;background:#1790E6}",
        category: "none"
    }, {
        name: "拷貝漫畫M",
        host: ["www.copymanga.site", "copymanga.site", "www.copymanga.tv", "copymanga.tv", "www.mangacopy.com", "mangacopy.com"],
        enable: 1,
        reg: () => /(www\.)?(copymanga\.site|copymanga\.tv|mangacopy\.com)\/h5\/comicContent\/\w+\/.+/.test(fun.url) && comicInfiniteScrollMode != 1,
        xhr: (url = siteUrl) => {
            let s = url.split("/").slice(-2);
            let host = fun.lh.replace("www.", "");
            let api = `https://api.${host}/api/v3/comic/${s[0]}/chapter/${s[1]}`;
            return new Promise(resolve => {
                _GM_xmlhttpRequest({
                    method: "GET",
                    url: api,
                    responseType: "json",
                    headers: {
                        "Referer": `https://${fun.lh}/comic/${s[0]}/chapter/${s[1]}`,
                        "User-Agent": PCUA
                    },
                    onload: data => {
                        resolve(data.response);
                    }
                });
            });
        },
        init: async () => {
            if (isFn(aboutBlank)) fun.run("aboutBlank=()=>{};");
            fun.clearAllTimer();
            siteJson = await siteData.xhr();
            debug("\n此頁JSON資料\n", siteJson);
            const addHtml = (url, text) => {
                let str = `<div style="padding: 10px 0; text-align: center;"><a href="${url}"style="width: 100%;font-size: 26px;line-height: 50px;height: 50px;text-align: center;">${text}</a></div>`;
                fun.ge(".comicContentPopupImageList").insertAdjacentHTML("afterend", str);
            };
            let s = siteUrl.split("/").slice(-2);
            let url = `https://${fun.lh}/h5/details/comic/${s[0]}`;
            addHtml(`https://${fun.lh}/h5/index`, "首頁");
            addHtml(url, "目錄");
            let nUrl = siteData.next();
            if (nUrl) addHtml(nUrl, "點選進入下一話");
        },
        imgs: () => siteJson.results.chapter.contents.map(e => e.url.replace("c800x.", "c1500x.")),
        button: [4],
        insertImg: [".comicContentPopupImageList", 2],
        go: 1,
        next: () => {
            let next = siteJson.results.chapter.next;
            return next ? siteUrl.replace(/[\w-]+$/, "") + next : null;
        },
        customTitle: () => siteJson.results.comic.name + " - " + siteJson.results.chapter.name,
        preloadNext: (nextDoc, obj) => {
            obj.xhr(nextLink).then(json => {
                let arr = json.results.chapter.contents.map(e => e.url);
                let title = json.results.comic.name + " - " + json.results.chapter.name;
                fun.picPreload(arr, title, "next");
            });
        },
        css: ".comicFixed{display:none!important}",
        fancybox: {
            blacklist: 1
        },
        category: "comic"
    }, {
        name: "拷貝漫畫M 自動翻頁",
        enable: 1,
        reg: () => /(www\.)?(copymanga\.site|copymanga\.tv|mangacopy\.com)\/h5\/comicContent\/\w+\/.+/.test(fun.url) && comicInfiniteScrollMode == 1,
        getData: () => {
            let s = document.URL.split("/").slice(-2);
            let host = fun.lh.replace("www.", "");
            let api = `https://api.${host}/api/v3/comic/${s[0]}/chapter/${s[1]}`;
            return new Promise(resolve => {
                _GM_xmlhttpRequest({
                    method: "GET",
                    url: api,
                    responseType: "json",
                    headers: {
                        "Referer": `https://${fun.lh}/comic/${s[0]}/chapter/${s[1]}`,
                        "User-Agent": PCUA
                    },
                    onload: data => {
                        resolve(data.response);
                    }
                });
            }).then(json => {
                siteJson = json;
                debug("\n拷貝漫畫M_JSON\n", siteJson);
            });
        },
        getImgs: () => {
            let srcs = siteJson.results.chapter.contents.map(e => e.url);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            fun.showMsg("自動翻頁初始化中...", 0);
            await siteData.getData();
            let imgs = siteData.getImgs();
            let tE = fun.ge(".comicContentPopupImageList");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
            if (isFn(_unsafeWindow.aboutBlank)) _unsafeWindow.aboutBlank = null;
            fun.clearAllTimer();
            //tE.innerHTML = "";
            //await fun.autoPager();
            fun.hideMsg();
        },
        autoPager: {
            ele: () => siteData.getImgs(),
            pos: [".comicContentPopupImageList", 0],
            observer: ".comicContentPopupImageList>img",
            next: () => {
                let next = siteJson.results.chapter.next;
                return next ? document.URL.replace(/[^\/]+$/, "") + next : null;
            },
            title: () => siteJson.results.chapter.name,
            history: 1,
            aF: async () => {
                await fun.lazyload();
                await siteData.getData();
            }
        },
        css: ".comicFixed{display:none!important}",
        category: "comic autoPager"
    }, {
        name: "二次元動漫/看漫畫",
        host: ["www.2animx.com", "www.k886.net"],
        enable: 0,
        reg: /(www\.2animx\.com|www\.k886\.net)\/index-look-name-.+/,
        init: "$(document).unbind('click');",
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = fun.ge("#total", doc).value;
            let links = fun.arr(max).map((_, i) => fun.getModeUrl(url, 20, (i + 1)));
            return fun.getImgA("#ComicPic", links, 100, null, msg, request);
        },
        button: [4],
        insertImg: ["//div[img[@id='ComicPic']]", 2],
        autoDownload: [0],
        next: ".n.zhangjie",
        prev: ".p.zhangjie",
        customTitle: doc => {
            let [, , comic_name, comic_chapter] = fun.gt(".b", 1, doc).split(" - ");
            return comic_name + " - " + comic_chapter.replace(/（\d+P）/i, "");
        },
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        css: ".c>*:not(.n.zhangjie):not(.p.zhangjie){display:none!important;}#ComicPic{display:block!important;margin: 0 auto !important;}",
        category: "comic"
    }, {
        name: "奴奴漫畫",
        host: ["www.2nunu.com"],
        enable: 0,
        reg: /^https?:\/\/www\.2nunu\.com\/look-.+\.html/,
        init: "$(document).unbind();document.onkeydown=null;",
        imgs: (url = siteUrl, doc, msg = 1, request = 0) => {
            let max = fun.ge("#total", doc).value;
            let links = fun.arr(max).map((_, i) => url.replace(/\d+\.html$/, "") + (i + 1) + ".html");
            return fun.getImgA("#cpimg", links, 100, null, msg, request);
        },
        button: [4],
        insertImg: ["#showimage", 2],
        autoDownload: [0],
        next: "//a[text()='下一章']",
        prev: "//a[text()='上一章']",
        customTitle: (doc = document) => doc.title.replace(/（\d+P）.+/i, "").replace("第", " - 第"),
        preloadNext: async (nextDoc, obj) => fun.picPreload(await obj.imgs(nextLink, nextDoc, 0, 1), obj.customTitle(nextDoc), "next"),
        category: "comic"
    }, {
        name: "速漫库",
        host: ["qumanku.com", "www.sumanku.com"],
        enable: 0,
        reg: /^https?:\/\/(www.)?\w+manku\.com\/\w+\/\w+\.html/i,
        imgs: ".main_img img",
        button: [4],
        insertImg: [".main_img", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[span[text()='下一章']]",
        prev: "//a[span[text()='上一章']]",
        customTitle: doc => fun.attr("meta[itemprop=mhname]", "content", doc) + " - " + fun.gt(".chaptitle", 1, doc),
        preloadNext: async (nextDoc, obj) => fun.iframeDoc(nextLink, ".main_img img").then(nextIframeDoc => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextIframeDoc), obj.customTitle(nextIframeDoc), "next")),
        category: "comic"
    }, {
        name: "漫画DB",
        host: ["www.manhuadb.com"],
        enable: 1,
        reg: () => /www\.manhuadb\.com\/manhua\/\d+\/\w+\.html$/.test(fun.url) && comicInfiniteScrollMode != 1,
        imgs: () => img_data_arr.map(e => img_host + img_pre + e.img),
        button: [4],
        insertImg: ["#all", 2],
        autoDownload: [0],
        next: () => {
            return fetch("/book/goNumPage", {
                "headers": {
                    "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                "body": `ccid=${p_ccid}&id=${p_id}&num=${parseInt(vg_r_data.data("num"), 10) + 1}&d=${p_d}&type=next`,
                "method": "POST"
            }).then(res => res.json()).then(json => json.state == 0 ? null : location.origin + json.url);
        },
        prev: "//a[text()='上集']",
        customTitle: () => fun.title("-漫画DB"),
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
window.parent.postMessage({
    iframePicArr: img_data_arr.map(e => img_host + img_pre + e.img),
    title: document.title.replace("-漫画DB", "")
}, "https://www.manhuadb.com");
               `;
                fun.script(code, 0, 1, doc);
            };
            fun.iframeDoc(nextLink, ".show-pic", 30000, callback);
        },
        category: "comic"
    }, {
        name: "漫画DB",
        reg: () => /www\.manhuadb\.com\/manhua\/\d+\/\w+\.html$/.test(fun.url) && comicInfiniteScrollMode == 1,
        getImgs: (dom = document) => {
            let code = fun.gst("img_data", dom);
            let base64Text = code.slice(16, -2);
            let decodeBase64 = atob(base64Text);
            let imgDataArr = JSON.parse(decodeBase64);
            let vgData = fun.ge(".vg-r-data", dom);
            let imgHost = vgData.dataset.host;
            let imgPre = vgData.dataset.img_pre;
            let srcs = imgDataArr.map(e => imgHost + imgPre + e.img);
            return fun.createImgArray(srcs);
        },
        init: async () => {
            let imgs = siteData.getImgs();
            let tE = fun.ge("#all");
            tE.innerHTML = "";
            tE.append(...imgs);
            await fun.lazyload();
        },
        autoPager: {
            ele: (dom) => siteData.getImgs(dom),
            pos: ["#all", 0],
            observer: "#all>img",
            next: (dom) => {
                let vgData = fun.ge(".vg-r-data", dom);
                let ccid = vgData.dataset.ccid;
                let id = vgData.dataset.id;
                let num = vgData.dataset.num;
                let d = vgData.dataset.d;
                return fetch("/book/goNumPage", {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8"
                    },
                    "body": `ccid=${ccid}&id=${id}&num=${parseInt(num, 10) + 1}&d=${d}&type=next`,
                    "method": "POST"
                }).then(res => res.json()).then(json => json.state == 0 ? null : json.url);
            },
            history: 1,
            aF: () => fun.lazyload(),
            title: (dom) => fun.gt("h1.h2>a", 1, dom) + " - " + fun.gt("h2.h4", 1, dom).replace(/\[|\]/g, "")
        },
        category: "comic autoPager"
    }, {
        name: "快岸漫画",
        host: ["www.ikanbook.net"],
        enable: 0,
        reg: /www\.ikanbook\.net\/comic\/\d+\/\d+/,
        delay: 1000,
        init: "$(document).unbind('keydown');$(document).unbind('keyup');",
        imgs: () => is_refresh == 0 ? x_tokens.map(e => Gm.getImgUrl(comic_id + "/" + version_id + "/" + part_id + "/" + my_sha2(e))) : data.url.map(e => Gm.getImgUrl(e)),
        button: [4],
        insertImg: ["#all", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[text()='下一章' and not(starts-with(@href,'javascript'))]",
        prev: "//a[text()='上一章' and not(starts-with(@href,'javascript'))]",
        customTitle: () => fun.gt("h2.h2>a") + " - " + fun.gt("span.h4:nth-child(5)"),
        //threading: 4,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "樱花漫画",
        host: ["www.yinghuamh.net", "yinghuamh.net"],
        enable: 1,
        reg: /^https?:\/\/(www\.)?yinghuamh\.net\/comic\/\w+\/\d+\/\d+/i,
        delay: 1000,
        init: () => {
            fun.run("$(document).unbind();");
            const toggleToolbar = () => {
                var e = e || window.event;
                if (e.wheelDelta < 0 || e.detail > 0) {
                    fun.ge(".view-title").style.top = "-60px";
                } else {
                    fun.ge(".view-title").style.top = "0px";
                }
            };
            document.addEventListener("wheel", toggleToolbar);
            document.addEventListener("DOMMouseScroll", toggleToolbar);
            const keyToggleToolbar = event => {
                if (["PageDown", "Space", "ArrowDown"].includes(event.code) || ["PageDown", " ", "ArrowDown"].includes(event.key)) {
                    fun.ge(".view-title").style.top = "-60px";
                } else {
                    fun.ge(".view-title").style.top = "0px";
                }
            };
            document.addEventListener("keydown", keyToggleToolbar);
            if (hasTouchEvents) {
                let startY, moveY, Y;
                $("body").on("touchstart", (e) => {
                    startY = e.originalEvent.changedTouches[0].pageY;
                });
                $("body").on("touchmove", (e) => {
                    moveY = e.originalEvent.changedTouches[0].pageY;
                    Y = moveY - startY;
                    if (Y < 0) {
                        fun.ge(".view-title").style.top = "-60px";
                    } else if (Y > 0) {
                        fun.ge(".view-title").style.top = "0px";
                    }
                });
            }
        },
        imgs: () => x_tokens.map(e => Gm.getImgUrl(Gm.fitImgUrl(e))),
        button: [4],
        insertImg: ["#all", 2],
        autoDownload: [0],
        next: "a.next_part:not([href^=java])",
        prev: ".paginationContent>a:first-child:not([href^=java])",
        customTitle: () => comic_name + " - " + part_name,
        preloadNext: async (nextDoc, obj) => {
            const callback = (doc, fun) => {
                const code = `
let text = document.createElement("p");
text.id = "FullPictureLoadReturn";
text.innerText = x_tokens.map(e => Gm.getImgUrl(Gm.fitImgUrl(e))).join("|");
document.body.appendChild(text);
                `;
                fun.script(code, 0, 1, doc);
            };
            let nextIframeDoc = await fun.iframeDoc(nextLink, ".img-fluid:not([src^=data])", 30000, callback);
            let arr = fun.gt("#FullPictureLoadReturn", 1, nextIframeDoc).split("|");
            fun.picPreload(arr, nextIframeDoc.title, "next");
        },
        threading: 4,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "哔哩哔哩漫画",
        host: ["manga.bilibili.com"],
        enable: 1,
        reg: /manga\.bilibili\.com\/mc\d+\/\d+\?from=manga_detail/,
        init: () => setTimeout(() => fun.ge(".load-next-btn").addEventListener("click", () => setTimeout(() => location.reload(), 500)), 1000),
        imgs: async () => {
            let ep_id = siteUrl.split("/").at(-1).match(/\d+/)[0];
            let headers = {
                "content-type": "application/json;charset=UTF-8"
            };
            let imgsRes = await fetch("/twirp/comic.v1.Comic/GetImageIndex?device=pc&platform=web", {
                "headers": headers,
                "body": JSON.stringify({
                    ep_id: `${ep_id}`
                }),
                "method": "POST"
            }).then(res => res.json()).then(json => json.data.images.map(e => e.path));
            return fetch("/twirp/comic.v1.Comic/ImageToken?device=pc&platform=web", {
                "headers": headers,
                "body": JSON.stringify({
                    urls: JSON.stringify(imgsRes)
                }),
                "method": "POST"
            }).then(res => res.json()).then(json => json.data.map(e => `${e.url}?token=${e.token}`));
        },
        insertImg: [".image-list", 2],
        next: ".load-next-btn",
        prev: 1,
        customTitle: async () => {
            await fun.delay(1500, 0);
            return fun.gt(".manga-title") + " - " + fun.gt(".episode");
        },
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "看漫画",
        host: ["www.kanman.com"],
        enable: 0,
        reg: /www\.kanman\.com\/\d+\/[\w-]+\.html/,
        imgs: () => {
            let s = fun.lp.split("/");
            let comic_id = s[1];
            let chapter_newid = s[2].replace(".html", "");
            let api = `/api/getchapterinfov2?product_id=1&productname=kmh&platformname=pc&comic_id=${comic_id}&chapter_newid=${chapter_newid}&isWebp=1&quality=middle`;
            return fetch(api).then(res => res.json()).then(json => json.data.current_chapter.chapter_img_list);
        },
        customTitle: async () => {
            await fun.delay(1500, 0);
            return fun.gt("#crumbComicLink") + " - " + fun.gt(".chapter-title").trim();
        },
        category: "comic"
    }, {
        name: "zero搬运网",
        host: ["www.zerobyw24.com"],
        enable: 0,
        reg: /^https?:\/\/www\.zerobyw\w+\.com\/plugin\.php\?id=\w+&a=read&zjid=\d+/i,
        include: "//script[contains(text(),'listimg')]",
        imgs: () => {
            let code = fun.gst("listimg");
            let arrText = code.match(/listimg[\s=]+([^;]+)/)[1];
            let dataArr = fun.run(arrText);
            return dataArr.map(e => e.file);
        },
        button: [4],
        insertImg: [".uk-alert.uk-alert-danger.uk-text-center,.uk-zjimg", 3],
        autoDownload: [0],
        next: "//a[contains(text(),'下一章')]",
        prev: "//a[contains(text(),'上一章')]",
        customTitle: () => fun.title(" - zero搬运网"),
        category: "comic"
    }, {
        name: "漫蛙", //方向鍵上一章下一章、清除擋廣告警告、向下滾動隱藏工具列、反反偵錯，，下載需先手動觸發全部載入圖片，函式使用到canvas需要繪製過程會有點卡。
        host: ["manwa.me", "manwaqq1.vip"],
        link: "https://fuw11.cc/maKapG",
        enable: 1,
        reg: /(^https?:\/\/manwa\.me|manwaqq1\.vip)\/chapter\/\d+(\?img_host=\d)?$/,
        init: async () => {
            Function.prototype.constructor = () => {};
            //await fun.scrollEles(".img-content img", 200);
            fun.css(".ad-area{opacity:0!important;}#cp_img>.two-ad-area:nth-child(1)>.ad-area,#cp_img>.two-ad-area:nth-child(2){display:none!important}");
            fun.remove(".ad-area,body>div[id]:not([id^='pv-']):not([class^='pv-']):not(.pagetual_tipsWords):not(#comicRead):not(#fab):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(#FullPictureLoadOptions):not(a):not(#FullPictureLoadFixedMenu):not(*[class^=fancybox])", 5000);
            const toggleToolbar = e => {
                if (e.wheelDelta < 0 || e.detail > 0) {
                    $(".view-fix-top-bar").attr("style", "top: -60px;");
                    $(".view-fix-bottom-bar").attr("style", "bottom: -60px;");
                    $(".detail-comment-fix-bottom").hide("fast");
                } else {
                    $(".view-fix-top-bar").attr("style", "top: 0px;");
                    $(".view-fix-bottom-bar").attr("style", "bottom: 0px;");
                    $(".detail-comment-fix-bottom").show("fast");
                }
            };
            document.addEventListener("wheel", toggleToolbar);
            document.addEventListener("DOMMouseScroll", toggleToolbar);
            const keyToggleToolbar = event => {
                if (["PageDown", "Space", "ArrowDown"].includes(event.code) || ["PageDown", " ", "ArrowDown"].includes(event.key)) {
                    $(".view-fix-top-bar").attr("style", "top: -60px;");
                    $(".view-fix-bottom-bar").attr("style", "bottom: -60px;");
                    $(".detail-comment-fix-bottom").hide("fast");
                } else {
                    $(".view-fix-top-bar").attr("style", "top: 0px;");
                    $(".view-fix-bottom-bar").attr("style", "bottom: 0px;");
                    $(".detail-comment-fix-bottom").show("fast");
                }
            };
            document.addEventListener("keydown", keyToggleToolbar);
            if (hasTouchEvents) {
                let startY, moveY, Y;
                $("body").on("touchstart", (e) => {
                    startY = e.originalEvent.changedTouches[0].pageY;
                });
                $("body").on("touchmove", (e) => {
                    moveY = e.originalEvent.changedTouches[0].pageY;
                    Y = moveY - startY;
                    if (Y < 0) {
                        $(".view-fix-top-bar").attr("style", "top: -60px;");
                        $(".view-fix-bottom-bar").attr("style", "bottom: -60px;");
                        $(".detail-comment-fix-bottom").hide("fast");
                    } else if (Y > 0) {
                        $(".view-fix-top-bar").attr("style", "top: 0px;");
                        $(".view-fix-bottom-bar").attr("style", "bottom: 0px;");
                        $(".detail-comment-fix-bottom").show("fast");
                    }
                });
            }
            await fun.waitEle(".content-img.lazy_img[src^=blob]");
            if (autoScrollAllElement === 1) siteData.scrollEle();
        },
        imgs: () => fun.imgBlobArr(".content-img[src^=blob]"),
        scrollEle: () => fun.aotoScrollEles(".img-content .content-img", (img) => /^blob/.test(img.src)),
        next: ".view-fix-bottom-bar-item-menu-next",
        prev: ".view-fix-bottom-bar-item-menu-prev",
        customTitle: () => fun.title("在线阅读", 1),
        css: "body{padding-bottom:0px!important}",
        category: "comic"
    }, {
        name: "漫蛙選目錄展開全部章節",
        host: ["manwa.me"],
        enable: 1,
        icon: 0,
        key: 0,
        reg: /(^https?:\/\/manwa\.me|manwaqq1\.vip)\/book\/\d+$/,
        init: "Function.prototype.constructor=()=>{};titleSelect(this,'#chapter_indexes');charpterMore(this);",
        category: "comic"
    }, {
        name: "漫蛙自動載入更多",
        host: ["manwa.me"],
        enable: 1,
        icon: 0,
        key: 0,
        reg: /(^https?:\/\/manwa\.me|manwaqq1\.vip)\/update$/,
        init: "Function.prototype.constructor=()=>{};",
        observerClick: "#loadMore",
        category: "comic"
    }, {
        name: "開車漫画",
        host: ["18p.fun"],
        enable: 1,
        reg: /^https?:\/\/(www\.)?(18p|gohaveababy|imynest|healthway|beforeout)\.[a-z]{2,5}\/(ForInject\/|Article\/|content\/)/,
        imgs: async () => {
            await fun.waitEle("//script[contains(text(),'_curChap')]");
            if (fun.lh != "18p.fun") {
                location.replace("https://18p.fun/ForInject/Chapter/?id=" + $_curChap.id);
                await fun.delay(3000, 0);
            }
            await fun.getNP("img[data-src].lazy:not(.demo-lazy)", "//a[@data-url and contains(text(),'下一頁')] | //a[@data-url and contains(text(),'下一章')]", null, "div[class^=picnext]");
            return [...fun.gae("img[data-src].lazy:not(.demo-lazy)")];
        },
        insertImg: ["div[class^=pictures]", 3],
        fetch: 1,
        css: "#FullPictureLoadEnd{color:rgb(255, 255, 255)}",
        category: "comic"
    }, {
        name: "開車漫画",
        host: ["18p.fun"],
        enable: 0,
        icon: 0,
        key: 0,
        reg: /^https?:\/\/18p\.fun\//,
        include: ".loadmore>button",
        init: () => fun.addMutationObserver(() => [...gae("img.lazy[src$=svg]")].forEach(img => img.src = img.dataset.src)),
        observerClick: ".loadmore>button",
        openInNewTab: "#itemlist li>a:not([target=_blank])",
        css: ".page{display:none!important}.loadmore{display:block!important}",
        category: "comic"
    }, {
        name: "风之动漫",
        host: ["www.fffdm.com"],
        enable: 1,
        reg: /(www\.fffdm\.com|manhua\.fffdm\.com)\/(manhua\/)?\d+\/[^/]+\/$/i,
        xhr: (lp = new URL(siteUrl).pathname) => {
            let [mhId, mhcId] = lp.split("/").slice(-3);
            let api = `/api/manhua/${mhId}/${mhcId}`;
            return fetch(api).then(res => res.json());
        },
        init: async () => {
            let json = await siteData.xhr();
            debug("\n此頁JSON資料\n", json);
            siteJson = json;

        },
        imgs: async (json = siteJson, msg = null) => {
            let hostArr = ["https://p5.fffdm.live/", "https://p6.fffdm.live/", "https://p1.fffdm.live/"];
            let firstPic = json.cont[0];
            let testArr = hostArr.map(e => e + firstPic);
            let ok = false;
            let host;
            for (let i = 0; i < testArr.length; i++) {
                let obj = await fun.checkImgStatus(testArr[i], msg);
                console.log(`確認圖片[${i}]`, obj);
                if (obj.ok) {
                    ok = true;
                    host = hostArr[i];
                    break;
                }
            }
            return ok ? siteJson.cont.map(e => host + e) : [];
        },
        button: [4],
        insertImg: ["#mh", 2],
        insertImgAF: async () => {
            let url = await siteData.next();
            if (url) {
                let text = `<div style="padding: 36px 0; text-align: center;"><a href="${url}"style="font-size: 26px;line-height: 50px;height: 50px;text-align: center;">點選進入下一話</a></div>`;
                fun.ge("#mh").insertAdjacentHTML("afterend", text);
                fun.ge("#mh+div").addEventListener("click", () => setTimeout(() => location.reload(), 200));
            }

        },
        go: 1,
        next: () => {
            let comicListUrl = decodeURIComponent(siteUrl.replace(/[^\/]+\/$/i, ""));
            let chapter = decodeURIComponent(siteUrl.match(/[^\/]+\/$/)[0]);
            let nextXPath = `//div[@id='content']/li[a[@href='${chapter}']]/preceding-sibling::li[1]/a`;
            return fun.fetchDoc(comicListUrl).then(doc => {
                let next = fun.ge(nextXPath, doc);
                return next ? comicListUrl + next.getAttribute("href") : null;
            });
        },
        prev: 1,
        customTitle: doc => fun.title("第1页", 1, doc),
        preloadNext: async (nextDoc, obj) => {
            let json = await obj.xhr(new URL(nextLink).pathname);
            fun.picPreload(await obj.imgs(json, 0), obj.customTitle(nextDoc), "next");
        },
        fancybox: {
            v: 3,
            insertLibrarys: 1
        },
        category: "comic"
    }, {
        name: "漫画皮",
        host: ["www.iimanhuapi.com", "m.iimanhuapi.com"],
        enable: 1,
        reg: /^https?:\/\/(www|m)\.iimanhuapi\.com\/chapter\/\d+\.html$/i,
        init: "document.onkeydown=null;$('body').unbind();",
        imgs: doc => [...fun.gae("option[jhc-data]", doc)].map(e => e.getAttribute("jhc-data").replace("-mht.middle.webp", "")).map(e => e.replace(new URL(e).protocol, location.protocol)),
        button: [4],
        insertImg: [".mh_list,#content", 2],
        autoDownload: [0],
        next: "//a[text()='下一章'][contains(@href,'chapter')]",
        prev: "//a[text()='上一章'][contains(@href,'chapter')]",
        customTitle: doc => fun.attr("meta[name='keywords']", "content", doc).replace(",", " - "),
        preloadNext: true,
        css: "#prePage,#nextPage,select,.jump-list,.apjg,a[href*=taobao]{display:none!important;}",
        category: "comic"
    }, {
        name: "哈哈漫画",
        host: ["www.hahacomic.com"],
        enable: 1,
        reg: /^https?:\/\/www\.hahacomic\.com\/manhua\/\d+\/\d+\.html/,
        imgs: "img[data-original]",
        button: [4],
        insertImg: [".chapter-images", 2],
        go: 1,
        autoDownload: [0],
        next: "//a[label[text()='下一章'] and not(starts-with(@href,'java'))]",
        prev: "//a[label[text()='上一章'] and not(starts-with(@href,'java'))]",
        preloadNext: async (nextDoc, obj) => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextDoc), nextDoc.title, "next"),
        category: "comic"
    }, {
        name: "哈哈漫画 - 分類自動翻頁",
        host: ["www.hahacomic.com"],
        enable: 1,
        reg: /^https?:\/\/www\.hahacomic\.com\/manhua\/list\.html/,
        autoPager: {
            ele: ".mdui-col-lg-2",
            observer: ".mdui-col-lg-2",
            next: doc => fun.ge("span.current+a", doc) ? siteUrl.replace(/\?page=\d+/, "") + "?page=" + fun.ge("span.current+a", doc).getAttribute("href").match(/\d+/)[0] : null,
            re: ".pages",
            title: doc => "Page " + nextLink.match(/\d+$/)[0],
            history: 1
        },
        openInNewTab: ".mdui-col-lg-2>a",
        category: "autoPager"
    }, {
        name: "爱看漫画",
        host: ["www.yyjj66.com", "m.yyjj66.com"],
        enable: 0,
        reg: /^https?:\/\/(www|m)\.yyjj66\.com\/comic\/[0-9_]+\.html/,
        imgs: ".chapter-content img,.hide-scrollbars img",
        button: [4],
        insertImg: [".chapter-content,.hide-scrollbars", 2],
        go: 1,
        autoDownload: [0],
        next: "//span[starts-with(@class,'next-chapter')]/a[contains(@href,'html')] | //a[p[text()='下一话'] and contains(@href,'html')]",
        prev: "//span[starts-with(@class,'prev-chapter')]/a[contains(@href,'html')] | //a[p[text()='上一话'] and contains(@href,'html')]",
        customTitle: doc => fun.title("-在线", 1, doc),
        preloadNext: true,
        category: "comic"
    }, {
        name: "风车漫画",
        host: ["www.qyy158.com", "m.qyy158.com"],
        enable: 1,
        reg: /^https?:\/\/(www|m)\.qyy158\.com\/info\/\d+\/\d+\.html/,
        imgs: ".chapter-content img,.hide-scrollbars img",
        button: [4],
        insertImg: [".chapter-content,.hide-scrollbars", 2],
        autoDownload: [0],
        next: "//a[span[text()='下一话']] | //a[p[text()='下一话']]",
        prev: "//a[span[text()='上一话']] | //a[p[text()='上一话']]",
        customTitle: () => {
            if (fun.lh == "www.qyy158.com") {
                let s = fun.gt(".header-center").split(" > ");
                return s[1] + " - " + s[2];
            } else {
                let data = JSON.parse(localStorage[localStorage.read_book]);
                return data.articlename + " - " + data.chaptername_read;
            }
        },
        preloadNext: (nextDoc, obj) => fun.picPreload(fun.getImgSrcArr(obj.imgs, nextDoc), nextDoc.title, "next"),
        category: "comic"
    }, {
        name: "轻之国度",
        host: ["www.lightnovel.us"],
        enable: 1,
        reg: /^https?:\/\/www\.lightnovel\.us\/\w+\/detail\/\d+/,
        imgs: ".article-content img",
        button: [4],
        insertImg: [".article-content", 3],
        customTitle: () => fun.gt(".article-title"),
        category: "comic"
    }, {
        name: "idoitmyself.xyz",
        host: ["idoitmyself.xyz"],
        enable: 1,
        reg: /^https?:\/\/idoitmyself\.xyz\/embed\//,
        imgs: () => HTMLImageElementSrcs,
        button: [4],
        insertImg: ["#viewer", 3],
        category: "comic"
    }, {
        name: "微信公众号",
        host: ["mp.weixin.qq.com"],
        enable: 1,
        reg: /^https?:\/\/mp\.weixin\.qq\.com\/[^&]+&mid=\d+/,
        imgs: "img.js_insertlocalimg",
        category: "comic"
    }, {
        name: "虎扑社区",
        host: ["bbs.hupu.com"],
        enable: 1,
        reg: /^https?:\/\/bbs\.hupu\.com\/\d+\.html/,
        init: () => siteJson = JSON.parse(fun.attr("#bbs-admin-main-post-container", "data-admininfo")),
        imgs: () => {
            let data = JSON.parse(siteJson.format);
            if (data.imgList) {
                return data.imgList.map(e => e.remoteUrl);
            } else if (data.jsonV3) {
                return data.jsonV3.content.filter(item => item.type == "image").map(e => e.attrs.src);
            } else {
                return [];
            }
        },
        customTitle: () => siteJson.postTitle,
        category: "comic"
    }, {
        name: "漫畫類 自動展開目錄",
        enable: 1,
        icon: 0,
        key: 0,
        reg: /((mangabz|xmanhua|dm5|1kkk|manben|mkzhan|kumw\d|sumanku)\.com\/[\w-]+\/$)|(m\.dmzj\.com|m\.ymh1234\.com)\/(info|comic)\/\d+\.html$|(dgmanhua|acgud|acgwd|manhua456|mhxin|zuimh|imitui|xlsmh|pinmh|dashumanhua|kukuwumh|mh160|szcdmj|haoman6)\.(com|cc)\/(comic|manhua|manga|kanmanhua|szcbook)\/[\w-]+\/?$|www\.mhua5\.com\/[\w-]+\.html|m\.aiguoman\.com\/comic\/\w+|(www|m)\.77mh\.\w+\/colist_\d+\.html|www\.manhw\.com\/index\.php\/comic\/\w+$/,
        init: async () => {
            if (fun.lh == "m.acgud.com" || fun.lh == "m.acgwd.com") fun.css(".Introduct_Sub{background:url(https://m.idmzj.com/images/int_bg.png)!important;background-size:100% 100%!important}");
        },
        autoClick: "span.more,a.detail-list-form-more,a.detail-list-more,.deatil-list-more>a,.detail-more,.moreChapter,.show-more,a#zhankai,.gengduo_dt1>button,.morechapter>button,.gengduo_dt1>a,.chapterList+.more,li.add,a.extend,a.action-collapse:not(.on),.chapter__more .down,.listmore,.more.chapLiList-cont>a,.m-load-more-sm>a,.more>a,.allmulu,.show-more>a,.morechp,.nnmore>a",
        css: ".comic-info-box+a,.cartoon-introduction.cmg,.cartoon-introduction+a,.msloga,.comic_intro>a,.Introduct+a,[class^='ad']{display:none!important}",
        category: "comic"
    }, {
        name: "94i.in 自動簽到",
        host: ["94i.in"],
        reg: /^https?:\/\/94i\.in\//,
        autoClick: "#pper_a:not([style='display: none;'])",
        category: "none"
    }, {
        name: "Supjav 立即顯示影片縮圖",
        host: ["supjav.com"],
        delay: 300,
        reg: /^https?:\/\/supjav\.com\/(zh\/|ja\/)?\d+\.html/,
        init: async () => {
            let t = fun.ge("title");
            t.innerText = t.innerText.replace(/-\sSupjav.com.+/, "").trim();
            let ele = "#vserver.play-button";
            if (await fun.waitEle(ele)) fun.ge(ele).click();
        },
        category: "none"
    }, {
        name: "ouo.io 自動跳轉",
        host: ["ouo.io"],
        reg: /^https?:\/\/ouo\./,
        init: async () => {
            let ele = "#btn-main:not(.disabled)";
            if (await fun.waitEle(ele)) fun.ge(ele).click();
        },
        category: "none"
    }, {
        name: "cuty.io 自動跳轉",
        host: ["cuty.io"],
        reg: /^https?:\/\/cutt?y\.(io|app)\/\w+/i,
        init: async () => {
            let ele = "//button[@id='submit-button' and text()= 'Continue' or text()= 'I am not a robot' or text()= 'Go ->']";
            if (await fun.waitEle(ele)) fun.ge(ele).click();
        },
        category: "none"
    }, {
        name: "m.4khd.com 自動跳轉",
        host: ["m.4khd.com"],
        reg: /^https?:\/\/m\.4khd\.com\//,
        init: () => location.href = fun.ge("//a[text()='GET LINK']").href,
        category: "none"
    }, {
        name: "4kup.net 自動跳轉",
        host: ["4kup.net"],
        reg: /^https?:\/\/4kup\.net\/getlink\/$/,
        init: async () => {
            let eleArr = ["#output:not([style*=none]) button", "#gotolink:not([disabled])"];
            for (let i in eleArr) {
                await fun.waitEle(eleArr[i]);
                fun.ge(eleArr[i]).click();
                await fun.delay(200);
            }
        },
        category: "none"
    }, {
        name: "Imgasd 自動跳轉",
        reg: /\/blog\/post\d?\?slid=\w+/i,
        init: async () => {
            let ele = "//span[text()='Click here to continue'] | //span[text()='Click here to continue ']";
            setInterval(async () => {
                if (await fun.waitEle(ele)) fun.ge(ele).click();
            }, 1000);
        },
        category: "none"
    }, {
        name: "terabox.fun 自動跳轉",
        host: ["terabox.fun"],
        reg: /^https?:\/\/terabox\.fun\/slmiddlepage\//,
        init: async () => {
            let ele = ".btn.active";
            setInterval(async () => {
                if (await fun.waitEle(ele)) fun.ge(ele).click();
            }, 1000);
        },
        category: "none"
    }, {
        name: "MediaFire 自動下載",
        host: ["www.mediafire.com"],
        reg: /^https?:\/\/www\.mediafire\.com\//,
        autoClick: ".download_link:not(.started) #downloadButton",
        category: "none"
    }, {
        name: "anonfiles 自動下載",
        host: ["anonfiles.com"],
        reg: /^https?:\/\/anonfiles\.com\//,
        autoClick: ["#download-url"],
        category: "none"
    }, {
        name: "letsupload 自動下載",
        host: ["letsupload.cc"],
        reg: /^https?:\/\/letsupload\.cc\//,
        autoClick: ["#download-url"],
        category: "none"
    }, {
        name: "stfly.me 半自動跳轉",
        host: ["stfly.me"],
        reg: () => fun.ge("img[src^='https://stfly.me/']") ? true : false,
        init: async () => {
            if (await fun.waitEle(".btn-captcha:not(.disable)")) setInterval(() => fun.ge(".btn-captcha:not(.disable)").click(), 3000);
        },
        category: "none"
    }, {
        name: "link1s 自動跳轉",
        host: ["link1s.com"],
        reg: () => fun.ge("a.site-logo[href='https://link1s.com/'],a.logo-image[href='https://link1s.com/']") ? true : false,
        init: async () => {
            if (await fun.waitEle("//button[@onclick='link1sgo()'] | //button[@id='link' and contains(@style,'none')] | //a[text()='Get Link']")) fun.ge("//button[@onclick='link1sgo()'] | //a[@id='link1s'] | //a[text()='Get Link']").click();
        },
        category: "none"
    }, {
        name: "Binto.click 自動跳轉",
        host: ["binto.click"],
        reg: () => /^https?:\/\/binto\.click\/\w+$/i.test(siteUrl) && fun.ge("#go-link"),
        init: async () => {
            if (await fun.waitEle("//a[text()='Get Link']")) location.href = fun.ge("//a[text()='Get Link']").href;
        },
        category: "none"
    }, {
        name: "網址清單新分頁開啟",
        host: ["github.com"],
        delay: 1000,
        reg: [
            /github\.com\/skofkyo\/AutoPager\/tree\/main\/CustomPictureDownload/,
            /github\.com\/skofkyo\/AutoPager\/blob\/main\/CustomPictureDownload\/README\.md$/
        ],
        openInNewTab: ".entry-content a[href]:not([target=_blank]):not([id])",
        category: "none"
    }, {
        name: "google search 新分頁開啟",
        reg: /^https?:\/\/(?:www\.)?google\..*\/search/,
        openInNewTab: "//div[@id='center_col']//a[@ping][not(@target)]",
        category: "none"
    }, {
        name: "CivitAi Auto Show NSFW",
        host: ["civitai.com"],
        reg: /^https?:\/\/civitai\.com\//,
        init: async () => {
            await fun.waitEle("img[src*='width='],video[src*='width=']");
            //自動顯示NSFW
            const unBlur = async () => {
                if (/\/posts\/|\/models\//.test(fun.lp)) {
                    try {
                        let ele = [...document.querySelectorAll(".mantine-1t4bhd4")][0];
                        let elePath = ele.querySelector("span>svg>path");
                        if (elePath) {
                            let d = elePath.getAttribute("d");
                            if (d == "M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0") ele.click();
                            await fun.delay(1000, 0);
                        }
                    } catch (e) {}
                }
                [...document.querySelectorAll("button.cursor-pointer")].forEach(ele => {
                    let elePath = ele.querySelector("span>svg>path");
                    if (elePath) {
                        let d = elePath.getAttribute("d");
                        if (d == "M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0") ele.click();
                    }
                });
            };
            fun.addMutationObserver(unBlur);
            //將預覽縮圖替換為原始圖片，延遲載入原始圖片URL，透過腳本管理器選單開啟。
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("img[src*='width=']:not(.mantine-Avatar-image,.mantine-anvagt,.mantine-d881q8,.mantine-cdh9bk,.mantine-qh395j,.mantine-7aj0so[loading],.mantine-34i7e7,.mantine-lrbwmi,.mantine-14evxiu)")].forEach(item => {
                        //console.log(item);
                        if (!/\.mp4/.test(item.dataset.src ?? item.src)) {
                            let thumbnail = item.dataset.src ?? item.src;
                            item.dataset.thumb = thumbnail;
                            item.dataset.url = thumbnail.replace(/width=[\d+\.]\//, ""); //Original Image URL to replace when an error occurs
                            let original = thumbnail.replace(/width=[\d\.]+\//, "original=true/");
                            let imgDir = original.match(/.+\//)[0];
                            if (item.alt != "" && /\.\w+$/.test(item.alt)) original = imgDir + item.alt.trim();
                            item.dataset.src = original;
                            item.src = loading_bak;
                            fun.imagesObserver.observe(item);
                        }
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img[src*=original]:not(.mantine-Avatar-image,.mantine-anvagt,.mantine-d881q8,.mantine-cdh9bk,.mantine-qh395j,.mantine-7aj0so[loading],.mantine-34i7e7,.mantine-lrbwmi,.mantine-14evxiu),img[data-src*=original]:not(.mantine-Avatar-image,.mantine-anvagt,.mantine-d881q8,.mantine-cdh9bk,.mantine-qh395j,.mantine-7aj0so[loading],.mantine-34i7e7,.mantine-lrbwmi,.mantine-14evxiu)",
        css: "img[src^=data]{margin:auto;}img[src*=original]:not(.mantine-Avatar-image,.mantine-anvagt,.mantine-d881q8,.mantine-cdh9bk,.mantine-qh395j,.mantine-34i7e7){margin: 0 auto !important;width:unset !important;height:unset !important;max-width:100% !important;max-height:100% !important;min-width:unset !important;min-height:unset !important}",
        category: "lazyLoad"
    }, {
        name: "LiblibAI",
        host: ["www.liblib.art"],
        reg: /^https?:\/\/www\.liblib\.art\//,
        init: () => {
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("img.bg-lighter:not([data-src])")].forEach(img => {
                        let thumbnail = img.dataset.src ?? img.src;
                        img.dataset.thumb = thumbnail.replace(/\?image_process=.+/, "") + "?image_process=format,webp&x-oss-process=image/resize,w_600,m_lfit/format,webp";
                        let original = thumbnail.replace(/\?image_process=.+/, "");
                        img.dataset.src = original;
                        img.src = thumbnail;
                        fun.imagesObserver.observe(img);
                    });
                    [...document.querySelectorAll(".relative.cursor-pointer>img:not(.rounded-full,[data-src]),div.image-card img.CarouselWrap_imgItem__h90eB:not([data-src])")].forEach(img => {
                        let thumbnail = img.dataset.src ?? img.src;
                        img.dataset.thumb = thumbnail.replace(/\?x-oss-process=image.+/, "") + "?x-oss-process=image/resize,w_600,m_lfit/format,webp";
                        let original = thumbnail.replace(/\?x-oss-process=image.+/, "");
                        img.dataset.src = original;
                        img.src = thumbnail;
                        fun.imagesObserver.observe(img);
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img.bg-lighter[data-src],.relative.cursor-pointer>img[data-src],div.image-card img.CarouselWrap_imgItem__h90eB[data-src]",
        category: "lazyLoad"
    }, {
        name: "Tensor.Art",
        host: ["tensor.art"],
        reg: /^https?:\/\/tensor\.art\//,
        init: () => {
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll(".thumbnail-image.transition-transform>img.w-full.h-full:not([data-src]),.thumbnail-image.cursor-pointer>img.w-full.h-full:not([data-src])")].forEach(img => {
                        let thumbnail = img.dataset.src ?? img.src;
                        let splitArr = thumbnail.split("/");
                        let bigSrc;
                        if (splitArr.length == 9 || splitArr.length == 10) {
                            splitArr[5] = "w=3840";
                            bigSrc = splitArr.join("/");
                        } else {
                            bigSrc = thumbnail;
                        }
                        img.dataset.src = bigSrc;
                        img.src = loading_bak;
                        fun.imagesObserver.observe(img);
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: ".thumbnail-image>img[data-src]",
        css: ".thumbnail-image>img{width:unset !important;height:unset !important;max-width:100% !important;max-height:100% !important;min-width:unset !important;min-height:unset !important;margin:0px auto}",
        category: "lazyLoad"
    }, {
        name: "PixAI",
        host: ["pixai.art"],
        reg: /^https?:\/\/pixai\.art\//,
        init: async () => {
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("img.object-cover[src*='/stillThumb/']:not([data-src])")].forEach(img => {
                        let thumbnail = img.src;
                        img.dataset.thumb = thumbnail;
                        img.dataset.src = thumbnail.replace("/stillThumb/", "/orig/");
                        img.src = loading_bak;
                        fun.imagesObserver.observe(img);
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img.object-contain,a.group img[data-src]",
        css: "a.group img.object-cover{width:unset !important;height:unset !important;max-width:100% !important;max-height:100% !important;min-width:unset !important;min-height:unset !important;margin:0px auto}",
        category: "lazyLoad"
    }, {
        name: "Yodayo",
        host: ["yodayo.com"],
        reg: /^https?:\/\/yodayo\.com\/explore\//,
        init: async () => {
            await fun.waitEle("img[alt='post thumbnail']");
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("img[alt='post thumbnail']:not([data-src])")].forEach(img => {
                        let thumbnail = img.dataset.src ?? img.src;
                        img.dataset.thumb = thumbnail;
                        fun.fetchDoc(img.parentNode.parentNode.href).then(doc => {
                            let original = doc.querySelector(".image-gallery-image").src;
                            img.dataset.src = original;
                            img.src = original;
                        });
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img[alt='post thumbnail'][data-src]",
        category: "lazyLoad"
    }, {
        name: "NightCafe Creator",
        host: ["creator.nightcafe.studio"],
        reg: /^https?:\/\/creator\.nightcafe\.studio\//,
        init: async () => {
            await fun.waitEle("img.css-9whsf3");
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    setTimeout(() => {
                        [...document.querySelectorAll("img.css-9whsf3:not([data-src])")].forEach(img => {
                            let thumbnail = img.dataset.src ?? img.src;
                            img.dataset.thumb = thumbnail;
                            let original = thumbnail.replace(/\?.+$/, "");
                            img.dataset.src = original;
                            img.src = loading_bak;
                            fun.imagesObserver.observe(img);
                        });
                    }, 200)
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img.css-9whsf3[data-src]",
        css: "img.css-9whsf3{width:unset !important;height:unset !important;max-width:100% !important;max-height:100% !important;min-width:unset !important;min-height:unset !important}",
        category: "lazyLoad"
    }, {
        name: "Midjourney",
        host: ["midjourney.com"],
        reg: /^https?:\/\/legacy\.midjourney\.com\//,
        capture: "img[data-job-id]",
        category: "lazyLoad"
    }, {
        name: "neural.love",
        host: ["neural.love"],
        reg: /^https?:\/\/neural\.love\//,
        init: async () => {
            await fun.waitEle("a.shadow.bg-dark,img[src*='cdn/ai-photostoc']");
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("a.shadow.bg-dark:not([data-src]):not([fetch])")].forEach(a => {
                        a.setAttribute("fetch", "fetch");
                        let id = a.href.split("/")[4];
                        let api = `https://saas.neural.love/api/ai-photostock/orders/${id}?id=${id}`;
                        fetch(api).then(res => res.json()).then(json => {
                            let data = json.output[0];
                            let original = data.full ?? data.fullWebp;
                            a.dataset.src = original;
                            a.style.backgroundImage = `url('${original}')`;
                        });
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "a.shadow.bg-dark[data-src],img[src*='cdn/ai-photostoc']",
        category: "lazyLoad"
    }, {
        name: "Playground",
        host: ["playground.com"],
        link: "https://playground.com/feed",
        reg: /^https?:\/\/playground\.com\//,
        init: async () => {
            await fun.waitEle("a.image-card-grid,img[data-testid=image-post-image]");
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = async () => {
                    let postImg = document.querySelector("img[data-testid=image-post-image]");
                    if (postImg) {
                        let original = document.querySelector("meta[property='og:image'][content]").content;
                        postImg.dataset.src = original;
                        fun.imagesObserver.observe(postImg);
                    }
                    let aEles = [...document.querySelectorAll("a.image-card-grid:not([data-src]):not([fetch])")];
                    aEles.forEach(a => a.setAttribute("fetch", "fetch"));
                    aEles.map(async a => {
                        let img = fun.ge("img", a);
                        if (img) {
                            let src = img.src;
                            let testSrc = src.replace(/\.jpe?g$/, ".png");
                            let original = await new Promise((resolve) => {
                                fetch(testSrc, {
                                    method: "HEAD"
                                }).then((res) => {
                                    if (res.status == 200) {
                                        resolve(testSrc);
                                    } else {
                                        resolve(src);
                                    }
                                }).catch((error) => {
                                    resolve(src);
                                });
                            });
                            a.dataset.src = original;
                            img.dataset.src = original;
                            fun.imagesObserver.observe(img);
                        }
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "a.image-card-grid[data-src],img[data-testid=image-post-image][data-src]",
        category: "lazyLoad"
    }, {
        name: "Pornderful.ai",
        host: ["pornderful.ai"],
        reg: /^https?:\/\/pornderful\.ai\//,
        init: async () => {
            await fun.waitEle("a.tw-relative");
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("a.tw-relative:not([data-src]):not([fetch])")].forEach(a => {
                        a.setAttribute("fetch", "fetch");
                        fun.fetchDoc(a.href).then(doc => {
                            let data = JSON.parse(doc.querySelector("generator-v3-component").attributes[0].nodeValue);
                            let original = data.path;
                            a.dataset.src = original;
                            let img = a.querySelector("img");
                            img.dataset.src = original;
                            img.src = loading_bak;
                            fun.imagesObserver.observe(img);
                        });
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "a.tw-relative[data-src]",
        observerClick: "button.tw-mx-auto",
        category: "lazyLoad"
    }, {
        name: "SeaArt AI",
        host: ["www.seaart.ai"],
        reg: /^https?:\/\/www\.seaart\.ai\//,
        init: async () => {
            if (lazyLoadFullResolution == 1) {
                const lazyLoad = () => {
                    [...document.querySelectorAll("img[src*='low.']:not([data-src])")].forEach(img => {
                        let thumbnail = img.dataset.src ?? img.src;
                        img.dataset.thumb = thumbnail;
                        let original = thumbnail.replace("_low.", "_high.");
                        img.dataset.src = original;
                        img.src = loading_bak;
                        fun.imagesObserver.observe(img);
                    });
                };
                fun.addMutationObserver(lazyLoad);
            }
        },
        capture: "img[data-src*='_high.']",
        css: "*{backdrop-filter:unset!important}",
        category: "lazyLoad"
    }];

    const debug = (str, obj = "", title = "debug") => console.log(`%c[Full Picture Load] ${title}:`, "background-color: #C9FFC9;", str, obj);
    const hasTouchEvents = (() => ("ontouchstart" in _unsafeWindow) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0) ? true : false)();
    const isString = str => Object.prototype.toString.call(str) === "[object String]";
    const isNumber = num => Object.prototype.toString.call(num) === "[object Number]";
    const isBoolean = b => Object.prototype.toString.call(b) === "[object Boolean]";
    const isRegExp = reg => Object.prototype.toString.call(reg) === "[object RegExp]";
    const isObject = obj => Object.prototype.toString.call(obj) === "[object Object]";
    const isArray = arr => Object.prototype.toString.call(arr) === "[object Array]";
    const isFn = fn => ["[object Function]", "[object AsyncFunction]"].includes(Object.prototype.toString.call(fn));
    const isPromise = p => Object.prototype.toString.call(p) === "[object Promise]";
    const isEle = e => /^\[object\sHTML[a-zA-Z]*Element\]$/.test(Object.prototype.toString.call(e));
    const _GM_xmlhttpRequest = (() => isFn(GM_xmlhttpRequest) ? GM_xmlhttpRequest : GM.xmlHttpRequest)();
    const _GM_openInTab = (() => isFn(GM_openInTab) ? GM_openInTab : GM.openInTab)();
    const _GM_getValue = (() => isFn(GM_getValue) ? GM_getValue : GM.getValue)();
    const _GM_setValue = (() => isFn(GM_setValue) ? GM_setValue : GM.setValue)();
    const _GM_registerMenuCommand = (() => isFn(GM_registerMenuCommand) ? GM_registerMenuCommand : GM.registerMenuCommand)();
    const _GM_getResourceText = (() => isFn(GM_getResourceText) ? GM_getResourceText : GM.getResourceText)();

    const JqueryJS = GM_getResourceText("JqueryJS");
    const FancyboxV5JS = GM_getResourceText("FancyboxV5JS");
    const FancyboxV5Css = GM_getResourceText("FancyboxV5Css");
    const FancyboxV3JS = GM_getResourceText("FancyboxV3JS");
    const FancyboxV3Css = GM_getResourceText("FancyboxV3Css");
    const ViewerJs = GM_getResourceText("ViewerJs");
    const ViewerJsCss = GM_getResourceText("ViewerJsCss");

    const addLibrarysV3 = async () => {
        try {
            const jsArr = [JqueryJS, FancyboxV3JS];
            for (let i in jsArr) {
                if (siteData.fancybox && siteData.fancybox.js === false) continue;
                fun.script(jsArr[i], 0, 1);
            }
            if (siteData.fancybox && siteData.fancybox.css !== false) {
                fun.css(FancyboxV3Css);
            }
        } catch (error) {
            console.error("\naddLibrarysV3() 注入函式庫失敗", error);
        }
    };

    const addLibrarysV5 = () => {
        try {
            const jsArr = [JqueryJS, FancyboxV5JS];
            for (let i in jsArr) {
                fun.script(jsArr[i], 0, 1);
            }
            fun.css(FancyboxV5Css);
        } catch (error) {
            console.error("\naddLibrarysV5() 注入函式庫失敗", error);
        }
    };

    let FancyboxWheelOptions = _GM_getValue("FancyboxWheelOptions", 0);

    let FancyboxOptions;
    let slideIndex = null;

    if (hasTouchEvents) {
        FancyboxOptions = {
            idle: false,
            Images: {
                Panzoom: {
                    maxScale: 2
                }
            },
            Thumbs: {
                showOnStart: false
            },
            Toolbar: {
                display: {
                    left: ["infobar"],
                    middle: ["flipX", "flipY"],
                    right: [ /*"download", */ "iterateZoom", "slideshow", "thumbs", "close"]
                }
            },
            on: {
                done: (fancybox, slide) => {
                    if (fancybox.isCurrentSlide(slide)) {
                        slideIndex = slide.index;
                        fun.scrollEvent(slideIndex);
                    } else {
                        fun.scrollEvent(fancybox.getSlide().index);
                    }
                },
                close: fancybox => {
                    document.body.classList.remove("imgbox-show");
                    slideIndex = fancybox.getSlide().index;
                    fun.scrollEvent(slideIndex);
                }
            }
        };
    } else {
        FancyboxOptions = {
            idle: false,
            wheel: FancyboxWheelOptions === 0 ? "slide" : "zoom",
            Images: {
                Panzoom: {
                    maxScale: 2
                }
            },
            Thumbs: {
                showOnStart: false
            },
            Toolbar: {
                display: {
                    left: ["infobar"],
                    middle: ["iterateZoom", "toggle1to1", "rotateCCW", "rotateCW", "flipX", "flipY", "fitX", "fitY", "reset"],
                    right: [ /*"download", */ "slideshow", "fullscreen", "thumbs", "close"]
                }
            },
            on: {
                done: (fancybox, slide) => {
                    if (fancybox.isCurrentSlide(slide)) {
                        slideIndex = slide.index;
                        fun.scrollEvent(slideIndex);
                    } else {
                        fun.scrollEvent(fancybox.getSlide().index);
                    }
                },
                close: fancybox => {
                    document.body.classList.remove("imgbox-show");
                    slideIndex = fancybox.getSlide().index;
                    fun.scrollEvent(slideIndex);
                }
            }
        };
    }

    const fancyboxBlackList = () => siteData?.fancybox?.blacklist === 1 ? true : false;

    switch (language) {
        case "zh-TW":
        case "zh-HK":
        case "zh-Hant-TW":
        case "zh-Hant-HK":
            displayLanguage = {
                str_01: "獲取圖片元素中...",
                str_02: "獲取圖片中 ",
                str_03: "獲取圖片逾時",
                str_04: "等待關鍵元素中...",
                str_05: "獲取資料中...",
                str_06: "獲取資料中 ",
                str_07: "確認登錄狀態中...",
                str_08: "獲取預覽圖中...",
                str_09: "獲取最後一張圖...",
                str_10: "是否複製鏈接至剪貼簿？",
                str_11: "已複製鏈接至剪貼簿",
                str_12: "只有複製鏈接功能",
                str_13: "請輸入圖片抓取最大次數",
                str_14: "獲取下一頁中...",
                str_15: "獲取下一頁結束",
                str_16: "獲取元素中...",
                str_17: "獲取元素中 ",
                str_18: "已聚集所有圖片",
                str_19: "用來定位插入的元素不存在",
                str_20: "沒有能插入的圖片",
                str_21: "延遲",
                str_22: "毫秒",
                str_23: "第",
                str_24: "張下載",
                str_25: "完成",
                str_26: "錯誤",
                str_27: "下載失敗了",
                str_28: "張",
                str_29: "\n是否只保存目前下載成功的圖片？\n只要圖片不是100%掛掉，可以F5重新載入後重新下載試試看。",
                str_30: "圖片extension錯誤",
                str_31: "壓縮進度: ",
                str_32: "自動下載倒數",
                str_33: "秒",
                str_34: "nextJS前往下一頁",
                str_35: "已點擊下一頁",
                str_36: "自動下載完畢",
                str_37: "沒有下一頁元素",
                str_38: "返回上一頁",
                str_39: "已點擊上一頁",
                str_40: "沒有上一頁元素",
                str_41: "已取消",
                str_42: "字數小於3已取消",
                str_43: "下載失敗數據為空...",
                str_44: "沒有任何圖片元素...",
                str_45: "網址已複製",
                str_46: "即將進行捲動...",
                str_47: "左鍵：進行下載打包壓縮\n中鍵：匯出網址URLs.txt文件\n右鍵：複製圖片網址和標題或聚集所有圖片",
                str_48: "下載&壓縮中請稍後再操作！",
                str_49: "獲取圖片中請稍後再操作！",
                str_50: "",
                str_51: "請輸入自訂壓縮檔資料夾名稱",
                str_52: "聚圖數量",
                str_53: "圖片繪製中...",
                str_54: "403，未登錄網站?",
                str_55: "下載載入中...",
                str_56: "確認圖片狀態中...",
                str_57: "自動翻頁載入中...",
                str_58: "已到達最後一頁",
                str_59: "沒有任何主體元素",
                str_60: "圖片縮放",
                str_61: "取消縮放",
                str_62: "前往第一張圖",
                str_63: "左鍵：前往最後一張圖\n右鍵：匯出網址URLs.txt文件",
                str_64: "即將開始自動下載!!!",
                str_65: "已停止自動下載!!!",
                str_66: "💬 反饋",
                str_67: "設定",
                str_68: "當前(※全局)網站 Full Picture Load 選項",
                str_69: "顯示左下圖示按鈕",
                str_70: "最大下載線程數 ( 1 ~ 32 )：",
                str_71: "下載後壓縮打包",
                str_72: "壓縮檔副檔名 ( zip 或 cbz )：",
                str_73: "自動下載",
                str_74: " ( 快捷鍵 [ ctrl + . ] 開始或取消 )",
                str_75: "自動下載倒數秒數：",
                str_76: "啟用當前漫畫站點規則",
                str_77: "移動裝置雙擊前往下一頁",
                str_78: "Fancybox燈箱功能",
                str_79: "圖片縮放比例 ( 0 ~ 10 )：",
                str_80: "圖片並排數量 ( 2 ~ 6 )：",
                str_81: "comic類固定為2，comic類並排後為右至左的漫讀模式，hcomic類也設定為2將套用。",
                str_82: hasTouchEvents ? "取消" : "取消 (Esc)",
                str_83: "重置設定",
                str_84: "保存設定",
                str_85: hasTouchEvents ? "腳本選項" : "腳本選項(*)",
                str_86: hasTouchEvents ? "切換模式" : "切換模式(5)",
                str_87: hasTouchEvents ? "比例縮放" : "比例縮放(-+)",
                str_88: hasTouchEvents ? "取消縮放" : "取消縮放(.)",
                str_89: "暫停自動翻頁",
                str_90: "啟用自動翻頁",
                str_91: "初始化設定",
                str_92: "原始模式",
                str_93: "並排模式",
                str_94: "返回開頭了",
                str_95: "前往下一集",
                str_96: "已是最後下一集",
                str_97: "共",
                str_98: "頁獲取出錯，建議反饋",
                str_99: "重試第",
                str_100: "次",
                str_101: "網址.txt已匯出",
                str_102: "格式轉換中...",
                str_103: "啟用並排模式",
                str_104: hasTouchEvents ? "匯出圖址" : "匯出圖址(7)",
                str_105: hasTouchEvents ? "複製圖址" : "複製圖址(1)",
                str_106: hasTouchEvents ? "分頁檢視" : "分頁檢視(8)",
                str_107: hasTouchEvents ? "一鍵下載" : "一鍵下載(3)",
                str_108: "※訊息顯示的位置 ( 0 ~ 4 )：",
                str_109: "0：置中、1：左上、2：右上、3：左下、4：右下",
                str_110: "※Webp轉換為Jpg",
                str_111: "惰性載入大圖",
                str_112: "惰性載入單欄布局",
                str_113: "惰性載入預讀大圖",
                str_114: "E/EX-HENTAI 載入原始圖片鏈結",
                str_115: "關閉自動捲動至首張圖片",
                str_116: "自動捲動所有惰性載入的圖片元素",
                str_117: "顯示浮動選單",
                str_118: "圖集標題已更新",
                str_119: "FancyboxV5滾輪圖片縮放",
                str_120: "此網站分頁檢視使用ViewerJs插件",
                str_121: "關閉圖片導覽快速鍵",
                str_122: "漫畫站使用無限滾動閱讀模式"
            };
            break;
        case "zh":
        case "zh-CN":
        case "zh-Hans-CN":
            displayLanguage = {
                str_01: "获取图片元素中...",
                str_02: "获取图片中 ",
                str_03: "获取图片逾时",
                str_04: "等待关键元素中...",
                str_05: "获取数据中...",
                str_06: "获取数据中 ",
                str_07: "确认登录状态中...",
                str_08: "获取预览图中...",
                str_09: "获取最后一张图...",
                str_10: "是否拷贝链接至剪贴板？",
                str_11: "已拷贝链接至剪贴板",
                str_12: "只有拷贝链接功能",
                str_13: "请输入图片抓取最大次数",
                str_14: "获取下一页中...",
                str_15: "获取下一页结束",
                str_16: "获取元素中...",
                str_17: "获取元素中 ",
                str_18: "已聚集所有图片",
                str_19: "用来定位插入的元素不存在",
                str_20: "没有能插入的图片",
                str_21: "延迟",
                str_22: "毫秒",
                str_23: "第",
                str_24: "张下载",
                str_25: "完成",
                str_26: "错误",
                str_27: "下载失败了",
                str_28: "张",
                str_29: "\n是否只保存目前下载成功的图片？\n只要图片不是100%挂掉，可以F5重新加载后重新下载试试看。",
                str_30: "图片extension错误",
                str_31: "压缩进度: ",
                str_32: "自动下载倒数",
                str_33: "秒",
                str_34: "nextJS前往下一页",
                str_35: "已点击下一页",
                str_36: "自动下载完毕",
                str_37: "没有下一页元素",
                str_38: "返回上一页",
                str_39: "已点击上一页",
                str_40: "没有上一页元素",
                str_41: "已取消",
                str_42: "字数小于3已取消",
                str_43: "下载失败数据为空...",
                str_44: "没有任何图片元素...",
                str_45: "网址已拷贝",
                str_46: "即将进行滚动...",
                str_47: "左键：进行下载打包压缩\n中键：导出网址URLs.txt文档\n右键：拷贝图片网址和标题或聚集所有图片",
                str_48: "下载&压缩中请稍后再操作！",
                str_49: "获取图片中请稍后再操作！",
                str_50: "",
                str_51: "请输入自定义压缩档文件夹名称",
                str_52: "聚图数量",
                str_53: "图片绘制中...",
                str_54: "403，未登录网站?",
                str_55: "下载加载中...",
                str_56: "确认图片状态中...",
                str_57: "自动翻页加载中...",
                str_58: "已到达最后一页",
                str_59: "没有任何主体元素",
                str_60: "图片缩放",
                str_61: "取消缩放",
                str_62: "前往第一张图",
                str_63: "左键：前往最后一张图\n右键：导出网址URLs.txt文档",
                str_64: "即将开始自动下载!!!",
                str_65: "已停止自动下载!!!",
                str_66: "💬 反馈",
                str_67: "设置",
                str_68: "当前(※全局)网站 Full Picture Load 设置",
                str_69: "显示左下图标按钮",
                str_70: "下载后最大下载线程数 ( 1 ~ 32 )：",
                str_71: "压缩打包",
                str_72: "压缩档文件扩展名 ( zip 或 cbz )：",
                str_73: "自动下载",
                str_74: " ( 快捷键 [ ctrl + . ] 开始或取消 )",
                str_75: "自动下载倒数秒数：",
                str_76: "启用当前漫画站点规则",
                str_77: "移动设备双击前往下一页",
                str_78: "Fancybox灯箱功能",
                str_79: "图片缩放比例 ( 0 ~ 10 )：",
                str_80: "图片并排数量 ( 2 ~ 6 )：",
                str_81: "comic类固定为2，comic类并排后为右至左的漫读模式，hcomic类也设置为2将套用。",
                str_82: hasTouchEvents ? "取消" : "取消 (Esc)",
                str_83: "重置设置",
                str_84: "保存设置",
                str_85: hasTouchEvents ? "脚本设置" : "脚本设置(*)",
                str_86: hasTouchEvents ? "切换模式" : "切换模式(5)",
                str_87: hasTouchEvents ? "比例缩放" : "比例缩放(-+)",
                str_88: hasTouchEvents ? "取消缩放" : "取消缩放(.)",
                str_89: "暂停自动翻页",
                str_90: "启用自动翻页",
                str_91: "初始化设置",
                str_92: "原始模式",
                str_93: "并排模式",
                str_94: "返回开头了",
                str_95: "前往下一集",
                str_96: "已是最后下一集",
                str_97: "共",
                str_98: "页获取出错，建议反馈",
                str_99: "重试第",
                str_100: "次",
                str_101: "网址.txt已导出",
                str_102: "格式转换中...",
                str_103: "启用并排模式",
                str_104: hasTouchEvents ? "导出图址" : "导出图址(7)",
                str_105: hasTouchEvents ? "拷贝图址" : "拷贝图址(1)",
                str_106: hasTouchEvents ? "分页视图" : "分页视图(8)",
                str_107: hasTouchEvents ? "一键下载" : "一键下载(3)",
                str_108: "※讯息显示的位置 ( 0 ~ 4 )：",
                str_109: "0：置中、1：左上、2：右上、3：左下、4：右下",
                str_110: "※Webp转换为Jpg",
                str_111: "懒加载大图",
                str_112: "懒加载单栏布局",
                str_113: "懒加载预读大图",
                str_114: "E/EX-HENTAI 加载原始图片链结",
                str_115: "关闭自动滚动至首张图片",
                str_116: "自动滚动所有懒加载的图片元素",
                str_117: "显示浮动菜单",
                str_118: "图集标题已更新",
                str_119: "FancyboxV5滚轮图片缩放",
                str_120: "此网站分页视图使用ViewerJs插件",
                str_121: "关闭图片导览快捷键",
                str_122: "漫画站使用无限滚动阅读模式"
            };
            break;
        default:
            displayLanguage = {
                str_01: "Get Element...",
                str_02: "Get Element ",
                str_03: "Get timed out",
                str_04: "Wait Element...",
                str_05: "Get Data...",
                str_06: "Get Data ",
                str_07: "Confirm Login Status",
                str_08: "Get Preview Thumbnail",
                str_09: "Get Element...",
                str_10: "Whether To Copy Link To Clipboard?",
                str_11: "Copied",
                str_12: "Only Link Can Be Copied",
                str_13: "Please Enter The Number Of Pictures",
                str_14: "Get Next Page...",
                str_15: "Get Next Page End",
                str_16: "Get Element...",
                str_17: "Get Element ",
                str_18: "All Pictures Gathered",
                str_19: "Element Does Not Exist",
                str_20: "No Pictures",
                str_21: "Delay",
                str_22: "ms",
                str_23: "No. ",
                str_24: " Download ",
                str_25: "Completed",
                str_26: "Error",
                str_27: "Download Failed",
                str_28: "P",
                str_29: "\nDo you want to save only the pictures that have been successfully downloaded so far?\nAs long as the image is not 100% dead, you can reload it with F5 and try downloading it again.",
                str_30: "Image Extension Error",
                str_31: "Compression Progress: ",
                str_32: "Countdown ",
                str_33: " sec",
                str_34: "JS Go To Next Page",
                str_35: "Next Page Clicked",
                str_36: "AutoDownload Completed",
                str_37: "No Next Page Element",
                str_38: "Return To Previous Page",
                str_39: "Previous Page Clicked",
                str_40: "No Previous Page Element",
                str_41: "Cancelled",
                str_42: "Cancelled",
                str_43: "Download Failed Data Is Empty",
                str_44: "No Picture Element",
                str_45: "URLs Copied ",
                str_46: "About To Scroll...",
                str_47: "Left Click：Download And Compress\nMiddle Click：Export URLs.txt\nLeft Click：Copy Image URL And Title Or Aggregate Images",
                str_48: "Downloading & Compressing, Please Try Again Later!",
                str_49: "Get Pictureing Please Try Again Later!",
                str_50: "",
                str_51: "Please Enter A Custom zip File Folder Name",
                str_52: "Number Of Pictures",
                str_53: "Picture Drawing...",
                str_54: "403，Not Logged In To Website?",
                str_55: "Download Loading...",
                str_56: "Check Picture Statusing...",
                str_57: "AutoPager Loading...",
                str_58: "Reached The Last Page",
                str_59: "No Main Element",
                str_60: "Image Zoom",
                str_61: "Cancel Eoom",
                str_62: "Go To First Image",
                str_63: "Left Click：Go To Last Image\nLeft Click：Export URLs.txt",
                str_64: "Start AutoDownload!!!",
                str_65: "Stop AutoDownload!!!",
                str_66: "💬 Feedback",
                str_67: "Settings",
                str_68: "Current(※Global) Website Full Picture Load Options",
                str_69: "Show Lower Left Icon Button",
                str_70: "Max Download Thread ( 1 ~ 32 )：",
                str_71: "Compressed Packaging",
                str_72: "Compressed File Extension(zip or cbz)：",
                str_73: "AutoDownload",
                str_74: " ( [ ctrl + . ] Start or Cancel)",
                str_75: "AutoDownload Countdown Sec：",
                str_76: "Comic Site Rules Switch",
                str_77: "Double Click Go To Next Page",
                str_78: "Fancybox Plugin",
                str_79: "Image Zoom Ratio ( 0 ~ 10 )：",
                str_80: "Number Of Images Side By Side ( 2 ~ 6 )：",
                str_81: "Comic Category Fixed To 2",
                str_82: hasTouchEvents ? "Cancel" : "Cancel (Esc)",
                str_83: "Reset",
                str_84: "Save",
                str_85: hasTouchEvents ? "Settings" : "Settings(*)",
                str_86: hasTouchEvents ? "Toggle" : "Toggle(5)",
                str_87: hasTouchEvents ? "Zoom" : "Zoom(-+)",
                str_88: hasTouchEvents ? "Cancel" : "Cancel(.)",
                str_89: "Pause Automatic Page Turning",
                str_90: "Enable Automatic Page Turning",
                str_91: "Initialization Settings",
                str_92: "Original Mode",
                str_93: "Side-By-Side Mode",
                str_94: "Back To The Beginning",
                str_95: "Go To Next Episode",
                str_96: "It’s The Last Episode",
                str_97: "Have",
                str_98: "Page Fetch Error Please Feedback",
                str_99: "Retry No.",
                str_100: "Bout",
                str_101: "MediaURLs.txt Exported",
                str_102: "Format Converting",
                str_103: "Enable Side-By-Side Mode",
                str_104: hasTouchEvents ? "Export" : "Export URLs(7)",
                str_105: hasTouchEvents ? "Copy" : "Copy URLs(1)",
                str_106: hasTouchEvents ? "TabView" : "New Tab View(8)",
                str_107: hasTouchEvents ? "Download" : "Fast Download(3)",
                str_108: "※Where the message appears ( 0 ~ 4 )：",
                str_109: "0: Center, 1: Upper left, 2: Upper right, 3: Lower left, 4: Lower right",
                str_110: "※Convert Webp to Jpg",
                str_111: "Lazy Load Full Resolution",
                str_112: "Lazy Load Single Column Layout",
                str_113: "Lazy Load Preload Images",
                str_114: "E/EX-HENTAI Load Original Image",
                str_115: "Turn Off Auto Scroll To First Image",
                str_116: "Auto Scroll All Image Elements",
                str_117: "Show Fixed Menu",
                str_118: "Album title has been updated",
                str_119: "FancyboxV5 Wheel Toggle Zoom",
                str_120: "This Website New Tab View uses ViewerJs Plug-in",
                str_121: "Turn Off Image Navigation Shortcut Keys",
                str_122: "Infinite Scroll Read Mode"
            };
            break;
    }

    _GM_registerMenuCommand(displayLanguage.str_66, () => _GM_openInTab("https://greasyfork.org/scripts/463305/feedback"));
    _GM_registerMenuCommand("Github README.md", () => _GM_openInTab("https://github.com/skofkyo/AutoPager/blob/main/CustomPictureDownload/README.md"));

    const fun = {
        url: (() => siteUrl)(),
        lo: (() => _unsafeWindow.location.origin)(),
        lp: (() => _unsafeWindow.location.pathname)(),
        lh: (() => _unsafeWindow.location.hostname)(),
        ls: (() => _unsafeWindow.location.search)(),
        indexOf: (obj, str) => obj.indexOf(str) > -1,
        getModeUrl: (url, mode, i) => {
            //【.html ==> .html?page=2】第一頁 ==> 第二頁
            //【 ==> ?page=2】第一頁 ==> 第二頁
            if (mode === 1) return url.replace(/\?page=\d+$/, "") + "?page=" + i;
            //【.html ==> /2.html】 第一頁 ==> 第二頁
            if (mode === 2) return url.slice(0, -5) + "/" + i + ".html";
            //【.html ==> _1.html】  第一頁 ==> 第二頁
            //return siteUrl.replace(/(_\d+)?\.html$/, "") + "_" + (i - 1) + ".html";
            if (mode === 3) return url.replace(/\.html$/, "") + "_" + (i - 1) + ".html";
            //【/ ==> /2/】  第一頁 ==> 第二頁
            if (mode === 4) return url.slice(0, -1) + "/" + i + "/";
            //【 ==> /2】  第一頁 ==> 第二頁
            if (mode === "4") return url + "/" + i;
            //【.html ==> -2.html】  第一頁 ==> 第二頁
            if (mode === 5) return url.replace(/\.html$/, "") + "-" + i + ".html";
            //【-1.html ==> -2.html】  第一頁 ==> 第二頁
            if (mode === "5") return url.replace(/(-\d+)?\.html$/, "") + "-" + i + ".html";
            //【?p=1 ==> ?p=2】  第一頁 ==> 第二頁
            if (mode === 6) return url.replace(/\?p=\d+$/, "") + "?p=" + i;
            //【/1 ==> /2】  第一頁 ==> 第二頁
            //【.html ==> .html/2】  第一頁 ==> 第二頁
            if (mode === 7) return url.replace(/(\.html).*$/, "$1").replace(/\/\d+$/, "") + "/" + i;
            //【 ==> &page=1】  第一頁 ==> 第二頁
            if (mode === 8) return url.replace(/&page=\d+$/, "") + "&page=" + (i - 1);
            //【 ==> &page=2】  第一頁 ==> 第二頁
            if (mode === "8") return url.replace(/&page=\d+$/, "") + "&page=" + i;
            //【.html ==> _2.html】  第一頁 ==> 第二頁
            if (mode === 9) return url.replace(/(_\d+)?\.html$/, "") + "_" + i + ".html";
            //【.html ==> .html/2】  第一頁 ==> 第二頁
            if (mode === 10) return url.replace(/\.html(\/\d+)?$/, "") + ".html/" + i;
            //【/ ==> /2.html】  第一頁 ==> 第二頁
            //【/1.html ==> /2.html】  第一頁 ==> 第二頁
            if (mode === 11) return url.replace(/\/(\d+\.html)?$/, "") + "/" + i + ".html";
            //【/ ==> /2.htm】  第一頁 ==> 第二頁
            //【/1.htm ==> /2.htm】  第一頁 ==> 第二頁
            if (mode === 12) return url.replace(/\/(\d+\.htm)?$/, "") + "/" + i + ".htm";
            //【-1-* ==> -2-*】  第一頁 ==> 第二頁
            if (mode === 13) return url.replace(/-\d+-[^-]+$/, "") + "-" + i;
            //【/1/ ==> /2/】  第一頁 ==> 第二頁
            if (mode === 14) return url.replace(/\/\d+\/$/, "") + "/" + i + "/";
            //【/index.html ==> /index_2.html】  第一頁 ==> 第二頁
            if (mode === 15) return url.replace(/\/(index(_\d+)?\.html)?$/, "") + "/index_" + i + ".html";
            //【 ==> /2#list】  第一頁 ==> 第二頁
            if (mode === 16) return url.replace(/\/(index(_\d+)?\.html)?$/, "") + "/" + i + "#list";
            //【.htm ==> _2.htm】  第一頁 ==> 第二頁
            if (mode === 17) return url.replace(/#$/, "").replace(/(_\d+)?\.htm$/, "") + "_" + i + ".htm";
            //【/ ==> /page/2/】  第一頁 ==> 第二頁
            if (mode === 18) return url.replace(/\/(page\/\d+\/)?$/, "") + "/page/" + i + "/";
            //【-1 ==> -2】  第一頁 ==> 第二頁
            if (mode === 19) return url.replace(/-\d+$/, "") + "-" + i;
            //【 ==> -p-2】  第一頁 ==> 第二頁
            if (mode === 20) return url.replace(/-p-\d+$/, "") + "-p-" + i;
        },
        retryUrl: async (url, res, fn, retryCount = 10) => {
            debug(`\n${fn}連線錯誤碼：${res.status}\n`, url);
            let retryNum = 1;
            let obj = {
                fn: fn,
                url: url,
                status: res.status
            };
            debug(`\n${fn}連線錯誤碼：${res.status}重試第${retryNum}次\n`, url);
            let retry = await new Promise(async resolve => {
                for (let check = 1; check <= retryCount; check++) {
                    let checkRes = await fetch(url);
                    if (checkRes.status == 304 || checkRes.status == 200) {
                        let buffer = await checkRes.arrayBuffer();
                        resolve({
                            ok: true,
                            buffer: buffer
                        });
                        break;
                    } else {
                        debug(`\n${fn}連線錯誤碼：${checkRes.status}重試第${retryNum += 1}次\n`, url);
                        await fun.delay(3000, 0);
                    }
                    if (check >= retryCount) {
                        resolve({
                            ok: false
                        });
                    }
                }
            });
            if (retry.ok) {
                return retry.buffer;
            } else {
                fetchErrorArray.push(obj);
                return null;
            }
        },
        fetchErrorMsg: () => {
            if (fetchErrorArray.length > 0) {
                debug(`\nfetchErrorArray\n`, fetchErrorArray);
                setTimeout(() => fun.showMsg(`${displayLanguage.str_97}${fetchErrorArray.length}${displayLanguage.str_98}`, 10000), 1500);
            }
        },
        getImg: async (img, maxPage = 1, mode = 1, rText = null, time = 50, url = siteUrl, msg = 1, request = 0) => {
            if (fun.ge(".FullPictureLoadImage") && request == 0) return [...fun.gae(".FullPictureLoadImage:not(.small)")];
            isFetching = true;
            if (!getImgFn.includes("getImg()")) getImgFn += " > fun.getImg()";
            if (msg == 1) fun.showMsg(displayLanguage.str_01, 0);
            let imgsArray = [];
            let fetchNum = 0;
            const html = _url => fetch(_url).then(async res => {
                debug(`\nfun.getImg() URL`, _url);
                if (res.status >= 400) {
                    let resData = await fun.retryUrl(_url, res, "fun.getImg()");
                    if (resData !== null) return resData;
                }
                return res.arrayBuffer();
            }).then(buffer => {
                const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                const htmlText = decoder.decode(buffer);
                if (msg == 1) fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${parseInt(maxPage, 10)}`, 0);
                return htmlText;
            }).catch(error => {
                console.error(`\nfun.getImg() > fetch()出錯:\n${decodeURIComponent(_url)}`, error);
            });
            const resArr = [];
            resArr.push(html(url));
            if (parseInt(maxPage, 10) > 1) {
                for (let i = 2; i <= parseInt(maxPage, 10); i++) {
                    resArr.push(html(fun.getModeUrl(url, mode, i)));
                    await fun.delay(time, 0);
                }
            }
            await Promise.all(resArr).then(htmls => {
                isFetching = false;
                if (msg == 1) fun.hideMsg();
                for (let i = 0; i < htmls.length; i++) {
                    let doc = fun.doc(htmls[i]);
                    let imgs = [...fun.gae(img, doc)];
                    //debug(`\nfun.getImg() DOM${i}`, doc);
                    for (let p = 0; p < imgs.length; p++) {
                        let check = fun.checkImgSrc(imgs[p], rText);
                        check.ok ? imgsArray.push(decodeURIComponent(check.src)) : debug(`\nfun.getImg() imgs[${p}]錯誤`, imgs[p]);
                    }
                }
            });
            fun.fetchErrorMsg();
            return imgsArray;
        },
        getImgO: async (img, maxPage = 1, mode = 1, rText = null, time = 200, replaceElement = null, url = siteUrl, msg = 1, request = 0) => {
            if (fun.ge(".FullPictureLoadImage") && request == 0) return [...fun.gae(".FullPictureLoadImage:not(.small)")];
            isFetching = true;
            if (!getImgFn.includes("getImgO()")) getImgFn += " > fun.getImgO()";
            if (msg == 1) fun.showMsg(displayLanguage.str_01, 0);
            let imgsArray = [];
            let fetchNum = 0;
            const html = async (_url, id = 1) => {
                await fun.delay(time, 0);
                return fetch(_url).then(async res => {
                    debug(`\nfun.getImgO() URL`, _url);
                    if (res.status >= 400) {
                        let resData = await fun.retryUrl(_url, res, "fun.getImgO()");
                        if (resData !== null) return resData;
                    }
                    return res.arrayBuffer();
                }).then(buffer => {
                    const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                    const htmlText = decoder.decode(buffer);
                    let doc = fun.doc(htmlText);
                    [...fun.gae(img, doc)].forEach(ele => {
                        let check = fun.checkImgSrc(ele);
                        if (ele.tagName == "IMG" && check.ok) ele.src = check.src;
                        if (id == 1) {
                            let targetEle = [...fun.gae(img)].at(-1);
                            targetEle.parentNode.insertBefore(ele.cloneNode(true), targetEle.nextSibling);
                        }
                    });
                    if (isString(replaceElement)) {
                        [...fun.gae(".invisible", doc)].forEach(ele => ele.classList.remove("invisible"));
                        let currentPageEles = [...fun.gae(replaceElement)];
                        let nextPageEles = [...fun.gae(replaceElement, doc)];
                        if (currentPageEles.length === nextPageEles.length) {
                            for (let i in currentPageEles) {
                                currentPageEles[i].outerHTML = nextPageEles[i].outerHTML;
                            }
                        }
                    }
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${parseInt(maxPage, 10)}`, 0);
                    return htmlText;
                }).catch(error => {
                    console.error(`\nfun.getImgO() > fetch()出錯:\n${decodeURIComponent(_url)}`, error);
                });
            };
            const resArr = [];
            resArr.push(await html(url, 0));
            if (parseInt(maxPage, 10) > 1) {
                for (let i = 2; i <= parseInt(maxPage, 10); i++) {
                    resArr.push(await html(fun.getModeUrl(url, mode, i)));
                }
            }
            await Promise.all(resArr).then(htmls => {
                isFetching = false;
                fun.hideMsg();
                for (let i = 0; i < htmls.length; i++) {
                    let doc = fun.doc(htmls[i]);
                    let imgs = [...fun.gae(img, doc)];
                    //debug(`\nfun.getImgO() DOM${i}`, doc);
                    for (let p = 0; p < imgs.length; p++) {
                        let check = fun.checkImgSrc(imgs[p], rText);
                        check.ok ? imgsArray.push(decodeURIComponent(check.src)) : debug(`\nfun.getImgO() imgs[${p}]錯誤`, imgs[p]);
                    }
                }
            });
            fun.fetchErrorMsg();
            return imgsArray;
        },
        getImgIframe: async (img, maxPage = 1, mode = 1, rEle = null, time = 500, showMsg = 1) => {
            if (fun.ge(".FullPictureLoadImage")) return [...fun.gae(".FullPictureLoadImage:not(.small)")];
            isFetching = true;
            if (!getImgFn.includes("getImgIframe()")) getImgFn += " > fun.getImgIframe()";
            if (showMsg == 1) fun.showMsg(displayLanguage.str_01, 0);
            let imgsArray = [];
            let fetchNum = 1;
            await fun.waitEle(img);
            [...fun.gae(img)].forEach(ele => imgsArray.push(ele));
            const html = async (url, index = 0) => {
                let targetEle = [...fun.gae(img)].at(-1);
                let load = document.createElement("p");
                load.className = "FullPictureLoadLoading";
                load.innerText = "Loading...";
                targetEle.parentNode.insertBefore(load, targetEle.nextSibling);
                await fun.delay(time, 0);
                let doc = null;
                for (let i = 1; i < 20; i++) {
                    doc = await fun.iframeSrcDoc(url, img);
                    if (doc !== null) {
                        break;
                    } else {
                        fun.remove("#FullPictureLoadIframe");
                    }
                }
                if (doc) {
                    debug("iframeDoc" + index, doc);
                    [...fun.gae(img, doc)].forEach(ele => {
                        imgsArray.push(ele);
                        targetEle.parentNode.insertBefore(ele.cloneNode(true), targetEle.nextSibling);
                    });
                    if (rEle) {
                        let ces = [...fun.gae(rEle)];
                        let nes = [...fun.gae(rEle, doc)];
                        if (ces.length === nes.length) {
                            for (let i in ces) {
                                ces[i].outerHTML = nes[i].outerHTML;
                            }
                        }
                    }
                    load.remove();
                    if (showMsg == 1) fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${parseInt(maxPage, 10)}`, 0);
                } else {
                    fetchNum += 1;
                    load.remove();
                    let obj = {
                        fn: "fun.getImgIframe()",
                        url: url
                    };
                    fetchErrorArray.push(obj);
                    fun.showMsg(displayLanguage.str_03, 3000);
                    return;
                }
            }
            if (parseInt(maxPage, 10) > 1) {
                for (let i = 2; i <= parseInt(maxPage, 10); i++) {
                    await html(fun.getModeUrl(siteUrl, mode, i), i);
                }
            }
            debug("\nfun.getImgiframe() 聚集的所有IMG", imgsArray);
            isFetching = false;
            fun.hideMsg();
            fun.fetchErrorMsg();
            return imgsArray;
        },
        getImgA: async (elementSelector, link, mode = 0, rText = null, showMsg = 1, request = 0) => { //從指定的所有鏈接抓圖片
            if (fun.ge(".FullPictureLoadImage") && request == 0) return [...fun.gae(".FullPictureLoadImage:not(.small)")];
            isFetching = true;
            if (!getImgFn.includes("getImgA()")) getImgFn += " > fun.getImgA()";
            if (showMsg == 1) fun.showMsg(displayLanguage.str_01, 0);
            let links, linkEles, linksNum;
            if (isFn(link)) {
                links = await link();
                linksNum = links.length;
            } else if (isArray(link)) {
                links = link;
                linksNum = links.length;
            } else if (isString(link)) {
                linkEles = [...fun.gae(link)];
                links = [...new Set(linkEles.map(a => a.href))];
                linksNum = parseInt(links.length, 10) + 1;
            } else {
                console.error("\nfun.getImgA() link參數錯誤");
                return;
            }
            debug("\nfun.getImgA() links", links);
            let imgsArray = [];
            let fetchNum = 0;
            const html = url => fetch(url).then(async res => {
                debug(`\nfun.getImgA() URL`, url);
                if (res.status >= 400) {
                    let resData = await fun.retryUrl(url, res, "fun.getImgA()");
                    if (resData !== null) return resData;
                }
                return res.arrayBuffer();
            }).then(buffer => {
                if (showMsg == 1) fun.showMsg(`${displayLanguage.str_02}${fetchNum+=1}/${linksNum}`, 0);
                const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                const htmlText = decoder.decode(buffer);
                return htmlText;
            }).catch(error => {
                console.error(`\nfun.getImgA fetch()出錯:\n${decodeURIComponent(url)}`, error);
            });
            const resArr = [];
            if (isString(link)) resArr.push(html(siteUrl));
            for (let i = 0; i < links.length; i++) {
                if (mode == 0) {
                    resArr.push(html(links[i]));
                } else if (mode >= 100) {
                    await fun.delay(mode, 0);
                    resArr.push(html(links[i]));
                } else if (mode == 1) {
                    let res = await html(links[i]);
                    resArr.push(res);
                    let doc = fun.doc(res);
                    debug(`\nfun.getImgA()單線程模式 DOM\n${links[i].href}`, doc);
                    let imgs = [...fun.gae(elementSelector, doc)];
                    let imgHtml = "";
                    for (let p = 0; p < imgs.length; p++) {
                        let imgSrc;
                        let check = fun.checkImgSrc(imgs[p], rText);
                        if (check.ok) {
                            imgSrc = check.src;
                            //let blob = await GM_XHR_Download(imgSrc);
                            //let objectURL = await URL.createObjectURL(blob.blob);
                            //imgSrc = objectURL;
                            debug("\nfun.getImgA() 單線程模式imgSrc", imgSrc);
                        } else {
                            console.error("\nfun.getImgA() 單線程模式出錯", imgs[p]);
                            continue;
                        }
                        imgHtml += `<img class="FullPictureLoadImage" src="${imgSrc}">`;
                    }
                    linkEles[i].outerHTML = imgHtml;
                } else if (mode == 2) {
                    let res = await html(links[i]);
                    await fun.delay(200, 0);
                    resArr.push(res);
                    if (i !== 0) {
                        let doc = fun.doc(res);
                        let tE = [...fun.gae(elementSelector)].at(-1);
                        let eles = [...fun.gae(elementSelector, doc)];
                        eles.forEach(e => tE.parentNode.insertBefore(e, tE.nextSibling));
                    }
                }
            }
            await Promise.all(resArr).then(htmls => {
                isFetching = false;
                fun.hideMsg();
                for (let i = 0; i < htmls.length; i++) {
                    let doc = fun.doc(htmls[i]);
                    //if (mode != 1) debug(`\nfun.getImgA() DOM${i}`, doc);
                    let imgs = [...fun.gae(elementSelector, doc)];
                    for (let p = 0; p < imgs.length; p++) {
                        let check = fun.checkImgSrc(imgs[p], rText);
                        check.ok ? imgsArray.push(check.src) : console.error("\nfun.getImgA() PromiseAll出錯", imgs[p]);
                    }
                }
            });
            fun.fetchErrorMsg();
            return imgsArray;
        },
        getImgCorsA: (imgSelector, aSelector, time = 100) => {
            isFetching = true;
            fun.showMsg(displayLanguage.str_01, 0);
            let xhrNum = 0;
            let links;
            isString(aSelector) ? links = [...fun.gae(aSelector)].map(a => a.href) : links = aSelector;
            let resArr = links.map(async (url, i, arr) => {
                await fun.delay(time * i, 0);
                return fun.xhrDoc(url).then(doc => {
                    fun.showMsg(`${displayLanguage.str_02}${xhrNum+=1}/${arr.length}`, 0);
                    return [...fun.gae(imgSelector, doc)];
                });
            });
            return Promise.all(resArr).then(arr => {
                isFetching = false;
                fun.hideMsg();
                return fun.getImgSrcArr(arr.flat());
            });
        },
        checkImgSrc: (ele, rText = null) => {
            let imgSrc;
            let check = fun.checkDataset(ele);
            if (isEle(ele) && ["IMG", "DIV", "A", "SPAN"].includes(ele.tagName) && check.ok) {
                imgSrc = check.src;
                if (/^\/\//.test(imgSrc)) imgSrc = location.protocol + imgSrc;
                if (/^\/\w+/.test(imgSrc)) imgSrc = location.origin + imgSrc;
                if (!/^(http|blob)/.test(imgSrc) && !/^data/.test(imgSrc) && /^\w+/.test(imgSrc)) imgSrc = location.origin + "/" + imgSrc;
                if (isArray(rText) && rText.length == 2) imgSrc = imgSrc.replace(rText[0], rText[1]);
                return {
                    ok: true,
                    src: imgSrc
                };
            } else if (isEle(ele) && ["IMG", "AMP-IMG"].includes(ele.tagName)) {
                if (ele.tagName == "IMG") imgSrc = ele.src;
                if (ele.tagName == "AMP-IMG") imgSrc = ele.getAttribute("src");
                if (/^\/\//.test(imgSrc)) imgSrc = location.protocol + imgSrc;
                if (isArray(rText) && rText.length == 2) imgSrc = imgSrc.replace(rText[0], rText[1]);
                return {
                    ok: true,
                    src: imgSrc
                };
            } else if (ele.tagName == "A") {
                imgSrc = ele.href;
                if (isArray(rText) && rText.length == 2) imgSrc = imgSrc.replace(rText[0], rText[1]);
                return {
                    ok: true,
                    src: imgSrc
                };
            } else if (isString(ele) && /^(http|blob|\/\/)/.test(ele)) {
                imgSrc = ele;
                if (/^\/\//.test(ele)) imgSrc = location.protocol + imgSrc;
                if (isArray(rText) && rText.length == 2) imgSrc = imgSrc.replace(rText[0], rText[1]);
                return {
                    ok: true,
                    src: imgSrc
                };
            }
            return {
                ok: false
            };
        },
        checkDataset: ele => {
            if (["IMG", "DIV", "A", "SPAN"].includes(ele.tagName)) {
                const setArr = ["data-orig-file", "data-src", "data-original", "data-url", "data-thumb", "data-echo", "data-ecp", "data-lazyload-src", "data-lazy-src", "data-lazy", "lazysrc", "data-lazyload", "file", "zoomfile", "data-lbwps-srcsmall", "original", "mydatasrc", "ess-data", "data-cfsrc", "data-pin-media", "data-mfp-src"];
                for (let i = 0; i < setArr.length; i++) {
                    let imgSrc = ele.getAttribute(setArr[i]);
                    if (imgSrc) {
                        return {
                            ok: true,
                            src: imgSrc.trim()
                        };
                    }
                }
            }
            return {
                ok: false
            };
        },
        checkImageCDN: srcArr => {
            fun.showMsg("fun.xhrHEA(check)...", 0);
            let xhrNum = 0;
            return srcArr.map(async (src, i, arr) => {
                await fun.delay(25 * i, 0);
                let res = await fun.xhrHEAD(src);
                fun.showMsg(`fun.xhrHEAD(${xhrNum+=1}/${arr.length})`, 0);
                let status = res.status;
                if (src.includes("wsrv.nl")) {
                    return status > 399 ? src.replace("https://wsrv.nl/?url=", "") : src; //wsrv.nl_CDN
                } else {
                    return status > 399 ? src.replace(/i\d\.wp\.com\/([^\/]+)/, "$1") : src; //WordPressCDN
                }
            });
        },
        getAList: () => {
            let paths = [...document.querySelectorAll("a.list-item")].map(a => decodeURIComponent(a.getAttribute("href"))).map(href => /\.jpe?g$|\.png$|\.gif$|\.mp4$|\.mov$|\.ts$/i.test(href) ? href : null).filter(item => item);
            fun.showMsg(displayLanguage.str_05, 0);
            let fetchNum = 0;
            let resArr = paths.map((path, i, arr) => {
                return fetch("/api/fs/get", {
                    "headers": {
                        "accept": "application/json, text/plain, */*",
                        "content-type": "application/json;charset=UTF-8"
                    },
                    "body": `{\"path\":\"${path}\",\"password\":\"\"}`,
                    "method": "POST"
                }).then(res => res.json()).then(json => {
                    fun.showMsg(`${displayLanguage.str_06}${fetchNum+=1}/${arr.length}`, 0);
                    return json.code == 200 ? {
                        name: json.data.name,
                        url: decodeURIComponent(json.data.raw_url)
                    } : null;
                });
            });
            return Promise.all(resArr).then(arr => arr.map(obj => {
                if (/\.mp4$|\.mov$|\.ts$/i.test(obj.name)) {
                    videosSrcArray.push(obj.url);
                    return null;
                } else {
                    return obj.url;
                }
            }).filter(item => item));
        },
        getImgSrcArr: (img, doc = document) => {
            let imgs;
            isString(img) ? imgs = [...fun.gae(img, doc)] : imgs = img;
            return imgs.map(ele => {
                let check = fun.checkImgSrc(ele);
                return check.ok ? check.src : null;
            }).filter(item => item);
        },
        getNP: async (pageEle, nextLinkEle, lastEle = null, replaceElement = null, time = 0, dataset = null, mag = 1, retry = 10) => {
            //翻頁模式聚集所有圖片或是預覽縮圖然後fun.getImgA()
            //用在規則init，fun.getNP(picsEle, nextLinkEle, lastEle, replaceElement, time);
            if (fun.ge(".FullPictureLoadImage")) return;
            if (isString(nextLinkEle) && !fun.ge(nextLinkEle)) return;
            isFetching = true;
            if (!getImgFn.includes("getNP()")) getImgFn += " > fun.getNP()";
            let nextlink = null;
            let page = 1;
            if (mag == 1) fun.showMsg(displayLanguage.str_14, 0);
            const getNextLink = async (url = "", doc = document) => {
                if (isFn(nextLinkEle)) {
                    nextlink = await nextLinkEle(doc);
                } else if (isString(nextLinkEle)) {
                    let ele = fun.ge(nextLinkEle, doc);
                    if (ele) {
                        if (ele?.dataset?.url) {
                            if (!/^http/.test(ele.dataset.url)) return null;
                            nextlink = ele.dataset.url;
                        } else if (ele.tagName === "A") {
                            nextlink = ele.href;
                            let nh = ele.hostname;
                            let lh = fun.lh;
                            if (nh != lh) nextlink = nextlink.replace(nh, lh);
                        } else {
                            try {
                                ele.getAttribute("href") ? nextlink = ele.getAttribute("href") : nextlink = ele.getAttribute("_href");
                            } catch (e) {
                                nextlink = null;
                            }
                        }
                    } else {
                        nextlink = null;
                    }
                } else {
                    nextlink = null;
                }
                if (isString(url) && isString(nextlink) && (url === nextlink)) {
                    if (mag == 1) fun.showMsg(displayLanguage.str_15);
                    nextlink = null;
                }
                return nextlink;
            };
            const getNextPageEles = async url => {
                if (mag == 1) fun.showMsg(`${displayLanguage.str_14} (Page${page += 1})`, 0);
                await fetch(url).then(async res => {
                    if (res.status >= 400) {
                        let resData = await fun.retryUrl(url, res, "fun.getNP()");
                        if (resData !== null) return resData;
                    }
                    return res.arrayBuffer();
                }).then(buffer => {
                    const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                    const htmlText = decoder.decode(buffer);
                    return htmlText;
                }).then(async htmlText => {
                    let doc = fun.doc(htmlText);
                    let lastPage = null;
                    if (isString(lastEle)) {
                        lastPage = fun.ge(lastEle, doc);
                    } else if (isFn(lastEle)) {
                        try {
                            lastPage = await lastEle(doc);
                        } catch (error) {
                            debug("fun.getNP() lastEle() 函式錯誤", error);
                            lastPage = null;
                        }
                    }
                    if (lastPage) {
                        isFetching = false;
                        if (mag == 1) fun.showMsg(displayLanguage.str_15);
                        return;
                    }
                    if (!fun.ge(pageEle, doc)) {
                        for (let i = 1; i <= retry; i++) {
                            doc = await fun.iframeSrcDoc(url, pageEle);
                            if (doc != null) {
                                break;
                            } else {
                                fun.remove("#FullPictureLoadIframe");
                            }
                        }
                    }
                    if (!doc) doc = fun.doc(htmlText);
                    if (isString(dataset)) {
                        [...fun.gae(dataset, doc)].forEach(e => {
                            let check = fun.checkImgSrc(e);
                            if (check.ok) {
                                if (e.tagName == "IMG") {
                                    e.src = check.src;
                                } else if (["A", "DIV"].includes(e.tagName)) {
                                    e.style.backgroundImage = `url(${check.src})`;
                                }
                            }
                        });
                    }
                    //debug(`\nfun.getNP() > getNextPageEles() DOM\n${decodeURIComponent(url)}`, doc);
                    let eles = [...fun.gae(pageEle, doc)];
                    let fragment = new DocumentFragment();
                    eles.forEach(ele => fragment.appendChild(ele.cloneNode(true)));
                    let targetEle = [...fun.gae(pageEle)].at(-1);
                    targetEle.parentNode.insertBefore(fragment, targetEle.nextSibling);
                    if (replaceElement) {
                        let currentPageEles = [...fun.gae(replaceElement)];
                        let nextPageEles = [...fun.gae(replaceElement, doc)];
                        if (currentPageEles.length === nextPageEles.length) {
                            for (let i in currentPageEles) {
                                //debug("paginationEle", ele);
                                try {
                                    currentPageEles[i].outerHTML = nextPageEles[i].outerHTML;
                                } catch (error) {
                                    console.error("\nfun.getNP() 替換元素錯誤\n", error);
                                }
                            }
                        }
                    }
                    nextlink = await getNextLink(url, doc);
                    if (nextlink) {
                        await fun.delay(time, 0);
                        await getNextPageEles(nextlink);
                    } else {
                        isFetching = false;
                        if (mag == 1) fun.showMsg(displayLanguage.str_15);
                        return;
                    }
                });
            };
            nextlink = await getNextLink();
            if (nextlink) {
                await fun.delay(time, 0);
                await getNextPageEles(nextlink);
            } else {
                isFetching = false;
                if (mag == 1) fun.showMsg(displayLanguage.str_15);
                return;
            }
        },
        getImageHost: async (links = captureLinksArray) => {
            let imgsSrcArr = [];
            if (links.length > 0) {
                if (/\.\w+$/.test(links[0]) && !/\.html$/.test(links[0]) && !/pixhost\.to\/show\//.test(links[0]) && !/^https?:\/\/imagetwist\.com\//.test(links[0])) return links;
                fun.showMsg(displayLanguage.str_01, 0);
                let xhrNum = 0;
                let resArr = links.map(async (url, i, arr) => {
                    await fun.delay(100 * i, 0);
                    if (/imx\.to/.test(url)) {
                        return fun.imxXHR(url).then(doc => {
                            fun.showMsg(`${displayLanguage.str_02}${xhrNum+=1}/${arr.length}`, 0);
                            let img = fun.ge("#container img", doc);
                            return img ? img.src : null;
                        });
                    } else if (/imagebam/.test(url)) {
                        return fun.imageBamXHR(url).then(doc => {
                            fun.showMsg(`${displayLanguage.str_02}${xhrNum+=1}/${arr.length}`, 0);
                            let img = fun.ge("img.main-image", doc);
                            return img ? img.src : null;
                        });
                    } else if (/postimg/.test(url)) {
                        return fun.xhr(url, "document").then(doc => {
                            fun.showMsg(`${displayLanguage.str_02}${xhrNum+=1}/${arr.length}`, 0);
                            let a = fun.ge("a#download", doc);
                            return a ? a.href : null;
                        });
                    } else {
                        return fun.xhr(url, "document").then(doc => {
                            fun.showMsg(`${displayLanguage.str_02}${xhrNum+=1}/${arr.length}`, 0);
                            let img = fun.ge("#imgpreview,#image,.pic.img.img-responsive,#imageid,#img.image-content,.card-body img,.image.img-fluid", doc);
                            return img ? img.src : null;
                        });
                    }
                })
                await Promise.all(resArr).then(arr => {
                    imgsSrcArr = imgsSrcArr.concat(arr.filter(item => item));
                });
            }
            return imgsSrcArr;
        },
        toggleAutoPager: () => {
            if (autoPager === true) {
                autoPager = false;
                fun.showMsg(displayLanguage.str_89);
                [...fun.gae(".autoPagerTitle")].forEach(e => e.classList.add("off"));
            } else {
                autoPager = true;
                fun.showMsg(displayLanguage.str_90);
                [...fun.gae(".autoPagerTitle")].forEach(e => e.classList.remove("off"));
            }
        },
        autoPager: async () => {
            let url = await fun.getNextLink(doc);
            if (!url) {
                autoPager = false;
                fun.showMsg(displayLanguage.str_58, 3000);
                return;
            }
            fun.addLoading();
            let mode = siteData?.autoPager?.mode;
            if (isNumber(mode) && mode == 1) {
                doc = await fun.iframeDoc(url, (siteData.autoPager?.waitEle || siteData.autoPager?.ele), 30000);
            } else {
                if (httpFetchError === false) {
                    doc = await fun.fetchDoc(url, 0);
                }
                if (httpFetchError === true || !doc) {
                    doc = await fun.xhrDoc(url);
                }
            }
            //debug(`\nfun.autoPager()\n${url}\n`, doc);
            debug(`\nfun.autoPager()\n${url}`);
            let stop = siteData?.autoPager?.stop;
            if (isFn(stop)) {
                let check;
                try {
                    check = await stop(doc);
                } catch (error) {
                    console.error("\nsiteData.autoPager.stop() 函式錯誤\n", error);
                    check = false;
                }
                if (check) {
                    autoPager = false;
                    fun.removeLoading();
                    fun.showMsg(displayLanguage.str_58, 3000);
                    return;
                }
            }
            if (siteData?.autoPager?.history == 1) await fun.addHistory(doc?.title ?? document.title, url);
            let script = siteData?.autoPager?.script;
            if (isString(script)) {
                let scripts = [...fun.gae(script, doc)];
                for (let i = 0; i < scripts.length; i++) {
                    if (scripts[i].src) {
                        await fun.script(scripts[i].src, 1, 1);
                    } else {
                        let code = scripts[i].innerText;
                        await fun.script(code, 0, 1);
                    }
                }
            }
            let lazySrc = siteData?.autoPager?.lazySrc;
            if (isString(lazySrc)) {
                let eles = [...fun.gae(lazySrc, doc)];
                for (let i = 0; i < eles.length; i++) {
                    let check = fun.checkDataset(eles[i]);
                    if (check.ok) {
                        if (eles[i].tagName === "IMG") {
                            eles[i].src = check.src;
                        } else if (eles[i].tagName === "DIV" || eles[i].tagName === "A") {
                            eles[i].style.backgroundImage = `url('${check.src}')`;
                        }
                    }
                }
            }
            let bF = siteData?.autoPager?.bF;
            if (isFn(bF)) await bF(doc);
            let re = siteData?.autoPager?.re;
            if (isString(re)) {
                let currentPageEles = [...fun.gae(re)];
                let nextPageEles = [...fun.gae(re, doc)];
                if (currentPageEles.length === nextPageEles.length) {
                    for (let i in currentPageEles) {
                        currentPageEles[i].outerHTML = nextPageEles[i].outerHTML;
                    }
                }
            }
            let newEle, tE;
            let eleSelector = siteData?.autoPager?.ele;
            let pos = siteData?.autoPager?.pos;
            if (isFn(eleSelector) && pos || isString(eleSelector)) {
                if (isFn(eleSelector)) {
                    newEle = await eleSelector(doc);
                } else if (isString(eleSelector)) {
                    let nextEle = fun.ge(eleSelector, doc);
                    if (!nextEle) {
                        fun.removeLoading();
                        fun.showMsg(displayLanguage.str_59, 3000);
                        return;
                    }
                    tE = [...fun.gae(eleSelector)].at(-1);
                    newEle = [...fun.gae(eleSelector, doc)];
                }
                let fragment = new DocumentFragment();
                if (siteData?.autoPager?.showTitle !== 0) {
                    let add = true;
                    let titleText = null;
                    let title = siteData?.autoPager?.title;
                    if (isFn(title)) {
                        try {
                            titleText = await title(doc);
                            if (isObject(titleText)) {
                                titleText.ok ? titleText = titleText.text : add = false;
                            }
                        } catch (error) {
                            console.error("\nsiteData.autoPager.title() 函式錯誤\n", error);
                        }
                    }
                    if (add) fragment.appendChild(await fun.titleUrlEle(url, (titleText || doc.title || document.title)));
                }
                newEle.forEach(e => fragment.appendChild(e.cloneNode(true)));
                if (isArray(pos) && pos.length == 2 && isString(pos[0]) && isNumber(pos[1])) {
                    tE = fun.ge(pos[0]);
                    if (pos[1] === 0) { //元素裡面
                        tE.appendChild(fragment);
                    } else if (pos[1] === 1) { //元素之前
                        tE.parentNode.insertBefore(fragment, tE);
                    } else if (pos[1] === 2) { //元素之後
                        tE.parentNode.insertBefore(fragment, tE.nextSibling);
                    }
                } else {
                    tE.parentNode.insertBefore(fragment, tE.nextSibling);
                }
            } else if (isFn(siteData.autoPager.ele)) {
                await siteData.autoPager.ele(doc);
            }
            fun.removeLoading();
            let aF = siteData?.autoPager?.aF;
            if (isFn(aF)) await aF(doc);
            let observer = siteData?.autoPager?.observer;
            if (isString(observer)) {
                await fun.delay(siteData?.autoPager?.sleep || 1000, 0);
                let ele = [...fun.gae(observer)].at(-1);
                fun.autoPagerNextObserver.observe(ele);
            }
        },
        iframeDoc: (url, ele, time = 5000, callback) => {
            return new Promise(async resolve => {
                let tid;
                const iframe = document.createElement("iframe");
                iframe.name = "FullPictureLoad-iframe";
                iframe.id = "FullPictureLoadIframe";
                iframe.src = url;
                iframe.sandbox = "allow-same-origin allow-scripts allow-popups allow-forms";
                //iframe.style.display = "none";
                iframe.style.cssText = "display: block; visibility: visible; float: none; clear: both; width: 100%; height: 0; background: initial; border: 0px; border-radius: 0px; margin: 0px; padding: 0px; z-index: 2147483645;content-visibility: auto;contain-intrinsic-size: auto 300px;";
                document.body.appendChild(iframe);
                iframe.contentWindow.fn = fun;
                tid = setTimeout(() => resolve(null), time);
                const call = async () => {
                    clearTimeout(tid);
                    let doc = iframe.contentDocument || iframe.contentWindow.document;
                    if (!doc) resolve(fun.doc("none"));
                    doc.body.scrollTop = 9999999;
                    doc.documentElement.scrollTop = 9999999;
                    try {
                        await fun.delay(siteData.autoPager.loadTime || 200, 0);
                    } catch (e) {
                        await fun.delay(200, 0);
                    }
                    if (isString(ele)) await fun.waitEle(ele, 600, doc);
                    if (isFn(callback)) {
                        await fun.delay(200, 0);
                        await callback(doc, fun);
                        await fun.delay(200, 0);
                    }
                    let frameCode = siteData?.frameCode;
                    if (frameCode) {
                        fun.script(siteData.frameCode, 0, 1, doc);
                        await fun.delay(200, 0);
                    }
                    frameWindow = iframe.contentWindow;
                    resolve(doc);
                    iframe.remove();
                };
                if (iframe.attachEvent) {
                    iframe.attachEvent("onload", () => call());
                } else {
                    iframe.onload = () => call();
                }
            });
        },
        iframeSrcDoc: (url, ele, time = 5000, callback) => {
            return new Promise(async resolve => {
                let tid;
                let resText = await fetch(url).then(async res => {
                    debug(`\nfun.iframeSrcDoc() URL`, url);
                    if (res.status >= 400) {
                        let resData = await fun.retryUrl(url, res, "fun.iframeSrcDoc()");
                        if (resData !== null) return resData;
                    }
                    return res.arrayBuffer()
                }).then(buffer => {
                    const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                    const htmlText = decoder.decode(buffer);
                    return htmlText;
                });
                const iframe = document.createElement("iframe");
                iframe.name = "FullPictureLoad-iframe";
                iframe.id = "FullPictureLoadIframe";
                iframe.srcdoc = resText;
                iframe.sandbox = "allow-same-origin allow-scripts allow-popups allow-forms";
                //iframe.style.display = "none";
                iframe.style.cssText = "display: block; visibility: visible; float: none; clear: both; width: 100%; height: 0; background: initial; border: 0px; border-radius: 0px; margin: 0px; padding: 0px; z-index: 2147483645;content-visibility: auto;contain-intrinsic-size: auto 300px;";
                document.body.appendChild(iframe);
                iframe.contentWindow.fn = fun;
                tid = setTimeout(() => resolve(null), time);
                const call = async () => {
                    clearTimeout(tid);
                    let doc = iframe.contentDocument || iframe.contentWindow.document;
                    if (!doc) resolve(fun.doc("none"));
                    doc.body.scrollTop = 9999999;
                    doc.documentElement.scrollTop = 9999999;
                    try {
                        await fun.delay(siteData.autoPager.loadTime || 200, 0);
                    } catch (e) {
                        await fun.delay(200, 0);
                    }
                    if (isString(ele)) await fun.waitEle(ele, 600, doc);
                    if (isFn(callback)) {
                        await fun.delay(200, 0);
                        await callback(doc, fun);
                        await fun.delay(200, 0);
                    }
                    let frameCode = siteData?.frameCode;
                    if (frameCode) {
                        fun.script(siteData.frameCode, 0, 1, doc);
                        await fun.delay(200, 0);
                    }
                    frameWindow = iframe.contentWindow;
                    resolve(doc);
                    iframe.remove();
                };
                if (iframe.attachEvent) {
                    iframe.attachEvent("onload", () => call());
                } else {
                    iframe.onload = () => call();
                }
            });
        },
        iframeVar: async (url, time = 1000, declares) => {
            const iframe = document.createElement("iframe");
            iframe.id = "FullPictureLoadIframe";
            iframe.src = url;
            iframe.style.display = "none";
            iframe.sandbox = "allow-same-origin allow-scripts allow-popups allow-forms";
            document.body.appendChild(iframe);
            await fun.delay(time, 0);
            iframe.contentWindow.fn = fun;
            await new Promise(resolve => {
                let loop = setInterval(() => {
                    if (declares in iframe.contentWindow) {
                        clearInterval(loop);
                        resolve();
                    }
                }, 100);
            });
            setTimeout(() => iframe.remove(), 1000);
            return iframe.contentWindow;
        },
        autoPagerNextObserver: new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && autoPager) {
                    observer.unobserve(entry.target);
                    fun.autoPager();
                }
            });
        }),
        getNextLink: async (dom) => {
            let nextSelector = siteData?.autoPager?.next;
            if (isFn(nextSelector)) {
                let nextCode = await nextSelector(dom);
                if (nextLink === nextCode) return null;
                nextLink = nextCode;
            } else if (isString(nextSelector)) {
                let nextEle = fun.ge(nextSelector, dom);
                try {
                    if (!nextEle || (nextEle && (nextLink === nextEle.href))) return null;
                } catch (error) {
                    console.error("\nfun.getNextLink() ERROR\n", error);
                    return null;
                }
                nextLink = nextEle.href;
                const nh = nextEle.hostname;
                const lh = fun.lh;
                if (nh !== lh) nextLink = nextLink.replace(nh, lh);
            } else {
                return null;
            }
            if (!nextLink) return null;
            return nextLink;
        },
        titleUrlEle: (url, title) => {
            let div = document.createElement("div");
            autoPager == true ? div.className = "autoPagerTitle" : div.className = "autoPagerTitle off";
            let a = document.createElement("a");
            a.href = url;
            a.innerText = title;
            div.appendChild(a);
            div.addEventListener("click", event => {
                fun.toggleAutoPager();
            });
            return div;
        },
        addLoading: () => {
            if (siteData?.autoPager?.loading === "msg") {
                fun.showMsg(displayLanguage.str_57, 0);
            } else {
                try {
                    let img = new Image();
                    img.className = "autoPagerLoading";
                    img.src = autoPagerLoading_gif;
                    let tE;
                    let pos = siteData?.autoPager?.pos;
                    if (isArray(pos) && pos.length == 2 && isString(pos[0]) && isNumber(pos[1])) {
                        tE = fun.ge(pos[0]);
                        if (pos[1] === 0) { //元素裡面
                            tE.appendChild(img);
                        } else if (pos[1] === 1) { //元素之前
                            tE.parentNode.insertBefore(img, tE);
                        } else if (pos[1] === 2) { //元素之後
                            tE.parentNode.insertBefore(img, tE.nextSibling);
                        }
                    } else {
                        tE = [...fun.gae(siteData?.autoPager?.ele)].at(-1);
                        tE.parentNode.insertBefore(img, tE.nextSibling);
                    }
                } catch (e) {
                    fun.showMsg(displayLanguage.str_57, 0);
                }
            }
        },
        removeLoading: () => {
            if (siteData?.autoPager?.loading === "msg") {
                fun.hideMsg();
            } else {
                try {
                    fun.ge(".autoPagerLoading").remove();
                } catch (e) {
                    fun.hideMsg();
                }
            }
        },
        addHistory: (title, url) => {
            history.pushState(null, title, url);
            document.title = title;
        },
        openInNewTab: (selector, doc = document) => [...fun.gae(selector, doc)].forEach(a => a.setAttribute("target", "_blank")),
        getEle: async (links, elements, targetEle, removeEles = null, time = 100) => {
            if (fun.ge(".FullPictureLoadImage")) return;
            isFetching = true;
            if (!getImgFn.includes("getEle()")) getImgFn += " > fun.getEle() > [...fun.gae()]";
            let resArr = [];
            let xhrNum = 0;
            fun.showMsg(displayLanguage.str_16, 0);
            for (let i = 0; i < links.length; i++) {
                let res = fun.fetchDoc(links[i]).then(doc => {
                    debug(`\nfun.getEle() URL`, decodeURIComponent(links[i]));
                    fun.showMsg(`${displayLanguage.str_17}${xhrNum+=1}/${links.length}`, 0);
                    //debug(`fun.getEle()\n${decodeURIComponent(links[i])}\n`, doc);
                    return [...fun.gae(elements, doc)];
                });
                resArr.push(res);
                await fun.delay(time, 0);
            }
            await Promise.all(resArr).then(arr => arr.flat()).then(eles => {
                isFetching = false;
                fun.hideMsg();
                let ele;
                let fragment = new DocumentFragment();
                eles.forEach(e => fragment.appendChild(e.cloneNode(true)));
                if (isArray(targetEle) && targetEle.length == 2 && isString(targetEle[0]) && isNumber(targetEle[1])) {
                    ele = fun.ge(targetEle[0]);
                    if (targetEle[1] == 0) ele.appendChild(fragment);
                    else if (targetEle[1] == 1) ele.parentNode.insertBefore(fragment, ele);
                    else if (targetEle[1] == 2) ele.parentNode.insertBefore(fragment, ele.nextSibling);
                } else if (isString(targetEle)) {
                    ele = fun.ge(targetEle);
                    ele.innerHTML = "";
                    ele.appendChild(fragment);
                }
                if (removeEles) fun.remove(removeEles);
                fun.fetchErrorMsg();
            });
        },
        getCorsEle: async (links, elements, targetEle, removeEles = null, time = 100) => {
            if (fun.ge(".FullPictureLoadImage")) return;
            isFetching = true;
            if (!getImgFn.includes("getEle()")) getImgFn += " > fun.getEle() > [...fun.gae()]";
            let resArr = [];
            let xhrNum = 0;
            fun.showMsg(displayLanguage.str_16, 0);
            for (let i = 0; i < links.length; i++) {
                let res = fun.xhrDoc(links[i]).then(doc => {
                    debug(`\nfun.getEle() URL`, decodeURIComponent(links[i]));
                    fun.showMsg(`${displayLanguage.str_17}${xhrNum+=1}/${links.length}`, 0);
                    //debug(`fun.getEle()\n${decodeURIComponent(links[i])}\n`, doc);
                    return [...fun.gae(elements, doc)];
                });
                resArr.push(res);
                await fun.delay(time, 0);
            }
            await Promise.all(resArr).then(arr => arr.flat()).then(eles => {
                isFetching = false;
                fun.hideMsg();
                let ele;
                let fragment = new DocumentFragment();
                eles.forEach(e => fragment.appendChild(e.cloneNode(true)));
                if (isArray(targetEle) && targetEle.length == 2 && isString(targetEle[0]) && isNumber(targetEle[1])) {
                    ele = fun.ge(targetEle[0]);
                    if (targetEle[1] == 0) ele.appendChild(fragment);
                    else if (targetEle[1] == 1) ele.parentNode.insertBefore(fragment, ele);
                    else if (targetEle[1] == 2) ele.parentNode.insertBefore(fragment, ele.nextSibling);
                } else if (isString(targetEle)) {
                    ele = fun.ge(targetEle);
                    ele.innerHTML = "";
                    ele.appendChild(fragment);
                }
                if (removeEles) fun.remove(removeEles);
                fun.fetchErrorMsg();
            });
        },
        singleThreadLoadImgs: async imgArr => {
            for (let i = 0; i < imgArr.length; i++) {
                if (!imgArr[i]?.dataset?.src) continue;
                let loadSrc = imgArr[i].dataset.src;
                let temp = new Image();
                temp.src = loadSrc;
                await new Promise(resolve => {
                    temp.onload = () => resolve();
                    temp.onerror = () => resolve();
                });
                imgArr[i].src = loadSrc;
            }
        },
        picPreload: async (arr, title = (customTitle || document.title), page = "current") => {
            const loadImg = async (src, index) => {
                await new Promise(resolve => {
                    let temp = new Image();
                    temp.src = src;
                    temp.onload = () => {
                        resolve();
                        temp = null;
                    };
                    temp.onerror = error => {
                        if (errorNum > 100) return;
                        if (!/e-hentai\.org|exhentai\.org/.test(fun.lh)) errorNum += 1;
                        if (/e-hentai\.org|exhentai\.org/.test(fun.lh)) resolve();
                        resolve();
                        setTimeout(() => {
                            if (/www\.yinghuamh\.net/.test(fun.lh)) {
                                debug(`\n圖片全載Lazyloading預讀出錯 樱花漫画 重新載入另一個圖片伺服器的圖片網址：\n${src}\nto\n${src.replace(Gm.getMediaHost(media), media)}\n`, loadImg(src.replace(Gm.getMediaHost(media), media), index));
                            } else {
                                debug(`\n圖片全載Lazyloading預讀重新載入出錯的圖片：\n${src}\n`, loadImg(src, index));
                            }
                        }, 1000);
                        temp = null;
                    };
                });
            };
            page == "next" ? debug(`\n${title}\n圖片全載開始預讀下一頁`, arr) : debug(`\n${title}\n圖片全載Lazyloading開始預讀`);
            for (let i = 0; i < arr.length; i++) {
                if (/youtube|\.mp4|\.m3u8$|\.webm$/.test(arr[i])) continue;
                await loadImg(arr[i], i);
            }
            page == "next" ? debug(`\n${title}\n圖片全載下一頁預讀結束`) : debug(`\n${title}\n圖片全載Lazyloading預讀結束`);
        },
        MutationObserver_aff: () => { //观察者 MutationObserver事件
            const openEvent = () => {
                if (fun.ge("span[data-fancybox-current-index]") !== null) {
                    slideIndex = parseInt(fun.gt("span[data-fancybox-current-index]"), 10) - 1;
                } else if (fun.ge("span[data-fancybox-index]") !== null) {
                    slideIndex = parseInt(fun.gt("span[data-fancybox-index]"), 10) - 1;
                } else if (fun.ge("badge.b-black.counter") !== null) {
                    slideIndex = parseInt(fun.gt("badge.b-black.counter").match(/\d+/)[0], 10) - 1;
                }
                if (isNumber(slideIndex)) {
                    console.log("open - # " + slideIndex + " slide is open!");
                }
            };
            const ContentContainer = document.body;
            const configObserver = {
                childList: true,
                subtree: true,
                attributeFilter: ["class"]
            };
            //当观察到突变时执行的回调函数
            const Callbacks = mutationsList => {
                mutationsList.forEach((item, index) => {
                    //console.log("index: ", index, " - \n", item);
                    if (item.type === "attributes") {
                        //console.log(item);
                        if (item.target.className === "fancybox-slide fancybox-slide--image fancybox-slide--current fancybox-slide--complete" || item.target.className === "fancybox__slide has-image can-zoom_in is-selected" || item.target.className === "swiper-slide swiper-slide-active") {
                            console.log(" # ", item);
                            openEvent();
                            fun.scrollEvent(slideIndex);
                        }
                    } else if (item.type === "childList") {
                        //console.log(item);
                        if (item.removedNodes.length > 1 && /fancybox|swiper/.test(item.removedNodes[1].className)) {
                            console.log(" # ", item);
                            console.log("close - # " + slideIndex + " slide is closed!");
                            //setTimeout(closeEvent, 1000);
                            fun.scrollEvent(slideIndex);
                        }
                    }
                });
            };
            //创建一个链接到回调函数的观察者实例
            const Observer = new MutationObserver(Callbacks);
            ContentContainer && Observer.observe(ContentContainer, configObserver);
        },
        createImgBox: (selector, pos = 0) => {
            let div = document.createElement("div");
            div.id = "FullPictureLoadMainImgBox";
            div.style.display = "block";
            div.style.textAlign = "center";
            let targetEle = fun.ge(selector);
            if (pos == 0) targetEle.appendChild(div);
            if (pos == 1) targetEle.parentNode.insertBefore(div, targetEle);
            if (pos == 2) targetEle.parentNode.insertBefore(div, targetEle.nextSibling);
        },
        insertImg: (imgsArray, ele, mode = 2) => {
            let srcArr = [];
            for (let i = 0; i < imgsArray.length; i++) {
                let check = fun.checkImgSrc(imgsArray[i]);
                check.ok ? srcArr.push(check.src) : console.error("\nfun.insertImg(imgsArray) 格式錯誤！", imgsArray[i]);
            }
            srcArr = [...new Set(srcArr)];
            let noVideoNum = [...srcArr].filter(src => !/youtube|\.mp4$|\.webm$/.test(src)).length;
            let fragment = new DocumentFragment();
            let sb = siteData?.button;
            if (isArray(sb)) {
                let buttonDiv = document.createElement("div");
                buttonDiv.id = "FullPictureLoadOptionsButtonParentDiv";
                buttonDiv.style.width = "100%";
                //buttonDiv.style.height = "42px";
                buttonDiv.style.display = "inline-block";
                buttonDiv.style.textAlign = "center";
                if (isNumber(sb[2])) {
                    for (let i = 0; i < sb[2]; i++) {
                        let br = document.createElement("br");
                        fragment.appendChild(br);
                    }
                }
                let width = "24%";
                if (isString(sb[1])) width = sb[1];
                const buttonObj = [{
                    id: "FullPictureLoadCopyURLBtn",
                    className: "FullPictureLoadPageButtonTop",
                    text: displayLanguage.str_105,
                    cfn: event => {
                        event.preventDefault();
                        copyImgSrcTextB();
                    }
                }, {
                    id: "FullPictureLoadExportURLBtn",
                    className: "FullPictureLoadPageButtonTop",
                    text: displayLanguage.str_104,
                    cfn: event => {
                        event.preventDefault();
                        exportImgSrcText();
                    }
                }, {
                    id: "FullPictureLoadFastDownloadBtn",
                    className: "FullPictureLoadPageButtonTop",
                    text: hasTouchEvents ? displayLanguage.str_107 : displayLanguage.str_107 + ` | [ ${noVideoNum}P ]`,
                    cfn: event => {
                        event.preventDefault();
                        fastDownload = true;
                        DownloadFn();
                    }
                }, {
                    id: "FullPictureLoadNewTabViewBtn",
                    className: "FullPictureLoadPageButtonTop",
                    text: displayLanguage.str_106,
                    cfn: event => {
                        event.preventDefault();
                        newTabView();
                    }
                }, {
                    id: "FullPictureLoadOptionsBtn",
                    className: "FullPictureLoadPageButtonBottom",
                    text: displayLanguage.str_85,
                    cfn: event => {
                        event.preventDefault();
                        if (!fun.ge("body>#FullPictureLoadOptions")) {
                            addFullPictureLoadOptionsMain();
                            setValue();
                        }
                        fun.ge("#FullPictureLoadOptions").removeAttribute("style");
                    }
                }, {
                    id: "FullPictureLoadToggleImgModeBtn",
                    className: "FullPictureLoadPageButtonBottom",
                    text: displayLanguage.str_86,
                    cfn: event => {
                        event.preventDefault();
                        toggleImgMode();
                    }
                }, {
                    id: "FullPictureLoadToggleZoomeBtn",
                    className: "FullPictureLoadPageButtonBottom",
                    text: displayLanguage.str_87,
                    cfn: event => {
                        event.preventDefault();
                        fun.clearAllTimer(2);
                        reduceZoom();
                    },
                    mfn: event => {
                        if (event.button == 2) {
                            event.preventDefault();
                            increaseZoom();
                        }
                    }
                }, {
                    id: "FullPictureLoadCancelZoomBtn",
                    className: "FullPictureLoadPageButtonBottom",
                    text: displayLanguage.str_88,
                    cfn: event => {
                        event.preventDefault();
                        fun.clearAllTimer(2);
                        cancelZoom();
                    }
                }];
                const createButton = obj => {
                    let button = document.createElement("button");
                    button.id = obj.id;
                    button.className = obj.className;
                    button.style.width = width;
                    //button.style.height = "24px";
                    button.innerText = obj.text;
                    button.oncontextmenu = () => false;
                    if (obj.cfn) button.addEventListener("click", obj.cfn);
                    if (obj.mfn) button.addEventListener("mousedown", obj.mfn);
                    buttonDiv.appendChild(button);
                };
                [...buttonObj].forEach(obj => createButton(obj));
                fragment.appendChild(buttonDiv);
            }
            let blackList = fancyboxBlackList();
            if (options.fancybox == 1 && thumbnailsSrcArray.length > 0) {
                if (!/www\.24cos\.org|www\.lovecos\.net|luohuaxiu\.com|kemono\.su|coomer\.su/.test(fun.lh) || !/^data/.test(thumbnailsSrcArray[0])) {
                    thumbnailsSrcArray = [...new Set(thumbnailsSrcArray)];
                }
            }
            debug("\nfun.insertImg()插入圖片最後確認 thumbnailsSrcArray", thumbnailsSrcArray);
            debug("\nfun.insertImg()插入圖片最後確認 srcArr", srcArr);
            let padStart = String(srcArr.length).length;
            for (let i = 0; i < srcArr.length; i++) {
                let a = document.createElement("a");
                if (options.fancybox == 1 && !blackList) {
                    a.id = "imgLocationOriginal_" + i;
                    a.dataset.fancybox = "FullPictureLoadImageOriginal";
                    thumbnailsSrcArray.length > 0 && thumbnailsSrcArray.length == noVideoNum ? a.dataset.thumb = thumbnailsSrcArray[i] : a.dataset.thumb = srcArr[i];
                    a.href = srcArr[i];
                }
                let img = new Image();
                img.alt = `no.${parseInt(i, 10) + 1}`;
                img.dataset.index = i;
                img.className = "FullPictureLoadImage";
                if (siteData.referrerpolicy) img.referrerPolicy = siteData.referrerpolicy;
                //if (/vipr\.im/.test(srcArr[i])) img.referrerPolicy = "no-referrer";
                if (options.zoom <= 10 && options.zoom > 0) {
                    img.style.width = `${options.zoom * 10}%`;
                    img.style.height = "auto";
                }
                if (mode == 2 || mode == 3) {
                    img.src = loading_bak;
                    img.dataset.src = srcArr[i];
                    fun.imagesObserver.observe(img);
                } else {
                    img.src = srcArr[i];
                    img.decoding = "async";
                    img.onload = () => {
                        img.classList.remove("error");
                    };
                    img.onerror = error => {
                        if (errorNum > 100) return;
                        errorNum += 1;
                        error.target.classList.add("error");
                        setTimeout(() => {
                            debug(`\nfun.insertImg()重新載入出錯的圖片：\n${error.target.src}`);
                            error.target.src = error.target.src;
                        }, 1000);
                    };
                }
                if (options.fancybox == 1 && !blackList) {
                    a.appendChild(img);
                    fragment.appendChild(a);
                } else {
                    fragment.appendChild(img);
                }
            }
            if (videosSrcArray.length > 0) {
                debug("\nfun.insertImg()插入圖片最後確認 videosSrcArray", videosSrcArray);
                if (!hasTouchEvents && siteData?.downloadVideo === true) {
                    let dbtn = fragment.querySelector("#FullPictureLoadFastDownloadBtn");
                    dbtn.innerText = dbtn.innerText.replace("P", `P + ${videosSrcArray.length}V`);
                }
                for (let i = 0; i < videosSrcArray.length; i++) {
                    let video = document.createElement("video");
                    video.className = "FullPictureLoadVideo";
                    video.controls = true;
                    video.loop = false;
                    video.autoplay = false;
                    video.preload = "none";
                    video.style = "height: 500px;width: 100%;max-width:100%";
                    let source = document.createElement("source");
                    source.src = videosSrcArray[i];
                    source.type = "video/mp4";
                    video.appendChild(source);
                    fragment.appendChild(video);
                }
            }
            let end = document.createElement("p");
            end.id = "FullPictureLoadEnd";
            end.innerText = `${displayLanguage.str_52}：${noVideoNum}P`;
            fragment.appendChild(end);
            if (srcArr.length > 0 || (srcArr.length >= 0 && videosSrcArray.length > 0)) {
                if (siteData.insertImg[1] == 2 || siteData.insertImg[1] == 3) fun.picPreload(srcArr);
                let targetEle;
                try {
                    if (isArray(ele) && isString(ele[0]) && isNumber(ele[1])) {
                        targetEle = fun.ge(ele[0]);
                        if (ele[1] == 0) {
                            targetEle.appendChild(fragment);
                            //targetEle.style.textAlign = "center";
                            targetEle.style.display = "block";
                        } else if (ele[1] == 1) {
                            targetEle.parentNode.insertBefore(fragment, targetEle);
                            //targetEle.parentNode.style.textAlign = "center";
                            targetEle.parentNode.style.display = "block";
                        } else if (ele[1] == 2) {
                            targetEle.parentNode.insertBefore(fragment, targetEle.nextSibling);
                            //targetEle.parentNode.style.textAlign = "center";
                            targetEle.parentNode.style.display = "block";
                        }
                        if (isString(ele[2])) fun.remove(ele[2]);
                        if (siteData?.msg != 0 && siteData.category != "comic") fun.showMsg(displayLanguage.str_18);
                    } else if (isString(ele)) {
                        targetEle = fun.ge(ele);
                        targetEle.innerHTML = "";
                        targetEle.appendChild(fragment);
                        //targetEle.style.textAlign = "center";
                        targetEle.style.display = "block";
                        if (siteData?.msg != 0 && siteData.category != "comic") fun.showMsg(displayLanguage.str_18);
                    }
                    if (isFn(siteData?.insertImgAF)) siteData.insertImgAF();
                } catch (error) {
                    fun.showMsg(displayLanguage.str_19, 3000);
                    console.error("\nfun.insertImg() ele參數錯誤，或用來定位插入的元素不存在。", error);
                    return;
                }
                let imgs = [...fun.gae("img.FullPictureLoadImage:not(.small)")];
                let oddNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 == 0);
                let evenNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 != 0);
                fun.singleThreadLoadImgs(oddNumberImgs);
                fun.singleThreadLoadImgs(evenNumberImgs);
                if (TurnOffImageNavigationShortcutKeys != 1) {
                    let imgsNum = 0;
                    document.addEventListener("keydown", event => {
                        if (fun.ge("#FullPictureLoadOptions:not([style])")) return;
                        if (event.code == "ArrowUp" || event.key == "ArrowUp") {
                            if (fun.ge(".fancybox-container,.fancybox__container")) return;
                            if (imgsNum > 0 && viewMode == 0) {
                                imgsNum -= 1;
                                imgs[imgsNum].scrollIntoView();
                            }
                        } else if (event.code == "ArrowDown" || event.key == "ArrowDown") {
                            if (fun.ge(".fancybox-container,.fancybox__container")) return;
                            event.preventDefault();
                            if (imgsNum < imgs.length && viewMode == 0) {
                                imgsNum += 1;
                                try {
                                    imgs[imgsNum].scrollIntoView();
                                } catch (e) {
                                    imgsNum = 0;
                                    imgs[0].scrollIntoView();
                                    fun.showMsg(displayLanguage.str_94);
                                }
                            }
                        } else {
                            imgsNum = 0 - 1;
                        }
                    });
                }
                if (siteData.category == "comic") {
                    let lastImg = imgs.at(-1);
                    fun.comicNextObserver.observe(lastImg);
                }
                [...fun.gae("#FullPictureLoadGoToFirstImage,#FullPictureLoadGoToLastImage")].forEach(e => e.style.display = "block");
                if (options.fancybox == 1 && !blackList && !isObject(siteData?.fancybox)) {
                    try {
                        Fancybox.bind("[data-fancybox='FullPictureLoadImageOriginal']", FancyboxOptions);
                    } catch (error) {
                        console.error("沒有引入FancyboxV5", error);
                    }
                }
                if (!/tupianwu\.com/.test(fun.lh)) fun.MutationObserver_aff();
                if (options.viewMode == 1 || siteData.viewMode == 1) toggleImgMode();
                if (siteData.go == 1 && noGoToFirstImage != 1) goToNo1Img();
            } else {
                fun.showMsg(displayLanguage.str_20);
            }
        },
        immediateInsertImg: async () => {
            await fun.delay(siteData.insertImg[2] || 0);
            let selector = siteData.imgs;
            let imgsSrcArray = await getImgs(selector);
            fun.insertImg(imgsSrcArray, siteData.insertImg[0], siteData.insertImg[1]);
        },
        ge: (selector, contextNode, doc = document) => /^\//.test(selector) ? doc.evaluate(selector, (contextNode || document), null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue : (contextNode || document).querySelector(selector),
        gae: (selector, contextNode, doc = document) => {
            if (/^\//.test(selector)) {
                let nodes = [];
                let results = doc.evaluate(selector, (contextNode || document), null, XPathResult.ANY_TYPE, null);
                let node;
                while (node = results.iterateNext()) {
                    nodes.push(node);
                }
                return nodes;
            } else {
                return (contextNode || document).querySelectorAll(selector);
            }
        },
        gt: (ele, mode = 1, contextNode = document) => {
            try {
                if (mode == 1) return fun.ge(ele, contextNode).innerText;
                if (mode == 2) return fun.ge(ele, contextNode).previousElementSibling.innerText;
                if (mode == 3) return fun.ge(ele, contextNode).previousElementSibling.previousElementSibling.innerText;
            } catch (error) {
                console.error("\nfun.gt() ERROR\n", error);
                return null;
            }
        },
        gst: (searchValue, doc = document) => {
            try {
                return [...doc.scripts].find(script => {
                    if (isString(searchValue)) {
                        return script.innerHTML.includes(searchValue);
                    } else if (isRegExp(searchValue)) {
                        return script.innerHTML.search(searchValue) > -1;
                    }
                }).innerHTML;
            } catch {
                return "";
            }
        },
        attr: (ele, attr, doc = document) => fun.ge(ele, doc).getAttribute(attr),
        run: code => new Function("return " + code)(),
        doc: str => new DOMParser().parseFromString(str, "text/html"),
        xml: str => new DOMParser().parseFromString(str, "text/xml"),
        title: (str, mode = 0, doc = document) => {
            let split = doc.title.replace(/漫画|\s-\s(漫本)|\[\d+p(\d+v)?\]/gi, "").split(str);
            try {
                if (mode == 0) return doc.title.replace(str, "").trim();
                if (mode == 1) return split[0].replace(/,$/g, "").replace(/,/g, " ").trim();
                if (mode == 2) return (split[0] + str + split[1]).replace(/,$/g, "").replace(/,/g, " ").trim();
                if (mode == 3) return (split[1] + str + split[0]).replace(/,$/g, "").replace(/,/g, " ").trim();
            } catch (error) {
                console.error("\nfun.title() ERROR", error);
                return doc.title;
            }
        },
        arr: num => new Array(parseInt(num, 10)).fill(),
        showMsg: (text, time = 1000) => {
            if (!fun.ge("body>.FullPictureLoadMsg")) fun.addFullPictureLoadMsg();
            let msg = fun.ge(".FullPictureLoadMsg");
            if (fun.ge(".FullPictureLoadMsg[style]")) msg.removeAttribute("style");
            msg.innerText = text;
            if (time > 0) setTimeout(() => fun.hideMsg(), time);
        },
        hideMsg: () => {
            if (!fun.ge("body>.FullPictureLoadMsg")) return;
            if (!fun.ge(".FullPictureLoadMsg[style]")) {
                let msg = fun.ge(".FullPictureLoadMsg");
                msg.innerText = "none";
                msg.style.display = "none";
            }
        },
        imagesObserver: new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.unobserve(entry.target);
                    let realSrc = entry.target.dataset.src;
                    let nE = entry.target.nextElementSibling;
                    let fancyboxE = entry.target.parentNode;
                    let fancyboxNE = null;
                    if (fancyboxE && fancyboxE.tagName == "A") fancyboxNE = fancyboxE.nextElementSibling;
                    if (realSrc) {
                        entry.target.src = realSrc;
                        entry.target.classList.remove("lazyload");
                        entry.target.onload = () => {
                            if (!/^data/.test(entry.target.src)) entry.target.classList.remove("error");
                        };
                        entry.target.onerror = async (error) => {
                            if (errorNum > 100) return;
                            if (!/e-hentai\.org|exhentai\.org/.test(fun.lh)) errorNum += 1;
                            if (/www\.yinghuamh\.net/.test(fun.lh)) {
                                error.target.dataset.src = error.target.dataset.src.replace(Gm.getMediaHost(media), media);
                            }
                            if (/e-hentai\.org|exhentai\.org/.test(fun.lh)) {
                                let url = error.target.dataset.loadfail ?? [...fun.gae(".gdtm a,.gdtl a")][error.target.dataset.index].href;
                                let newSrc = await fun.fetchDoc(url).then(async doc => {
                                    let loadfail = fun.ge("#loadfail", doc);
                                    let newUrl = url.replace(/\?nl=.+$/, "") + "?nl=" + loadfail.getAttribute("onclick").split("'")[1];
                                    error.target.dataset.loadfail = newUrl;
                                    return await fun.fetchDoc(newUrl).then(newDoc => {
                                        let src = fun.ge("#img", newDoc).src;
                                        if (fancyboxE && fancyboxE.tagName == "A") fancyboxE.href = src;
                                        return src;
                                    });
                                });
                                error.target.dataset.src = newSrc;
                            }
                            if (/civitai\.com/.test(fun.lh)) {
                                if (error.target.dataset.url) {
                                    error.target.dataset.src = error.target.dataset.url;
                                } else {
                                    error.target.dataset.src = error.target.dataset.src.replace("original=true/", "");
                                }
                            }
                            error.target.src = loading_bak;
                            error.target.classList.add("error");
                            setTimeout(() => {
                                if (/www\.yinghuamh\.net/.test(fun.lh)) {
                                    debug(`\nimagesObserver 樱花漫画圖片出錯 重新載入另一個圖片伺服器的圖片網址：\n${realSrc}\nto\n${error.target.dataset.src}`);
                                } else if (/e-hentai\.org|exhentai\.org/.test(fun.lh)) {
                                    debug(`\nimagesObserver E紳士圖片出錯 重新載入新的圖片網址：\n${realSrc}\nto\n${error.target.dataset.src}`);
                                } else {
                                    debug(`\nimagesObserver重新載入出錯圖片：\n${realSrc}`);
                                }
                                error.target.src = error.target.dataset.src;
                            }, 1000);
                        };
                    }
                    if (nE && nE.tagName == "IMG" && nE.dataset.src) nE.src = nE.dataset.src;
                    if (fancyboxNE && fancyboxNE.tagName == "A") {
                        let ele = fancyboxNE.firstElementChild;
                        if (ele && ele.tagName == "IMG" && ele.dataset.src) ele.src = ele.dataset.src;
                    }
                }
            });
        }),
        comicNextObserver: new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    observer.unobserve(entry.target);
                    if (nextLink) {
                        const comicSpaceClickNext = () => {
                            let click = 0;
                            const callback = event => {
                                if (event.code == "Space" || event.key == " ") {
                                    click += 1;
                                    if (click >= 5) {
                                        document.removeEventListener("keydown", callback);
                                        fun.showMsg(displayLanguage.str_34);
                                        location.href = nextLink;
                                    }
                                }
                            };
                            document.addEventListener("keydown", callback);
                        };
                        comicSpaceClickNext();
                    }
                }
            });
        }),
        addFullPictureLoadMsg: () => {
            let div = document.createElement("div");
            div.className = "FullPictureLoadMsg";
            div.style.display = "none";
            div.innerText = "none";
            document.body.appendChild(div);
        },
        css: (css, id = null) => {
            let style = document.createElement("style");
            style.type = "text/css";
            if (isString(id)) style.id = id;
            style.className = "FullPictureLoadStyle";
            style.innerHTML = css;
            document.head.appendChild(style);
        },
        script: async (code, src = 0, pos = 0, doc = document) => {
            let script = document.createElement("script");
            script.className = "FullPictureLoadScript";
            if (src == 0) {
                script.type = "text/javascript";
                script.innerHTML = code;
            }
            if (src == 0 && pos == 0) {
                return script;
            } else if (pos == 1) {
                if (src == 1) {
                    await new Promise(resolve => {
                        script.src = code;
                        doc.body.appendChild(script);
                        script.onload = () => {
                            resolve();
                        }
                    });
                } else {
                    doc.body.appendChild(script);
                }
            }
        },
        delay: (time, msg = 1) => {
            if (time > 200 && msg == 1) fun.showMsg(`${displayLanguage.str_21}${time}${displayLanguage.str_22}...`, time);
            return new Promise(resolve => setTimeout(resolve, time));
        },
        waitEle: (ele, max = 200, doc = document) => {
            let loopNum = 0;
            return new Promise(resolve => {
                let loop = setInterval(() => {
                    loopNum += 1;
                    if (isEle(fun.ge(ele, doc))) {
                        clearInterval(loop);
                        resolve(true);
                    }
                    if (loopNum >= max) {
                        clearInterval(loop);
                        debug(`fun.waitEle()達循環上限，沒有出現"${ele}"元素。`);
                        resolve(false);
                    }
                }, 100);
            });
        },
        waitVar: (declares, max = 200) => {
            let loopNum = 0;
            return new Promise(resolve => {
                let loop = setInterval(() => {
                    loopNum += 1;
                    if (declares in _unsafeWindow) {
                        clearInterval(loop);
                        resolve(true);
                    }
                    if (loopNum >= max) {
                        clearInterval(loop);
                        debug(`fun.waitVar()達循環上限，沒有出現"${declares}"變量。`);
                        resolve(false);
                    }
                }, 100);
            });
        },
        checkImgStatus: (src, msg = null) => {
            if (msg != 0) fun.showMsg(msg || displayLanguage.str_56, 0);
            return new Promise(resolve => {
                let temp = new Image();
                temp.src = src;
                temp.onload = () => {
                    fun.hideMsg();
                    resolve({
                        ok: true,
                        src: src,
                        width: temp.width,
                        height: temp.height
                    });
                }
                temp.onerror = () => {
                    fun.hideMsg();
                    resolve({
                        ok: false,
                        src: src
                    });
                }
            });
        },
        checkDownloadThread: () => {
            return new Promise(resolve => {
                let loop = setInterval(() => {
                    if (currentDownloadThread <= options.threading) {
                        clearInterval(loop);
                        resolve();
                    }
                }, 50);
            });
        },
        generateRandomString: (num, mode = 0) => {
            let characters;
            if (mode === 0) {
                characters = "0123456789";
            } else {
                characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            }
            let string = "";
            let charactersLength = characters.length;
            for (let i = 0; i < num; i++) {
                string += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return string;
        },
        xhr: (url, type = "text", referer = siteUrl, ua = navigator.userAgent) => {
            return new Promise((resolve, reject) => {
                _GM_xmlhttpRequest({
                    method: "GET",
                    url: url,
                    responseType: type,
                    headers: {
                        "Referer": referer,
                        "User-Agent": ua
                    },
                    onload: data => {
                        if (data.status > 400) debug(`\nfun.xhr()連線錯誤碼：${data.status}\n`, url);
                        resolve(data.response);
                    },
                    onerror: error => {
                        console.error("fun.xhr()連線", error);
                        if (type === "text") {
                            resolve("fun.xhr() ERROR");
                        } else if (type === "document") {
                            resolve(fun.doc("fun.xhr() ERROR"));
                        } else if (type === "json") {
                            resolve({
                                error: "fun.xhr() ERROR"
                            });
                        } else if (type === "blob") {
                            resolve(new Blob(["fun.xhr() ERROR"], {
                                type: "text/plain",
                                endings: "native"
                            }));
                        } else {
                            resolve(null);
                        }
                    }
                });
            });
        },
        xhrHEAD: url => {
            return new Promise(resolve => {
                _GM_xmlhttpRequest({
                    method: "HEAD",
                    url: url,
                    timeout: 20000,
                    onload: data => {
                        resolve(data);
                    },
                    onerror: error => {
                        console.log(`fun.xhrHEAD() ERROR\n${url}`, error);
                        resolve({
                            status: 403
                        });
                    },
                    ontimeout: error => {
                        console.log(`fun.xhrHEAD() Timeout\n${url}`, error);
                        resolve({
                            status: 524
                        });
                    }
                });
            });
        },
        imxXHR: url => {
            return new Promise((resolve, reject) => {
                _GM_xmlhttpRequest({
                    method: "POST",
                    url: url,
                    responseType: "document",
                    headers: {
                        "content-type": "application/x-www-form-urlencoded"
                    },
                    data: "imgContinue=Continue+to+image+...+",
                    onload: data => {
                        resolve(data.response);
                    },
                    onerror: error => {
                        reject(error);
                    }
                });
            });
        },
        imageBamXHR: url => {
            return new Promise((resolve, reject) => {
                _GM_xmlhttpRequest({
                    method: "GET",
                    url: url,
                    responseType: "document",
                    headers: {
                        "referrer": url,
                        "referrerPolicy": "strict-origin-when-cross-origin"
                    },
                    onload: data => {
                        resolve(data.response);
                    },
                    onerror: error => {
                        reject(error);
                    }
                });
            });
        },
        xhrDoc: (url, referer = siteUrl, ua = navigator.userAgent) => {
            return new Promise(resolve => {
                _GM_xmlhttpRequest({
                    method: "GET",
                    url: url,
                    responseType: "arraybuffer",
                    headers: {
                        "Referer": referer,
                        "User-Agent": ua
                    },
                    onload: data => {
                        if (data.status >= 400) {
                            debug(`\nfun.xhrDoc()連線錯誤碼：${data.status}\n`, url);
                            let obj = {
                                fn: "fun.xhrDoc()",
                                url: url,
                                status: data.status
                            };
                            fetchErrorArray.push(obj);
                        }
                        let decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                        let htmlText = decoder.decode(data.response);
                        let doc = fun.doc(htmlText);
                        resolve(doc);
                    },
                    onerror: error => {
                        console.error(`\nfun.xhrDoc()出錯:\n${decodeURIComponent(url)}`, error);
                        resolve(null);
                    }
                });
            });
        },
        fetchDoc: (url, retry = 10) => {
            return new Promise(async resolve => {
                fetch(url).then(async res => {
                    if (res.status >= 400 && retry > 0) {
                        let resData = await fun.retryUrl(url, res, "fun.fetchDoc()", retry);
                        if (resData !== null) return resData;
                    }
                    return res.arrayBuffer();
                }).then(buffer => {
                    const decoder = new TextDecoder(document.characterSet || document.charset || document.inputEncoding);
                    const htmlText = decoder.decode(buffer);
                    resolve(fun.doc(htmlText));
                }).catch(error => {
                    console.error(`\nfun.fetchDoc()出錯:\n${decodeURIComponent(url)}`, error);
                    httpFetchError = true;
                    resolve(null);
                });
            });
        },
        getImhentaiSrc: async () => {
            await fun.waitVar("g_th");
            const findExt = i => {
                const c = _unsafeWindow.g_th[i][0];
                if (c === "p") return ".png";
                if (c === "b") return ".bmp";
                if (c === "g") return ".gif";
                return ".jpg";
            };
            const findServer = cId => {
                if (cId > 0 && cId <= 274825) return "m1.imhentai.xxx";
                if (cId > 274825 && cId <= 403818) return "m2.imhentai.xxx";
                if (cId > 403818 && cId <= 527143) return "m3.imhentai.xxx";
                if (cId > 527143 && cId <= 632481) return "m4.imhentai.xxx";
                if (cId > 632481 && cId <= 816010) return "m5.imhentai.xxx";
                if (cId > 816010 && cId <= 970098) return "m6.imhentai.xxx";
                if (cId > 970098 && cId <= 1121113) return "m7.imhentai.xxx";
                return "m8.imhentai.xxx";
            };
            const galleryId = fun.ge(".gview>#gallery_id,#load_id").value;
            const imageDir = fun.ge("#image_dir,#load_dir").value;
            const num = fun.ge("#pages,#load_pages").value ?? "";
            const cId = parseInt(fun.ge("#u_id,#load_dir+#gallery_id").value ?? "", 10);
            const randomServer = _unsafeWindow.random_server ?? findServer(cId);
            return fun.arr(num).map((_, i) => `//${randomServer}/${imageDir}/${galleryId}/${(i + 1)}${findExt(i + 1)}`);
        },
        getKukudmSrc: async (url = siteUrl, doc = document, msg = 1) => {
            if (url === null) return;
            if (fun.ge("//title[contains(text(),'404')]", doc)) return [];
            if (!getImgFn.includes("getKukudmSrc")) getImgFn += " > fun.getKukudmSrc()";
            let timeId = setTimeout(() => msg === 1 ? location.reload() : null, 20000);
            if (msg == 1) fun.showMsg(displayLanguage.str_05, 0);
            let max;
            fun.ge("//td[input]", doc) ? max = fun.gt("//td[input]", 1, doc).match(/共(\d+)/)[1] : max = fun.gt(".bottom .subNav", 1, doc).match(/\/(\d+)/)[1];
            url = url.replace(/1\.htm$/, "");
            let links = fun.arr(max).map((_, i) => url + (i + 1) + ".htm");
            let xhrNum = 0;
            let resArr = links.map(url => {
                return fun.xhrDoc(url).then(doc => {
                    if (msg == 1) fun.showMsg(`${displayLanguage.str_06}${xhrNum+=1}/${links.length}`, 0);
                    let script = fun.gst("document.write", doc);
                    let htmlCode = script.replace("document.write(", "").replace(");", "");
                    let htmlText = fun.run(`(${htmlCode}).toString()`);
                    let dom = fun.doc(htmlText);
                    let imgs = [...dom.images];
                    if (imgs.length > 1) {
                        return {
                            src1: decodeURIComponent(imgs[0].src),
                            src2: decodeURIComponent(imgs[1].src)
                        };
                    } else if (imgs.length > 0) {
                        return decodeURIComponent(imgs[0].src);
                    } else {
                        return null;
                    }
                });
            });
            let allSrc = await Promise.all(resArr).then(arr => {
                clearTimeout(timeId);
                if (msg == 1) fun.hideMsg();
                return arr;
            });
            try {
                if (isString(allSrc[0])) {
                    return allSrc;
                } else {
                    msg == 1 ? fun.showMsg(displayLanguage.str_56, 0) : null;
                    let status = await fun.xhrHEAD(allSrc[0].src1).then(res => res.status);
                    return status == 200 ? allSrc.map(e => e.src1) : allSrc.map(e => e.src2);
                }
            } catch (e) {
                return [];
            }
        },
        remove: (obj, time = 0) => {
            if (isString(obj)) {
                setTimeout(() => [...fun.gae(obj)].forEach(e => e.remove()), time);
            } else if (isArray(obj)) {
                let selectors = obj;
                setTimeout(() => {
                    selectors.forEach(selector => {
                        [...fun.gae(selector)].forEach(e => e.remove());
                    });
                }, time);
            }
        },
        addUrlHtml: (url, ele, pos, text = "點選進入下一話") => {
            let _pos;
            switch (pos) {
                case 0:
                    _pos = "beforebegin"; //在元素之前。
                    break;
                case 1:
                    _pos = "afterend"; //在元素之後。
                    break;
                case 2:
                    _pos = "beforeend"; //在元素裡面，最後一個子元素之後。
                    break;
                case 3:
                    _pos = "afterbegin"; //在元素裡面，第一個子元素之前。
                    break;
            }
            let html = `<div style="padding: 20px 0; text-align: center;"><a href="${url}"style="font-size: 26px;line-height: 50px;height: 50px;text-align: center;">${text}</a></div>`;
            fun.ge(ele).insertAdjacentHTML(_pos, html);
        },
        dataURLtoBlobURL: dataurl => {
            let arr = dataurl.split(","),
                mime = arr[0].match(/:(.*?);/)[1],
                bstr = atob(arr[1]),
                n = bstr.length,
                u8arr = new Uint8Array(n);
            while (n--) {
                u8arr[n] = bstr.charCodeAt(n);
            }
            return URL.createObjectURL(new Blob([u8arr], {
                type: mime
            }));
        },
        imgSrcToDataURL: (src, type = "image/jpeg", cros = 0) => {
            return new Promise((resolve, reject) => {
                let img = new Image();
                img.src = src;
                if (cros == 1) img.setAttribute("crossOrigin", "");
                img.onload = () => {
                    let canvas = document.createElement("canvas");
                    canvas.height = img.naturalWidth;
                    canvas.width = img.naturalHeight;
                    canvas.getContext("2d").drawImage(img, 0, 0);
                    URL.revokeObjectURL(img.src);
                    let dataURL = canvas.toDataURL(type);
                    resolve(dataURL);
                };
                img.onerror = error => {
                    reject(error);
                }
            });
        },
        imgSrcToBlobURL: (src, type = "image/jpeg", cros = 0) => {
            return new Promise((resolve, reject) => {
                let img = new Image();
                img.src = src;
                if (cros == 1) img.setAttribute("crossOrigin", "");
                img.onload = () => {
                    const canvas = new OffscreenCanvas(img.naturalWidth, img.naturalHeight);
                    canvas.getContext("2d").drawImage(img, 0, 0);
                    URL.revokeObjectURL(img.src);
                    canvas.convertToBlob({
                        type: type,
                        quality: 1
                    }).then(blob => {
                        let blobURL = URL.createObjectURL(blob);
                        resolve(blobURL);
                    });
                };
                img.onerror = error => {
                    reject(error);
                }
            });
        },
        imgToBlobURL: (img, type = "image/jpeg", quality = 1) => {
            const canvas = new OffscreenCanvas(img.naturalWidth, img.naturalHeight);
            canvas.getContext("2d").drawImage(img, 0, 0);
            return canvas.convertToBlob({
                type: type,
                quality: quality
            }).then(blob => URL.createObjectURL(blob));
        },
        imgBlobArr: async (selector, type = "image/jpeg", quality = 1) => {
            fun.showMsg(displayLanguage.str_53, 0);
            await fun.delay(200, 0);
            let num = 0;
            let imgs = await [...fun.gae(selector)].map(async (img, index, arr) => {
                let blobUrl = await fun.imgToBlobURL(img, type, quality);
                fun.showMsg(`DrawImage ${num += 1}/${arr.length}`, 0);
                return blobUrl;
            });
            fun.hideMsg();
            return imgs;
        },
        blobToDataURL: blob => {
            return new Promise(resolve => {
                const reader = new FileReader();
                reader.readAsDataURL(blob);
                reader.onload = () => {
                    resolve(reader.result);
                }
            });
        },
        convertImage: async (blob, type = "image/jpeg") => {
            let img = new Image();
            img.src = URL.createObjectURL(blob);
            await new Promise((resolve, reject) => (img.onload = resolve, img.onerror = reject));
            const canvas = new OffscreenCanvas(img.naturalWidth, img.naturalHeight);
            canvas.getContext("2d").drawImage(img, 0, 0);
            URL.revokeObjectURL(img.src);
            return canvas.convertToBlob({
                type: type,
                quality: 0.9
            });
        },
        scrollEles: async (ele, ms = 100) => {
            let eles = [...fun.gae(ele)];
            for (let i in eles) {
                eles[i].scrollIntoView({
                    behavior: "smooth",
                    block: "end"
                });
                await fun.delay(ms, 0);
            }
        },
        aotoScrollEles: async (selector, callback, time = 5000) => {
            if (isAutoScrolling) return;
            isAutoScrolling = true;
            let n = 0;
            let timeout = false;
            const autoScrollIntoView = async (arr, num) => {
                for (let i = 0; i < arr.length; i++) {
                    fun.showMsg(`AutoScroll ${n += 1}/${num}`, 0);
                    await new Promise(resolve => {
                        let timeId = setTimeout(() => {
                            timeout = true;
                            clearInterval(loop);
                            resolve();
                        }, time);
                        let loop = setInterval(async () => {
                            arr[i].scrollIntoView();
                            if (await callback(arr[i])) {
                                clearTimeout(timeId);
                                clearInterval(loop);
                                resolve();
                            }
                        }, 100);
                    });
                    if (timeout) break;
                }
                fun.hideMsg();
                if (timeout) fun.showMsg("Timeout");
            };
            let imgs = [...fun.gae(selector)];
            await autoScrollIntoView(imgs, imgs.length);
            let newImgs = [...fun.gae(selector)];
            if (imgs.length < newImgs.length) {
                newImgs = newImgs.slice(imgs.length);
                await autoScrollIntoView(newImgs, imgs.length + newImgs.length);
                _unsafeWindow.scrollTo({
                    top: 0
                });
            } else {
                _unsafeWindow.scrollTo({
                    top: 0
                });
            }
            isAutoScrolling = false;
        },
        openInTab: (url, target = "_blank") => {
            let a = document.createElement("a");
            a.href = url;
            a.target = target;
            a.style = "display: none;";
            document.body.appendChild(a);
            a.click();
            a.remove();
        },
        addMutationObserver: (callback, config = MutationObserverConfig, node = document.body) => {
            callback();
            new MutationObserver(callback).observe(node, config);
        },
        scrollEvent: slideIndex => {
            if (!isNumber(slideIndex)) return;
            let modeName = "Samll";
            switch (viewMode) {
                case 0:
                    modeName = "Original";
                    break;
                case 1:
                    modeName = "Samll";
                    break;
                default:
                    console.error("模式错误");
                    break;
            }
            debug(`\nfun.scrollEvent() > imgLocation${modeName}_` + slideIndex);
            let elementById = document.getElementById(`imgLocation${modeName}_` + slideIndex);
            if (elementById) {
                elementById.scrollIntoView({
                    block: "center",
                    behavior: "smooth",
                    inline: "center",
                });
            } else if (fun.ge(".swiper-slide.swiper-slide-active") && fun.ge(".FullPictureLoadImage")) {
                [...fun.gae(".FullPictureLoadImage")][slideIndex].scrollIntoView({
                    block: "center",
                    behavior: "smooth",
                    inline: "center",
                });
            } else if (fun.ge("#FullPictureLoadImgBox:not([style*=none]) .FullPictureLoadImage.small")) {
                [...fun.gae("#FullPictureLoadImgBox:not([style*=none]) .FullPictureLoadImage.small")][slideIndex].scrollIntoView({
                    block: "center",
                    behavior: "smooth",
                    inline: "center",
                });
            } else if (fun.ge(".FullPictureLoadImage:not(.small)")) {
                [...fun.gae(".FullPictureLoadImage:not(.small)")][slideIndex].scrollIntoView({
                    block: "center",
                    behavior: "smooth",
                    inline: "center",
                });
            } else {
                console.error(" # ", "未定位id！");
            }
        },
        clearAllTimer: (mode = 0) => {
            let debuggerStr = `
            if ((() => {}).constructor === Function) Function.prototype.constructor = () => {};
            `;
            if (mode == 0 || mode == 1) new Function(debuggerStr)();
            let endTidStr = `
            let endTid = setTimeout(() => {});
            for (let i = 0; i <= endTid; i++) {
                clearTimeout(i);
            }
            `;
            if (mode == 0 || mode == 2) {
                new Function(endTidStr)();
                let endTid = setTimeout(() => {});
                for (let i = 0; i <= endTid; i++) {
                    clearTimeout(i);
                }
            }
            let endIidStr = `
            let endIid = setInterval(() => {});
            for (let i = 1; i <= endIid; i++) {
                clearInterval(i);
            }
            `;
            if (mode == 0 || mode == 3) {
                new Function(endIidStr)();
                let endIid = setInterval(() => {});
                for (let i = 1; i <= endIid; i++) {
                    clearInterval(i);
                }
            }
        },
        clearSetTimeout: () => {
            let endTid = setTimeout(() => {});
            for (let i = 0; i <= endTid; i++) {
                clearTimeout(i);
            }
        },
        clearElementEvent: () => {
            return fun.fetchDoc(document.URL).then(dom => {
                let newDocumentElement = document.importNode(dom.documentElement, true);
                let oldDocumentElement = document.documentElement;
                document.replaceChild(newDocumentElement, oldDocumentElement);
                debug("網站元素事件已清除");
            });
        },
        createImgArray: (srcs) => {
            return srcs.map(src => {
                let img = new Image();
                img.className = "FullPictureLoadImage lazyload";
                img.src = loading_bak;
                img.dataset.src = src;
                return img;
            });
        },
        lazyload: async () => {
            let imgs = [...fun.gae("img.FullPictureLoadImage.lazyload")];
            fun.singleThreadLoadImgs(imgs);
            await fun.delay(1000, 0);
            imgs.forEach(img => fun.imagesObserver.observe(img));
        },
        copymangaUI: () => {
            fun.run("$(document).unbind();document[_0x1f93('0x1b')][_0x1f93('0x27')]=null;");
            const toggleToolbar = () => {
                var e = e || window.event;
                if (e.wheelDelta < 0 || e.detail > 0) {
                    $("h4.header").attr("style", "top: -30px;");
                    $("div.footer").attr("style", "bottom: -41px;");
                } else {
                    $("h4.header").removeAttr("style");
                    $("div.footer").removeAttr("style");
                }
            };
            document.addEventListener("wheel", toggleToolbar);
            document.addEventListener("DOMMouseScroll", toggleToolbar);
            const keyToggleToolbar = event => {
                if (["PageDown", "Space", "ArrowDown"].includes(event.code) || ["PageDown", " ", "ArrowDown"].includes(event.key)) {
                    $("h4.header").attr("style", "top: -30px;");
                    $("div.footer").attr("style", "bottom: -41px;");
                } else {
                    $("h4.header").removeAttr("style");
                    $("div.footer").removeAttr("style");
                }
            };
            document.addEventListener("keydown", keyToggleToolbar);
        },
        MangabzUI: () => {
            const toggleToolbar = e => {
                if (e.wheelDelta < 0 || e.detail > 0) {
                    $(".top-bar").attr("style", "top: -74px;");
                } else {
                    $(".top-bar").removeAttr("style");
                }
            };
            document.addEventListener("wheel", toggleToolbar);
            document.addEventListener("DOMMouseScroll", toggleToolbar);
            const keyToggleToolbar = event => {
                if (["PageDown", "Space", "ArrowDown"].includes(event.code) || ["PageDown", " ", "ArrowDown"].includes(event.key)) {
                    $(".top-bar").attr("style", "top: -74px;");
                } else {
                    $(".top-bar").removeAttr("style");
                }
            };
            document.addEventListener("keydown", keyToggleToolbar);
        },
        XmanhuaUI: () => {
            const clickToggleToolbar = () => {
                let t = fun.ge(".header.toolbar");
                if (t) {
                    $(".header").removeClass("toolbar");
                    $(".header").removeAttr("style");
                } else {
                    $(".header").addClass("toolbar");
                    $(".header").attr("style", "top: -64px;")
                }
                let b = fun.ge(".reader-bottom.toolbar");
                if (b) {
                    $(".reader-bottom").removeClass("toolbar");
                    $(".reader-bottom").removeAttr("style");
                } else {
                    $(".reader-bottom").addClass("toolbar");
                    $(".reader-bottom").attr("style", "bottom: -50px;");
                }
            };
            document.addEventListener("click", clickToggleToolbar);
            const toggleToolbar = event => {
                if (event.wheelDelta < 0 || event.detail > 0) {
                    $(".header").addClass("toolbar");
                    $(".header").attr("style", "top: -64px;");
                    $(".reader-bottom").addClass("toolbar");
                    $(".reader-bottom").attr("style", "bottom: -50px;");
                } else {
                    $(".header").removeClass("toolbar");
                    $(".header").removeAttr("style");
                    $(".reader-bottom").removeClass("toolbar");
                    $(".reader-bottom").removeAttr("style");
                }
            };
            document.addEventListener("wheel", toggleToolbar);
            document.addEventListener("DOMMouseScroll", toggleToolbar);
            const keyToggleToolbar = event => {
                if (["PageDown", "Space", "ArrowDown"].includes(event.code) || ["PageDown", " ", "ArrowDown"].includes(event.key)) {
                    $(".header").addClass("toolbar");
                    $(".header").attr("style", "top: -64px;");
                    $(".reader-bottom").addClass("toolbar");
                    $(".reader-bottom").attr("style", "bottom: -50px;");
                } else {
                    $(".header").removeClass("toolbar");
                    $(".header").removeAttr("style");
                    $(".reader-bottom").removeClass("toolbar");
                    $(".reader-bottom").removeAttr("style");
                }
            };
            document.addEventListener("keydown", keyToggleToolbar);
        },
        _8ComicM_UI: () => {
            let textNode = document.querySelector(".book_inc_title")?.nextSibling;
            if (textNode?.nodeName == "#text" && textNode?.textContent?.indexOf("alert") > -1) textNode.remove();
            fun.ge("#pageindex").parentNode.appendChild(fun.ge("#prevvol").cloneNode(true));
            fun.ge("#pageindex").parentNode.appendChild(fun.ge("#nextvol").cloneNode(true));
            let ul = fun.ge("#TheTable>ul");
            let v1 = fun.ge(".view_tmenu").cloneNode(true);
            let v2 = fun.gae(".view_menut")[1];
            ul.appendChild(v2);
            ul.appendChild(v1);
            let b1 = fun.ge(".book_inc_title");
            let b2 = fun.ge(".book_link_item");
            ul.appendChild(b1);
            if (b2) ul.appendChild(b2);
        },
        cartoonmadUI: () => {
            fun.run("document.onkeydown=null;");
            fun.remove("//td[div[@id='sidebar-follow']] | //td[ins[@class='adsbygoogle']] | //tr[td[script]] | //select");
            let ele = fun.ge("//tr[td[@bgcolor='#EAEAEA']]");
            if (ele) ele.parentNode.appendChild(ele.cloneNode(true));
            let eleM = fun.ge("//tr[td[table[@bgcolor='#CCCCCC']]]");
            if (eleM) {
                let x = eleM.parentNode.lastElementChild.previousElementSibling;
                x.parentNode.insertBefore(eleM.cloneNode(true), x);
            }
        }
    };

    loading_bak = fun.dataURLtoBlobURL(loading_bak);
    autoPagerLoading_gif = fun.dataURLtoBlobURL(autoPagerLoading_gif);

    const ge = selector => document.querySelector(selector);
    const gae = selector => document.querySelectorAll(selector);
    const gx = xpath => document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
    const gax = xpath => {
        let nodes = [];
        let results = document.evaluate(xpath, document, null, XPathResult.ANY_TYPE, null);
        let node;
        while (node = results.iterateNext()) {
            nodes.push(node);
        }
        return nodes;
    };

    const getNum = (i, padStart = 4) => {
        let n = parseInt(i, 10) + 1;
        let picNum = String(n).padStart(padStart, "0");
        return picNum;
    };

    const showMsg = (text, time = 1000) => {
        if (!ge("body>.FullPictureLoadMsg")) fun.addFullPictureLoadMsg();
        ge(".FullPictureLoadMsg").removeAttribute("style");
        ge(".FullPictureLoadMsg").innerText = text;
        setTimeout(() => {
            ge(".FullPictureLoadMsg").innerText = "none";
            ge(".FullPictureLoadMsg").style.display = "none";
        }, time);
    };

    const getDataMsg = (text, picNum, imgsNum) => {
        if (picNum != "none") fun.showMsg(`${displayLanguage.str_23}${downloadNum += 1}/${imgsNum}${displayLanguage.str_24}${text}`, 0);
    };

    const getReferer = srcUrl => {
        let referer;
        if (/vipr\.im|imagetwist\.com|imgspice\.com/.test(srcUrl) || siteData.referer == "src") {
            referer = srcUrl;
        } else if (/saint2\.su/.test(srcUrl)) {
            referer = "https://saint2.su/";
        } else if (/bunkr/.test(srcUrl)) {
            referer = "https://bunkr.sk/";
        } else if (isString(siteData?.referer) || siteData.referer == "") {
            referer = siteData.referer;
        } else {
            referer = siteUrl;
        }
        return referer;
    };

    const Fetch_API_Download = (srcUrl, picNum = "none", imgsNum = "none") => {
        currentDownloadThread++;
        return new Promise(resolve => {
            fetch(srcUrl, {
                headers: {
                    "accept": "*/*",
                    "upgrade-insecure-requests": "1"
                },
                referrer: getReferer(srcUrl),
                referrerPolicy: "strict-origin-when-cross-origin"
            }).then(async res => {
                return {
                    data: res,
                    blob: await res.blob()
                }
            }).then(obj => {
                currentDownloadThread--;
                getDataMsg(displayLanguage.str_25, picNum, imgsNum);
                resolve({
                    load: "下載成功",
                    blob: obj.blob,
                    picNum: picNum,
                    src: srcUrl,
                    finalUrl: obj?.data?.url,
                    get: "Fetch API"
                });
            }).catch(error => {
                currentDownloadThread--;
                resolve({
                    error: "下載錯誤",
                    picNum: picNum,
                    src: srcUrl,
                    errorLog: error,
                    get: "Fetch API"
                });
                getDataMsg(displayLanguage.str_26, picNum, imgsNum);
                console.error("Fetch_API_Download() Error: ", error);
            });
        })
    };

    _unsafeWindow.$x = xpath => document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
    _unsafeWindow.$$x = xpath => {
        let nodes = [];
        let results = document.evaluate(xpath, document, null, XPathResult.ANY_TYPE, null);
        let node;
        while (node = results.iterateNext()) {
            nodes.push(node);
        }
        return nodes;
    };

    const GM_XHR_Download = (srcUrl, picNum = "none", imgsNum = "none") => {
        currentDownloadThread++;
        return new Promise(resolve => {
            _GM_xmlhttpRequest({
                method: "GET",
                url: srcUrl,
                responseType: "blob",
                headers: {
                    origin: location.origin,
                    referer: getReferer(srcUrl),
                    accept: "*/*",
                    "upgrade-insecure-requests": "1"
                },
                onload: async data => {
                    currentDownloadThread--;
                    let blob = data.response;
                    //debug("GM blob", blob);
                    if (/\/octet-stream/.test(blob.type) && blob.size > 1024) {
                        resolve({
                            load: "下載成功",
                            blob: blob,
                            picNum: picNum,
                            src: srcUrl,
                            finalUrl: data.finalUrl,
                            get: "GM_xmlhttpRequest"
                        });
                        getDataMsg(displayLanguage.str_25, picNum, imgsNum);
                    } else if (/^image|^video|text\/base64\.jpg/.test(blob.type)) {
                        resolve({
                            load: "下載成功",
                            blob: blob,
                            picNum: picNum,
                            src: srcUrl,
                            finalUrl: data.finalUrl,
                            get: "GM_xmlhttpRequest"
                        });
                        getDataMsg(displayLanguage.str_25, picNum, imgsNum);
                    } else if (blob.type === "text/html; charset=utf-8" && fun.lh === "bunmh.com") {
                        let newBlob = await fun.convertImage(blob);
                        resolve({
                            load: "下載成功",
                            blob: newBlob,
                            picNum: picNum,
                            src: srcUrl,
                            finalUrl: data.finalUrl,
                            get: "GM_xmlhttpRequest"
                        });
                        getDataMsg(displayLanguage.str_25, picNum, imgsNum);
                    } else {
                        let htmlText = "none";
                        if (/text\/html/.test(blob.type)) {
                            htmlText = blob.text();
                        }
                        resolve({
                            htmlText: htmlText,
                            blob: blob,
                            error: "下載錯誤",
                            picNum: picNum,
                            src: srcUrl,
                            finalUrl: data.finalUrl,
                            data: data,
                            get: "GM_xmlhttpRequest"
                        });
                        getDataMsg(displayLanguage.str_26, picNum, imgsNum);
                    }
                },
                onerror: error => {
                    currentDownloadThread--;
                    resolve({
                        error: "下載錯誤",
                        picNum: picNum,
                        src: srcUrl,
                        errorLog: error,
                        get: "GM_xmlhttpRequest"
                    });
                    getDataMsg(displayLanguage.str_26, picNum, imgsNum);
                    console.error("GM_XHR_Download() Error: ", error);
                }
            });
        });
    };

    const saveData = (blob, fileName) => {
        let objURL = URL.createObjectURL(blob);
        let a = document.createElement("a");
        a.href = objURL;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        a.remove();
        setTimeout(() => URL.revokeObjectURL(objURL), 1000);
    };

    const checkGeting = () => {
        if (isDownloading) {
            alert(displayLanguage.str_48);
            return true;
        }
        if (isFetching) {
            alert(displayLanguage.str_49);
            return true;
        }
        return false;
    };

    const getImgs = async selector => {
        isFetching = true;
        let imgs = null;
        if (ge(".FullPictureLoadImage") && siteData.repeat != 1) {
            imgs = [...gae(".FullPictureLoadImage:not(.small)")];
        } else if (isFn(selector)) {
            imgs = await selector();
            if (getImgFn == "" && !getImgFn.includes("專用Fn")) getImgFn += " > " + siteData.name + "專用Fn";
        } else if (!selector || selector === "") {
            showMsg(displayLanguage.str_41);
            return;
        } else if (selector.length < 3) {
            showMsg(displayLanguage.str_42);
            return;
        } else if (/^\//.test(selector)) {
            imgs = [...gax(selector)];
            if (siteData.category != "lazyLoad" && !getImgFn.includes("...gax")) getImgFn += " > [...gax(selector)]";
        } else {
            imgs = [...gae(selector)];
            if (siteData.category != "lazyLoad" && !getImgFn.includes("...gae")) getImgFn += " > [...gae(selector)]";
        }
        if (!isArray(imgs)) {
            isFetching = false;
            alert("getImgs() Error! ImageList Not Array");
            return [];
        }
        if (isPromise(imgs[0])) {
            imgs = await Promise.all(imgs); //取出new Promise的值
        }
        fun.hideMsg();
        imgs = imgs.filter(item => item); //去除空、無用
        let imgsSrcArr = imgs.map(img => {
            let check = fun.checkImgSrc(img);
            if (check.ok) {
                return check.src;
            } else {
                console.error("\ngetImgs() imgs 格式錯誤！", img);
                return null;
            }
        }).filter(item => item);
        if (siteData.category != "lazyLoad" && globalImgArray.length == 0) debug(`\ngetImgs()${getImgFn} 所有圖片網址：`, imgsSrcArr);
        if (siteData.category != "lazyLoad" && globalImgArray.length == 0) debug(`\ngetImgs()${getImgFn} 去重複後的圖片網址：`, [...new Set(imgsSrcArr)]);
        imgsSrcArr = [...new Set(imgsSrcArr)];
        globalImgArray = imgsSrcArr;
        isFetching = false;
        return imgsSrcArr;
    };

    const startAutoDownload = async () => {
        let autoDownload = siteData?.autoDownload;
        let next = siteData?.next;
        if (!autoDownload) return;
        let ele;
        isFn(next) ? ele = await next() : ele = fun.ge(next);
        if (ele && autoDownload[0] == 1 || ele && options.autoDownload == 1) {
            let max = autoDownload[1] || options.autoDownloadCountdown;
            let countdownNum = max;
            fun.showMsg(`${displayLanguage.str_32}${max}${displayLanguage.str_33}`, 0);
            for (let i = 1; i < max; i++) {
                setTimeout(() => fun.showMsg(`${displayLanguage.str_32}${countdownNum-=1}${displayLanguage.str_33}`, 0), i * 1000);
            }
            setTimeout(() => {
                if (isFn(next)) {
                    fun.showMsg(displayLanguage.str_34);
                    location.href = ele;
                } else {
                    fun.showMsg(displayLanguage.str_35);
                    ele.click();
                }
            }, max * 1000);
        } else if (!ele && autoDownload[0] == 1 || !ele && options.autoDownload == 1) {
            fun.showMsg(displayLanguage.str_36, 0);
            options.autoDownload = 0;
            let jsonStr = JSON.stringify(options);
            localStorage.setItem("FullPictureLoadOptions", jsonStr);
        }
    };

    const DownloadFn = async () => {
        if (checkGeting() || ge("#FullPictureLoadOptions:not([style])")) return;
        let selector, titleText;
        let autoDownload = siteData?.autoDownload;
        if (fastDownload) {
            selector = siteData.imgs;
            titleText = (customTitle || document.title.replace(/\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|【\d+[\w\s\.\+-]+】/i, "").replace(/[\/\?<>\\:\*\|":]/g, " ").trim());
        } else {
            if (!autoDownload || autoDownload && autoDownload[0] != 1 && options.autoDownload != 1) {
                selector = siteData.imgs;
                titleText = await prompt(displayLanguage.str_51, (customTitle || document.title.replace(/\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|【\d+[\w\s\.\+-]+】/i, "").replace(/[\/\?<>\\:\*\|":]/g, " ").trim()));
            } else if (autoDownload) {
                if (autoDownload[0] == 1 || options.autoDownload == 1) {
                    selector = siteData.imgs;
                    titleText = (customTitle || document.title.replace(/\(\d+[\w\s\.\+-]+\)|\[\d+[\w\s\.\+-]+\]|【\d+[\w\s\.\+-]+】/i, "").replace(/[\/\?<>\\:\*\|":]/g, " ").trim());
                } else {
                    debug("未開啟自動下載");
                    return;
                }
            }
        }
        isDownloading = true;
        let imgsSrcArr = await getImgs(selector);
        if (imgsSrcArr.length > 0 && titleText != null && titleText != "") {
            fun.showMsg(displayLanguage.str_55, 0);
            let loopMsg;
            const imgsNum = parseInt(imgsSrcArr.length, 10);
            let title = titleText;
            const zip = new JSZip();
            let zipFolder;
            let videosNum;
            if (videosSrcArray.length > 0 && siteData.downloadVideo && siteData.downloadVideo == true) {
                videosNum = parseInt(videosSrcArray.length, 10);
                zipFolder = zip.folder(`${title} [${imgsNum}P + ${videosNum}V]`);
            } else {
                zipFolder = zip.folder(`${title} [${imgsNum}P]`);
            }
            const padStart = String(imgsSrcArr.length).length;
            for (let i = 0; i < imgsSrcArr.length; i++) {
                let picNum = getNum(i, padStart);
                let promiseBlob;
                await fun.checkDownloadThread();
                siteData.fetch == 1 ? promiseBlob = Fetch_API_Download(imgsSrcArr[i], picNum, imgsNum) : promiseBlob = GM_XHR_Download(imgsSrcArr[i], picNum, imgsNum);
                promiseBlobArray.push(promiseBlob);
            }
            if (videosSrcArray.length > 0 && siteData?.downloadVideo == true) {
                const padStart = String(videosNum).length;
                loopMsg = setInterval(() => {
                    fun.showMsg("Video Downloading...", 0);
                }, 2000);
                for (let i = 0; i < videosSrcArray.length; i++) {
                    let videoNum = getNum(i, padStart);
                    let promiseBlob;
                    await fun.checkDownloadThread();
                    siteData.fetch == 1 ? promiseBlob = Fetch_API_Download(videosSrcArray[i], videoNum, imgsNum + videosNum) : promiseBlob = GM_XHR_Download(videosSrcArray[i], videoNum, imgsNum + videosNum);
                    promiseBlobArray.push(promiseBlob);
                }
            }
            debug("\nPromiseBlobArray：", promiseBlobArray);
            Promise.all(promiseBlobArray).then(async data => {
                try {
                    clearInterval(loopMsg);
                } catch (e) {}
                debug("\nPromiseAllData：", data);
                let blobDataArray = data.filter(item => item.load); //成功下載
                let errorDataArray = data.filter(item => item.error); //下載錯誤
                debug("\nNewDataArray：", blobDataArray);
                debug("\nErrorDataArray：", errorDataArray);
                if (errorDataArray.length > 0) {
                    options.autoDownload = 0;
                    let jsonStr = JSON.stringify(options);
                    localStorage.setItem("FullPictureLoadOptions", jsonStr);
                    downloadNum = 0;
                    isDownloading = false;
                    let yes = await confirm(`${displayLanguage.str_27}${errorDataArray.length}${displayLanguage.str_28}${displayLanguage.str_29}`);
                    fun.hideMsg();
                    if (!yes) {
                        promiseBlobArray = [];
                        blobDataArray = null;
                        errorDataArray = null;
                        return;
                    }
                }
                if (blobDataArray.length > 0) {
                    for (let i = 0; i < blobDataArray.length; i++) {
                        let ex;
                        let blobData = blobDataArray[i].blob;
                        let type = blobData.type;
                        try {
                            if (/octet-stream/.test(type)) {
                                if (/\.webp/i.test(blobDataArray[i].src) && convertWebpToJpg != 1) {
                                    blobData = await fun.convertImage(blobData, "image/webp");
                                    ex = "webp";
                                } else {
                                    blobData = await fun.convertImage(blobData);
                                    ex = "jpg";
                                }
                                fun.showMsg(`octet-stream to ${ex} ${(i+ 1)}/${blobDataArray.length}`, 0);
                            } else if ((/webp/i.test(type) || /\.webp/i.test(blobDataArray[i].finalUrl)) && !type.includes("image/jpeg") && convertWebpToJpg == 1) {
                                blobData = await fun.convertImage(blobData);
                                ex = "jpg";
                                fun.showMsg(`${displayLanguage.str_102} to ${ex} ${(i+ 1)}/${blobDataArray.length}`, 0);
                            } else if (/^text\/base64\.jpg/.test(type)) {
                                ex = "jpg";
                            } else {
                                ex = type.split("/")[1].match(/\w+/)[0];
                            }
                        } catch (e) {
                            if (/^image/.test(type)) {
                                ex = "jpg";
                            } else {
                                console.error("\nDownloadFn() PromiseAll blob資料格式錯誤", blobDataArray[i]);
                                fun.showMsg(displayLanguage.str_30, 0);
                                return;
                            }
                        }
                        let fileName;
                        ex == "mp4" ? fileName = `${blobDataArray[i].picNum}V.${(ex)}` : fileName = `${blobDataArray[i].picNum}P.${(siteData.ex || ex)}`;
                        if (options.zip == 1) {
                            //console.log(`第${n}/${blobDataArray.length}張，檔案名：${fileName}，大小：${parseInt(blobDataArray[i].blob.size / 1024, 10)} Kb`);
                            zipFolder.file(fileName, blobData, {
                                binary: true
                            });
                        } else {
                            saveData(blobData, title + "_" + fileName);
                            await fun.delay(200, 0);
                            if (i === blobDataArray.length - 1) {
                                promiseBlobArray = [];
                                downloadNum = 0;
                                isDownloading = false;
                                fun.hideMsg();
                                startAutoDownload();
                            }
                        }
                    }
                    if (options.zip == 1) {
                        zip.generateAsync({
                            type: "blob"
                        }, (metadata) => {
                            fun.showMsg(displayLanguage.str_31 + metadata.percent.toFixed(2) + " %", 0);
                        }).then(async data => {
                            debug("\nZIP壓縮檔數據：", data);
                            let fileName;
                            if (videosSrcArray.length > 0 && siteData.downloadVideo && siteData.downloadVideo == true) {
                                fileName = `${title} [${imgsNum}P + ${videosNum}V].${options.file_extension}`;
                            } else {
                                fileName = `${title} [${imgsNum}P].${options.file_extension}`;
                            }
                            saveData(data, fileName);
                            promiseBlobArray = [];
                            downloadNum = 0;
                            isDownloading = false;
                            fun.hideMsg();
                            startAutoDownload();
                        });
                    }
                } else {
                    promiseBlobArray = [];
                    downloadNum = 0;
                    isDownloading = false;
                    showMsg(displayLanguage.str_43);
                    return;
                }
            });
        } else {
            isDownloading = false;
            showMsg(displayLanguage.str_41);
            return;
        }
    };

    const exportImgSrcText = async () => {
        if (checkGeting() || ge("#FullPictureLoadOptions:not([style])")) return;
        let selector = siteData.imgs;
        let srcArr = await getImgs(selector);
        if (srcArr.length == 0) return showMsg(displayLanguage.str_44);
        let picNum = srcArr.length;
        let titleText = (customTitle || document.title);
        let fileName = `${titleText}[${picNum}P]_MediaURLs.txt`;
        if (videosSrcArray.length > 0) {
            srcArr = srcArr.concat(videosSrcArray);
            fileName = `${titleText}[${picNum}P + ${videosSrcArray.length}V]_MediaURLs.txt`;
        }
        let str = srcArr.join("\n");
        let blob = new Blob([str], {
            type: "text/plain",
            endings: "native"
        });
        saveData(blob, fileName);
        showMsg(`${displayLanguage.str_101}`);
    };

    const copyImgSrcText = async () => {
        if (checkGeting() || ge("#FullPictureLoadOptions:not([style])")) return;
        let selector = siteData.imgs;
        let srcArr = await getImgs(selector);
        siteData.insertImg ? debug("手動插入圖片") : debug("複製網址");
        if (srcArr.length == 0) return showMsg(displayLanguage.str_44);
        if ((!fun.ge(".FullPictureLoadImage") && siteData.insertImg) || siteData.repeat == 1 && siteData.insertImg) {
            return fun.insertImg(srcArr, siteData.insertImg[0], siteData.insertImg[1]);
        }
        if (videosSrcArray.length > 0) srcArr = srcArr.concat(videosSrcArray);
        let textArr = [customTitle || document.title].concat(srcArr);
        let str = textArr.join("\n");
        console.log(str);
        copyToClipboard(str);
        showMsg(`${displayLanguage.str_45}(${textArr.length - 1})`);
    };

    const copyImgSrcTextB = async () => {
        if (checkGeting() || ge("#FullPictureLoadOptions:not([style])")) return;
        let selector = siteData.imgs;
        let srcArr = await getImgs(selector);
        if (srcArr.length == 0) return showMsg(displayLanguage.str_44);
        if (videosSrcArray.length > 0) srcArr = srcArr.concat(videosSrcArray);
        let textArr = [customTitle || document.title].concat(srcArr);
        let str = textArr.join("\n");
        console.log(str);
        copyToClipboard(str);
        showMsg(`${displayLanguage.str_45}(${textArr.length - 1})`);
    };

    const copyToClipboard = text => {
        if (_unsafeWindow.navigator.clipboard && _unsafeWindow.isSecureContext) {
            return _unsafeWindow.navigator.clipboard.writeText(text);
        } else {
            let textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "absolute";
            textArea.style.opacity = 0;
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            return new Promise((res, rej) => {
                document.execCommand("copy") ? res() : rej();
                textArea.remove();
            });
        }
    };

    const goToNo1Img = (time = 1000) => {
        if (ge("#FullPictureLoadOptions:not([style])")) return;
        let ele;
        ge("#FullPictureLoadImgBox:not([style*=none])") ? ele = ge(".FullPictureLoadImage.small") : ele = ge(".FullPictureLoadImage");
        if (ele) {
            if (time != 0) showMsg(displayLanguage.str_46);
            setTimeout(() => {
                ele.scrollIntoView({
                    behavior: "smooth"
                });
            }, time);
        }
    };

    const goToImg = img => {
        let ele = null;
        if (ge("#FullPictureLoadImgBox:not([style*=none])") && img == "first") {
            ele = ge(".FullPictureLoadImage.small");
        } else if (img == "first") {
            ele = ge(".FullPictureLoadImage:not(.small)");
        }
        if (ge("#FullPictureLoadImgBox:not([style*=none])") && img == "last") {
            ele = [...gae(".FullPictureLoadImage.small")].at(-1);
        } else if (img == "last") {
            ele = [...gae(".FullPictureLoadImage:not(.small)")].at(-1);
        }
        if (ele) ele.scrollIntoView();
    };

    const autoScrollEles = () => {
        if (ge("#FullPictureLoadOptions:not([style])")) return;
        let scrollEle = siteData.scrollEle;
        if (scrollEle) isFn(scrollEle) ? scrollEle() : fun.scrollEles(scrollEle[0], scrollEle[1]);
    };

    const reduceZoom = () => {
        if (isFetching || ge("#FullPictureLoadOptions:not([style])")) return;
        if (options.zoom <= 10 && ge(".FullPictureLoadImage:not(.small)")) {
            options.zoom == 0 ? options.zoom = 10 : options.zoom = options.zoom -= 1;
            if (options.zoom == 0) cancelZoom();
            ge("#FullPictureLoadOptionsZoom").value = options.zoom;
            let jsonStr = JSON.stringify(options);
            localStorage.setItem("FullPictureLoadOptions", jsonStr);
            if (options.zoom > 0) {
                [...gae(".FullPictureLoadImage:not(.small)")].forEach(img => img.style.width = `${options.zoom * 10}%`);
                fun.showMsg(`${displayLanguage.str_60} ${options.zoom * 10}%`);
            }
        }
    };

    const increaseZoom = () => {
        if (isFetching || ge("#FullPictureLoadOptions:not([style])")) return;
        if (options.zoom > 1 && options.zoom <= 10 && ge(".FullPictureLoadImage:not(.small)")) {
            options.zoom = options.zoom += 1;
            if (options.zoom > 10) cancelZoom();
            ge("#FullPictureLoadOptionsZoom").value = options.zoom;
            let jsonStr = JSON.stringify(options);
            localStorage.setItem("FullPictureLoadOptions", jsonStr);
            if (options.zoom > 0 && options.zoom <= 10) {
                [...gae(".FullPictureLoadImage:not(.small)")].forEach(img => img.style.width = `${options.zoom * 10}%`);
                fun.showMsg(`${displayLanguage.str_60} ${options.zoom * 10}%`);
            }
        }
    };

    let viewMode = 0;

    const toggleImgMode = async () => {
        if (isFetching || ge("#FullPictureLoadOptions:not([style])")) return;
        let column;
        if ([...gae(".FullPictureLoadImage")].length < 1) {
            fun.showMsg("請先手動插入圖片");
            return;
        }
        if (ge(".FullPictureLoadImage:not(.small):not([style*=none])")) {
            if (ge("#FullPictureLoadImgBox")) {
                ge("#FullPictureLoadImgBox").style.display = "block";
                [...gae(".FullPictureLoadImage:not(.small),#FullPictureLoadEnd")].forEach(e => {
                    if (e.tagName == "IMG") {
                        e.setAttribute("style", "display:none!important;");
                        if (options.zoom > 0) e.style.width = `${options.zoom * 10}%`;
                    } else {
                        e.setAttribute("style", "display:none!important;");
                    }
                });
                viewMode = 1;
                fun.showMsg(displayLanguage.str_93);
                return;
            }
            let width;
            if (options.column == 2 || siteData.category == "comic") {
                width = "48.8%";
                column = 2;
            } else if (options.column == 3) {
                width = "32%";
                column = 3;
            } else if (options.column == 5) {
                width = "19.2%";
                column = 5;
            } else if (options.column == 6) {
                width = "16%";
                column = 6;
            } else {
                column = 4;
                hasTouchEvents ? width = "24%" : width = "24.4%";
            }
            let imgBox = document.createElement("div");
            imgBox.id = "FullPictureLoadImgBox";
            imgBox.style.width = "100%";
            imgBox.style.maxWidth = "1400px";
            imgBox.style.backgroundColor = "#F6F6F6";
            imgBox.style.textAlign = "center";
            imgBox.style.display = "block";
            let srcArr1 = [...gae(".FullPictureLoadImage:not(.small)")].map(e => e.dataset.src ?? e.src);
            let srcArr2 = srcArr1.map((item, index, arr) => parseInt(index, 10) % 2 == 0 ? (parseInt(index, 10) + 1) == arr.length ? arr[index] : arr[parseInt(index, 10) + 1] : arr[parseInt(index, 10) - 1]);
            let srcArr;
            siteData.category == "comic" || (options.column == 2 && siteData.category == "hcomic") ? srcArr = srcArr2 : srcArr = srcArr1;
            let padStart = String(srcArr.length).length;
            let blackList = fancyboxBlackList();
            srcArr.forEach((e, i) => {
                let a = document.createElement("a");
                if (options.fancybox == 1 && !blackList) {
                    a.id = "imgLocationSamll_" + i;
                    a.dataset.fancybox = "FullPictureLoadImageSmall";
                    thumbnailsSrcArray.length > 0 && thumbnailsSrcArray.length == srcArr.length ? a.dataset.thumb = thumbnailsSrcArray[i] : a.dataset.thumb = e;
                    a.href = e;
                }
                let img = new Image();
                img.alt = `no.${parseInt(i, 10) + 1}`;
                img.dataset.index = i;
                img.className = "FullPictureLoadImage small";
                if (siteData.insertImg[1] == 1) {
                    img.src = e;
                } else {
                    img.src = loading_bak;
                    img.dataset.src = e;
                }
                if (siteData.referrerpolicy) img.setAttribute("referrerpolicy", siteData.referrerpolicy);
                fun.imagesObserver.observe(img);
                let item = document.createElement("div");
                item.style.width = width;
                //item.style.height = "auto";
                //item.style.float = "left";
                item.style.display = "inline-block";
                siteData.category == "comic" || (options.column == 2 && siteData.category == "hcomic") ? item.style.verticalAlign = "middle" : item.style.verticalAlign = "top";
                item.style.padding = "0.1%";
                item.style.border = "1px solid #a0a0a0";
                if (options.fancybox == 1 && !blackList) {
                    a.appendChild(img);
                    item.appendChild(a);
                    imgBox.appendChild(item);
                } else {
                    item.appendChild(img);
                    imgBox.appendChild(item);
                }
            });
            let tE = fun.ge("#FullPictureLoadEnd");
            tE.parentNode.insertBefore(imgBox, tE);
            if (fun.ge(".FullPictureLoadVideo"))[...fun.gae(".FullPictureLoadVideo")].forEach(e => tE.parentNode.insertBefore(e, tE));
            if (options.fancybox == 1 && !blackList && !isObject(siteData?.fancybox)) {
                try {
                    Fancybox.bind("[data-fancybox='FullPictureLoadImageSmall']", FancyboxOptions);
                } catch (error) {
                    debug("沒有引入FancyboxV5", error);
                }
            }
            //tE.parentNode.style.textAlign = "center";
            tE.parentNode.style.display = "block";
            [...gae(".FullPictureLoadImage:not(.small),#FullPictureLoadEnd")].forEach(e => {
                if (e.tagName == "IMG") {
                    e.setAttribute("style", "display:none!important;");
                    if (options.zoom > 0) e.style.width = `${options.zoom * 10}%`;
                } else {
                    e.setAttribute("style", "display:none!important;");
                }
            });
            viewMode = 1;
            fun.showMsg(displayLanguage.str_93);
            let oddNumberImgs = [...gae("img.FullPictureLoadImage.small")].filter((img, index) => parseInt(index, 10) % 2 == 0);
            let evenNumberImgs = [...gae("img.FullPictureLoadImage.small")].filter((img, index) => parseInt(index, 10) % 2 != 0);
            fun.singleThreadLoadImgs(oddNumberImgs);
            fun.singleThreadLoadImgs(evenNumberImgs);
            let imgs = [...gae("#FullPictureLoadImgBox>div")];
            if (siteData.category == "comic") {
                let lastImg = imgs.at(-1);
                fun.comicNextObserver.observe(lastImg);
            }
            let imgsNum = 0;
            if (imgs[0].nextSibling && siteData.category == "comic") {
                await fun.checkImgStatus(imgs[0].nextSibling.querySelector("img").dataset.src, "Wait Loading...");
                if (imgs[0].offsetHeight < imgs[0].nextSibling.offsetHeight) {
                    imgs[0].style.height = (imgs[0].nextSibling.offsetHeight) + "px";
                    let img = imgs[0].querySelector("img");
                    await fun.checkImgStatus(img.dataset.src, "Wait Loading...");
                    let num = (imgs[0].offsetHeight - img.height) / 2;
                    img.style.marginTop = `${num}px`;
                }
                imgs[0].scrollIntoView();
            }
            if (TurnOffImageNavigationShortcutKeys != 1) {
                document.addEventListener("keydown", async event => {
                    if (ge("#FullPictureLoadOptions:not([style])")) return;
                    if (event.code == "ArrowUp" || event.key == "ArrowUp") {
                        if (ge(".fancybox-container,.fancybox__container")) return;
                        event.preventDefault();
                        if (imgsNum > 0 && viewMode == 1) {
                            imgsNum -= column;
                            imgs[imgsNum].scrollIntoView();
                        }
                    } else if (event.code == "ArrowDown" || event.key == "ArrowDown") {
                        if (ge(".fancybox-container,.fancybox__container")) return;
                        event.preventDefault();
                        if (imgsNum < imgs.length && imgsNum != imgs.length && viewMode == 1) {
                            imgsNum += column;
                            try {
                                if (imgs[imgsNum].nextSibling && siteData.category == "comic") {
                                    debug(`\n第${parseInt(imgsNum, 10) + 1}張(左)高：${imgs[imgsNum].offsetHeight}\n第${parseInt(imgsNum, 10) + 2}張(右)高：${imgs[imgsNum].nextSibling.offsetHeight}`);
                                    await fun.checkImgStatus(imgs[imgsNum].nextSibling.querySelector("img").dataset.src, "Wait Loading...");
                                    if (imgs[imgsNum].offsetHeight < imgs[imgsNum].nextSibling.offsetHeight) {
                                        imgs[imgsNum].style.height = (imgs[imgsNum].nextSibling.offsetHeight) + "px";
                                        let img = imgs[imgsNum].querySelector("img");
                                        await fun.checkImgStatus(img.dataset.src, "Wait Loading...");
                                        let num = (imgs[imgsNum].offsetHeight - img.height) / 2;
                                        debug(`\n修改了之後\n第${parseInt(imgsNum, 10) + 1}張(左)高：${imgs[imgsNum].offsetHeight}\n第${parseInt(imgsNum, 10) + 2}張(右)高：${imgs[imgsNum].nextSibling.offsetHeight}`);
                                        img.style.marginTop = `${num}px`;
                                    }
                                } else if (siteData.category == "comic") {
                                    imgs[imgsNum].src = imgs[imgsNum].dataset.src;
                                    await fun.checkImgStatus(imgs[imgsNum].dataset.src, "Wait Loading...");
                                }
                                imgs[imgsNum].scrollIntoView();
                                await fun.delay(200);
                                imgs[imgsNum].scrollIntoView();
                            } catch (e) {
                                if (siteData.category == "comic" && siteData.next && siteData.insertImg) {
                                    if (isString(siteData?.next)) {
                                        let next = fun.ge(siteData.next);
                                        if (next) {
                                            fun.showMsg(displayLanguage.str_95, 3000);
                                            //next.click();
                                            elementClick(next);
                                        } else {
                                            imgsNum = 0 - column;
                                            fun.showMsg(displayLanguage.str_96, 3000);
                                        }
                                    } else if (isFn(siteData.next)) {
                                        let next = await siteData.next();
                                        if (next) {
                                            fun.showMsg(displayLanguage.str_95, 3000);
                                            location.href = next;
                                        } else {
                                            imgsNum = 0;
                                            fun.showMsg(displayLanguage.str_96, 3000);
                                        }
                                    }
                                } else {
                                    imgsNum = 0;
                                    imgs[0].scrollIntoView();
                                    fun.showMsg(displayLanguage.str_94);
                                }
                            }
                        }
                    } else {
                        imgsNum = 0 - column;
                    }
                });
            }
        } else if (ge(".FullPictureLoadImage.small")) {
            ge("#FullPictureLoadImgBox").style.display = "none";
            [...gae(".FullPictureLoadImage:not(.small),#FullPictureLoadEnd")].forEach(e => e.removeAttribute("style"));
            if (options.zoom > 0)[...gae(".FullPictureLoadImage:not(.small)")].forEach(img => img.style.width = `${options.zoom * 10}%`);
            viewMode = 0;
            fun.showMsg(displayLanguage.str_92);
        }
    };

    const newTabViewLightGallery = localStorage.getItem("newTabViewLightGallery") ?? 0;

    const newTabView = async () => {

        if (isFetching) return;

        let newWindowData = localStorage.getItem("newWindowData");
        if (newWindowData === null) localStorage.setItem("newWindowData", '{"ViewMode":0}');

        let imgSrcs;
        captureSrcArray.length > 0 ? imgSrcs = captureSrcArray : imgSrcs = await getImgs(siteData.imgs);

        if (imgSrcs?.length && imgSrcs.length > 0) {

            let newWindow;
            let doc;
            try {
                newWindow = _unsafeWindow.open("about:blank", "_blank");
                doc = newWindow.document;
            } catch (e) {
                alert("An error occurred\nUnable to use window.open()");
                return;
            }
            doc.write(`<html><head><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, shrink-to-fit=no"><title>${customTitle ?? document.title}</title><link rel="icon" href="/favicon.ico"></head><body style="text-align: center;"><div id="imgBox"></div></body></html>`);

            if (siteData?.CSP && siteData?.CSP == 1) {
                const imgElements = imgSrcs.map((src, i, arr) => {
                    let a = doc.createElement("a");
                    a.href = src;
                    a.target = "_blank";
                    let img = doc.createElement("img");
                    img.src = loading_bak;
                    img.dataset.src = src;
                    img.style.width = "auto";
                    img.style.maxWidth = "100vw";
                    img.style.height = "auto";
                    img.style.maxHeight = "100vh";
                    img.style.padding = "2px";
                    fun.imagesObserver.observe(img);
                    a.appendChild(img);
                    return a;
                });
                doc.querySelector("#imgBox").append(...imgElements);
                let oddNumberImgs = [...doc.querySelectorAll("img")].filter((img, index) => parseInt(index, 10) % 2 == 0);
                let evenNumberImgs = [...doc.querySelectorAll("img")].filter((img, index) => parseInt(index, 10) % 2 != 0);
                fun.singleThreadLoadImgs(oddNumberImgs);
                fun.singleThreadLoadImgs(evenNumberImgs);
            } else {
                newWindow.fn = fun;
                newWindow.newImgs = imgSrcs;

                const newWindowStyle = doc.createElement("style");
                newWindowStyle.id = "newWindowStyle";
                newWindowStyle.type = "text/css";
                newWindowStyle.innerHTML = `
body {
    background-color: #333;
}
#FixedMenu {
    text-align: center;
    font-family: Arial, sans-serif;
    font-size: 14px;
    color: #000000;
    width: 122px;
    height: auto;
    padding: 5px 5px 2px 5px;
    position: fixed;
    left: ${hasTouchEvents ? "0px" : "-128px"};
    bottom: 0px;
    border: #ccc 1px solid;
    border-radius: 3px;
    background-color: #fff;
    z-index: 2;
}
#FixedMenu:hover {
  left: 0px;
}
.FixedMenuitem {
    width: 110px;
    height: 24px;
    line-height: 24px;
    overflow: hidden;
    font-size: 14px;
    border: #ccc 1px solid;
    background-color: #f6f6f6;
    padding: 0 5px 0 5px;
    margin: 0 2px 3px 0;
    cursor: pointer;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
.FixedMenuitem.active {
    color: #fff;
    background: #1790E6;
}
img.default {
    vertical-align: middle;
    width: auto;
    height: auto;
    max-width: 94vw;
    max-height: 99vh;
    border: solid #fff;
}
img.single {
    width: auto;
    height: auto;
    max-width: 99%;
    max-height: 99vh;
    display: block;
    margin: 0 auto;
    border: solid #fff;
}
img.sbs {
    display: inline-block;
    vertical-align: middle;
    width: auto;
    height: auto;
    max-width: 32.4%;
    max-height: 36vh;
    border: solid #fff;
}
.viewer-backdrop {
    background-color: rgba(0,0,0,.94)!important;
}
`;
                doc.head.appendChild(newWindowStyle);

                if (newTabViewLightGallery == 0) {

                    const fancyboxStyle = doc.createElement("style");
                    fancyboxStyle.id = "FancyboxStyle";
                    fancyboxStyle.type = "text/css";
                    fancyboxStyle.innerHTML = FancyboxV5Css;
                    doc.head.appendChild(fancyboxStyle);

                    const jQueryScript = doc.createElement("script");
                    jQueryScript.id = "jQueryScript";
                    jQueryScript.type = "text/javascript";
                    jQueryScript.innerHTML = JqueryJS + FancyboxV5JS + `
var hasTouchEvents = (() => ("ontouchstart" in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0) ? true : false)();

var scrollIntoViewOptions = {
    block: "center",
    behavior: "smooth",
    inline: "center"
};

var FancyboxOptions = {};

if (hasTouchEvents) {
    FancyboxOptions = {
        idle: false,
        Images: {
            Panzoom: {
                maxScale: 2
            }
        },
        Thumbs: {
            showOnStart: false
        },
        Toolbar: {
            display: {
                left: ["infobar"],
                middle: ["flipX", "flipY"],
                right: ["iterateZoom", "slideshow", "thumbs", "close"]
            }
        },
        on: {
            done: (fancybox, slide) => {
                let slideIndex = slide.index;
                let imgs = [...document.querySelectorAll("img")];
                imgs.forEach(e => e.style.border = "");
                if (fancybox.isCurrentSlide(slide)) {
                    imgViewIndex = slideIndex;
                    imgs[slideIndex].style.border = "solid #32a1ce";
                    imgs[slideIndex].scrollIntoView(scrollIntoViewOptions);
                } else {
                    imgViewIndex = fancybox.getSlide().index;
                    imgs[slideIndex].style.border = "solid #32a1ce";
                    imgs[fancybox.getSlide().index].scrollIntoView(scrollIntoViewOptions);
                }
            },
            close: fancybox => {
                document.body.classList.remove("hide-scrollbar");
                let slideIndex = fancybox.getSlide().index;
                imgViewIndex = slideIndex;
                let imgs = [...document.querySelectorAll("img")];
                imgs.forEach(e => e.style.border = "");
                imgs[slideIndex].style.border = "solid #32a1ce";
                imgs[slideIndex].scrollIntoView(scrollIntoViewOptions);
            }
        }
    }
} else {
    FancyboxOptions = {
        idle: false,
        wheel: ${FancyboxWheelOptions === 0 ? '"slide"' : '"zoom"'},
        Images: {
            Panzoom: {
                maxScale: 2
            }
        },
        Thumbs: {
            showOnStart: false
        },
        Toolbar: {
            display: {
                left: ["infobar"],
                middle: ["iterateZoom", "toggle1to1", "rotateCCW", "rotateCW", "flipX", "flipY", "fitX", "fitY", "reset"],
                right: ["download", "slideshow", "fullscreen", "thumbs", "close"]
            }
        },
        on: {
            done: (fancybox, slide) => {
                let slideIndex = slide.index;
                let imgs = [...document.querySelectorAll("img")];
                imgs.forEach(e => e.style.border = "");
                if (fancybox.isCurrentSlide(slide)) {
                    imgViewIndex = slideIndex;
                    imgs[slideIndex].style.border = "solid #32a1ce";
                    imgs[slideIndex].scrollIntoView(scrollIntoViewOptions);
                } else {
                    imgViewIndex = fancybox.getSlide().index;
                    imgs[slideIndex].style.border = "solid #32a1ce";
                    imgs[fancybox.getSlide().index].scrollIntoView(scrollIntoViewOptions);
                }
            },
            close: fancybox => {
                document.body.classList.remove("hide-scrollbar");
                let slideIndex = fancybox.getSlide().index;
                imgViewIndex = slideIndex;
                let imgs = [...document.querySelectorAll("img")];
                imgs.forEach(e => e.style.border = "");
                imgs[slideIndex].style.border = "solid #32a1ce";
                imgs[slideIndex].scrollIntoView(scrollIntoViewOptions);
            }
        }
    }
}

function setFancybox() {
    Fancybox.bind("[data-fancybox]", FancyboxOptions);
}
`;
                    doc.body.appendChild(jQueryScript);

                    const newWindowScript = doc.createElement("script");
                    newWindowScript.id = "newWindowScript";
                    newWindowScript.type = "text/javascript";
                    newWindowScript.innerHTML = `
var imgViewIndex = -1;

function addFixedMenu() {
    let menuDiv = document.createElement("div");
    menuDiv.id = "FixedMenu";
    const menuObj = [{
        id: "MenuSBSItem",
        text: hasTouchEvents ? "Side By Side" : "Side By Side (2)",
        cfn: () => SBSImageLayout()
    }, {
        id: "MenuSinglePageItem",
        text: hasTouchEvents ? "Single Image" : "Single Image (1)",
        cfn: () => singleImageLayout()
    }, {
        id: "MenuDefaultItem",
        text: hasTouchEvents ? "Default" : "Default (0)",
        cfn: () => defaultImageLayout()
    }];
    const createMenu = obj => {
        let item = document.createElement("div");
        item.id = obj.id;
        item.className = "FixedMenuitem";
        item.innerText = obj.text;
        item.oncontextmenu = () => false;
        if (obj.cfn) item.addEventListener("click", obj.cfn);
        menuDiv.appendChild(item);
    };
    menuObj.forEach(obj => createMenu(obj));
    document.body.appendChild(menuDiv);
}
addFixedMenu();

document.addEventListener("keydown", event => {
    if (document.querySelector(".fancybox__container")) return;
    if (event.code == "Numpad0" || event.key == "0") return defaultImageLayout();
    if (event.code == "Numpad1" || event.key == "1") return singleImageLayout();
    if (event.code == "Numpad2" || event.key == "2") return SBSImageLayout();
});

document.addEventListener("keydown", event => {
    if (document.querySelector(".fancybox__container")) return;
    const scrollIntoViewOptions = {
        block: "center",
        inline: "center"
    };
    const imgs = [...document.querySelectorAll("img")];
    if ((["KeyW", "KeyA", "ArrowUp", "ArrowLeft"].includes(event.code) || ["w", "W", "a", "A", "ArrowUp", "ArrowLeft"].includes(event.key)) && imgViewIndex >= 0) {
        event.preventDefault();
        imgViewIndex--;
        if (imgViewIndex < 0) imgViewIndex = imgs.length - 1;
        imgs.forEach(e => e.style.border = "");
        imgs[imgViewIndex].style.border = "solid #32a1ce";
        imgs[imgViewIndex].scrollIntoView(scrollIntoViewOptions);
    } else if ((["KeyS", "KeyD", "ArrowDown", "ArrowRight"].includes(event.code) || ["s", "S", "d", "D", "ArrowDown", "ArrowRight"].includes(event.key)) && imgViewIndex <= imgs.length - 1) {
        event.preventDefault();
        imgViewIndex++;
        if (imgViewIndex > imgs.length - 1) imgViewIndex = 0;
        imgs.forEach(e => e.style.border = "");
        imgs[imgViewIndex].style.border = "solid #32a1ce";
        imgs[imgViewIndex].scrollIntoView(scrollIntoViewOptions);
    } else {
        imgViewIndex = -1;
    }
});

function loadImgs() {
    const imgs = [...document.querySelectorAll("img")];
    const oddNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 == 0);
    const evenNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 != 0);
    fn.singleThreadLoadImgs(oddNumberImgs);
    fn.singleThreadLoadImgs(evenNumberImgs);
}

function createImgElement(mode) {
    window.scrollTo({
        top: 0
    });
    imgViewIndex = -1;
    [...document.querySelectorAll(".FixedMenuitem")].forEach(item => item.classList.remove("active"));
    document.querySelector("#imgBox").innerHTML = "";
    const imgElements = newImgs.map((src, i, arr) => {
        let a = document.createElement("a");
        a.href = src;
        a.dataset.fancybox = "gallery";
        a.target = "_blank";
        let img = document.createElement("img");
        img.className = mode;
        img.src = "${loading_bak}";
        img.dataset.src = src;
        fn.imagesObserver.observe(img);
        a.appendChild(img);
        return a;
    });
    document.querySelector("#imgBox").append(...imgElements);
    setFancybox();
    loadImgs();
}

function defaultImageLayout() {
    createImgElement("default");
    localStorage.setItem("newWindowData", '{"ViewMode":0}');
    document.querySelector("#MenuDefaultItem").classList.add("active");
}

function singleImageLayout() {
    createImgElement("single");
    localStorage.setItem("newWindowData", '{"ViewMode":1}');
    document.querySelector("#MenuSinglePageItem").classList.add("active");
}

function SBSImageLayout() {
    createImgElement("sbs");
    localStorage.setItem("newWindowData", '{"ViewMode":2}');
    document.querySelector("#MenuSBSItem").classList.add("active");
}

let newWindowDataViewMode = JSON.parse(localStorage.newWindowData).ViewMode;

if (newWindowDataViewMode == 1) {
    singleImageLayout();
} else if (newWindowDataViewMode == 2) {
    SBSImageLayout();
} else {
    defaultImageLayout();
}

`;
                    doc.body.appendChild(newWindowScript);
                } else {

                    const ViewerStyle = doc.createElement("style");
                    ViewerStyle.id = "ViewerStyle";
                    ViewerStyle.type = "text/css";
                    ViewerStyle.innerHTML = ViewerJsCss;
                    doc.head.appendChild(ViewerStyle);

                    const ViewerScript = doc.createElement("script");
                    ViewerScript.id = "ViewerScript";
                    ViewerScript.type = "text/javascript";
                    ViewerScript.innerHTML = ViewerJs + `
var ViewerJsInstance = new Viewer(document.querySelector("#imgBox"), {
    url: "data-src"
});

document.addEventListener("viewed", event => {
    let slideIndex = event.detail.index;
    let imgs = [...document.querySelectorAll("img")];
    imgs.forEach(e => e.style.border = "");
    imgViewIndex = slideIndex;
    imgs[slideIndex].style.border = "solid #32a1ce";
    imgs[slideIndex].scrollIntoView({
        block: "center",
        behavior: "smooth",
        inline: "center"
    });
});
`;
                    doc.body.appendChild(ViewerScript);

                    const newWindowScript = doc.createElement("script");
                    newWindowScript.id = "newWindowScript";
                    newWindowScript.type = "text/javascript";
                    newWindowScript.innerHTML = `
var hasTouchEvents = (() => ("ontouchstart" in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0) ? true : false)();
var imgViewIndex = -1;

function addFixedMenu() {
    let menuDiv = document.createElement("div");
    menuDiv.id = "FixedMenu";
    const menuObj = [{
        id: "MenuSBSItem",
        text: hasTouchEvents ? "Side By Side" : "Side By Side (2)",
        cfn: () => SBSImageLayout()
    }, {
        id: "MenuSinglePageItem",
        text: hasTouchEvents ? "Single Image" : "Single Image (1)",
        cfn: () => singleImageLayout()
    }, {
        id: "MenuDefaultItem",
        text: hasTouchEvents ? "Default" : "Default (0)",
        cfn: () => defaultImageLayout()
    }];
    const createMenu = obj => {
        let item = document.createElement("div");
        item.id = obj.id;
        item.className = "FixedMenuitem";
        item.innerText = obj.text;
        item.oncontextmenu = () => false;
        if (obj.cfn) item.addEventListener("click", obj.cfn);
        menuDiv.appendChild(item);
    };
    menuObj.forEach(obj => createMenu(obj));
    document.body.appendChild(menuDiv);
}
addFixedMenu();

document.addEventListener("keydown", event => {
    if (document.querySelector(".viewer-container .viewer-canvas>img")) return;
    if (event.code == "Numpad0" || event.key == "0") return defaultImageLayout();
    if (event.code == "Numpad1" || event.key == "1") return singleImageLayout();
    if (event.code == "Numpad2" || event.key == "2") return SBSImageLayout();
});

document.addEventListener("keydown", event => {
    if (document.querySelector(".viewer-container .viewer-canvas>img")) return;
    const scrollIntoViewOptions = {
        block: "center",
        inline: "center"
    };
    const imgs = [...document.querySelectorAll("img")];
    if ((["KeyW", "KeyA", "ArrowUp", "ArrowLeft"].includes(event.code) || ["w", "W", "a", "A", "ArrowUp", "ArrowLeft"].includes(event.key)) && imgViewIndex >= 0) {
        event.preventDefault();
        imgViewIndex--;
        if (imgViewIndex < 0) imgViewIndex = imgs.length - 1;
        imgs.forEach(e => e.style.border = "");
        imgs[imgViewIndex].style.border = "solid #32a1ce";
        imgs[imgViewIndex].scrollIntoView(scrollIntoViewOptions);
    } else if ((["KeyS", "KeyD", "ArrowDown", "ArrowRight"].includes(event.code) || ["s", "S", "d", "D", "ArrowDown", "ArrowRight"].includes(event.key)) && imgViewIndex <= imgs.length - 1) {
        event.preventDefault();
        imgViewIndex++;
        if (imgViewIndex > imgs.length - 1) imgViewIndex = 0;
        imgs.forEach(e => e.style.border = "");
        imgs[imgViewIndex].style.border = "solid #32a1ce";
        imgs[imgViewIndex].scrollIntoView(scrollIntoViewOptions);
    } else {
        imgViewIndex = -1;
    }
});

function loadImgs() {
    const imgs = [...document.querySelectorAll("img")];
    const oddNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 == 0);
    const evenNumberImgs = imgs.filter((img, index) => parseInt(index, 10) % 2 != 0);
    fn.singleThreadLoadImgs(oddNumberImgs);
    fn.singleThreadLoadImgs(evenNumberImgs);
}

function createImgElement(mode) {
    window.scrollTo({
        top: 0
    });
    imgViewIndex = -1;
    [...document.querySelectorAll(".FixedMenuitem")].forEach(item => item.classList.remove("active"));
    document.querySelector("#imgBox").innerHTML = "";
    const imgElements = newImgs.map((src, i, arr) => {
        let img = document.createElement("img");
        img.className = mode;
        img.src = "${loading_bak}";
        img.dataset.src = src;
        fn.imagesObserver.observe(img);
        return img;
    });
    document.querySelector("#imgBox").append(...imgElements);
    ViewerJsInstance.update();
    loadImgs();
}

function defaultImageLayout() {
    createImgElement("default");
    localStorage.setItem("newWindowData", '{"ViewMode":0}');
    document.querySelector("#MenuDefaultItem").classList.add("active");
}

function singleImageLayout() {
    createImgElement("single");
    localStorage.setItem("newWindowData", '{"ViewMode":1}');
    document.querySelector("#MenuSinglePageItem").classList.add("active");
}

function SBSImageLayout() {
    createImgElement("sbs");
    localStorage.setItem("newWindowData", '{"ViewMode":2}');
    document.querySelector("#MenuSBSItem").classList.add("active");
}

let newWindowDataViewMode = JSON.parse(localStorage.newWindowData).ViewMode;

if (newWindowDataViewMode == 1) {
    singleImageLayout();
} else if (newWindowDataViewMode == 2) {
    SBSImageLayout();
} else {
    defaultImageLayout();
}

`;
                    doc.body.appendChild(newWindowScript);

                }
            }
        } else {
            alert("No Image.");
            return;
        }
    };

    const addnewTabViewButton = () => {
        let img = new Image();
        img.id = "FullPictureLoadEye";
        img.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEV0lEQVRYhb2XTWwTRxTHTShJ4NDegJ4rwbGngkpVxCGQ3loVcaIlEuJU2h5oKyFQtXaigojj3VAQErTlQxQCiRMaoF+HxjhNjD/XxVISbGPHxEAc3MR8xo5xeMybZNezn7HAYaUXWZuZ9/vPmzdv3loaGjbVEltGzGL2cMDV2ELC+81hYX9zmO9sFgVfS1iIN4t83Opv81u9bV2cp/X7fX0HPtz6zSd1C/mTn4XgnIurbxH5bwkwRYDAGoGDLeDQmsincA7OrUSA7nsAWNIS4psIeEwNNoPj+/I4/jaZvwN9VRaO+edw9HAdmXxGD1w5XDH+Ahc8vqIiOOdrXU3g/mrBy/MEH/o2h8/tt7facEZEiI2EYvvpnoeFc4sFl/2QE4QshOMBkAVgwi02XPYXcHw+f/pqy6EnGfta4OjP35b+WvjyLVkAntlK4IfEI9AVvwKe8QD4snHoGbtFzU9+ezJB6E7+DvbIMXP4vC/O2/odFYD7Qf6RNBt8auQCDN2PQiFfAN//D6Fh4AYs7XXDkt/m7I3eftgyEIHg5GOYLc3CzdwtOBPvNI+k3z7a1LS91oLl1Qj+Y+RnGMnGoFgoUjt7OwN1l/tlsNrwf+fHJgBmgVrsQRKODp803sagfZ0Fa7se3Bm/Ck+mn8pwXHmtCZwVEZp6LIsoFGeoL90cEvm9FjwWavjfKZcMRnteeg6bSYgliPNOFtx37sPbX9lg5W4r1J9wKkQ0DkYoHOdJPtzp63oJ3IERCLDw/rRXA8/mi4o9T+SeQG7qEby7cRusXf8xrNnwqUIE5kR2ekbhB60/7VGcHqyOFvInKsF7E39q4LiSwexDxQrf2XMA1m3eTuGSrfyCK4+5dA0GMpMaAejvr7SrnG8h/iZJQj4qhYYVIMHRPCoBGHYWTgWQdxK8prsPBsYndRejEWANtAXZ5MAwsXA03AIMqyQAw41hl+BrPtgK9T91y/BlPX2QeTStgf877tNcUOT2szvV2em+d10hAG0Lk4SSCAw7Gguv6f4HGt2iBu66O6hXnDos2EbpldfOxBXIFwuyACwyhjWAgS+/5ILAxJQMn3k2Az2jf+hXRzyG2MMZ1fYjQ79ANJeQRWCR0YhQwc+N3pXhWBHRh1Fptont71mwHNpCDk0pZu107CKM5OJQKpVokcFzTnOC2fOP3GG68nw+D8OTMTrH9GIS+VHaquG9bHQZqa2VXDTO5FUYzATAOxGFzuQIdBHz3BuiheZirBcO3Tha2c34n7BH0Qnpdb2V3GovdUWT1WPfqWjHsHt9LXD0EW7/TNMP0ms5JPy62HCy+rO6PeFCTWl1OiM+KDWlmp6QbcvnP7uqvXLvD5H2VSxcbsnUD/thUqWesMPhcSxXww0FyDlBuldyV6Re4TsgxSacGm4qQBq86+DON7GBtPrtyYrhopDAc84eNT24bg4YDcaKiT0c1m/81sM9neslhOjcb/puL5ZX9ceoERzfvwApT7t293t0AgAAAABJRU5ErkJggg==";
        img.oncontextmenu = () => false;
        img.addEventListener("click", () => {
            newTabView();
        });
        document.body.appendChild(img);
        let menuDiv = document.createElement("div");
        menuDiv.id = "FullPictureLoadFixedMenuB";
        const menuObj = [{
            id: "FullPictureLoadCaptureNum",
            text: 0,
            cfn: () => {
                let srcArr = captureSrcArray;
                if (srcArr.length == 0) return showMsg(displayLanguage.str_44);
                let titleText = (customTitle || document.title);
                let picNum = srcArr.length;
                let fileName = `${titleText}[${picNum}P]_MediaURLs.txt`;
                if (videosSrcArray.length > 0) {
                    srcArr = srcArr.concat(videosSrcArray);
                    fileName = `${titleText}[${picNum}P + ${videosSrcArray.length}V]_MediaURLs.txt`;
                }
                let str = srcArr.join("\n");
                let blob = new Blob([str], {
                    type: "text/plain",
                    endings: "native"
                });
                saveData(blob, fileName);
                showMsg(`${displayLanguage.str_101}`);
            }
        }];
        const createMenu = obj => {
            let item = document.createElement("div");
            if (obj.id) item.id = obj.id;
            item.innerText = obj.text;
            item.oncontextmenu = () => false;
            if (obj.cfn) item.addEventListener("click", obj.cfn);
            if (obj.mfn) item.addEventListener("mousedown", obj.mfn);
            menuDiv.appendChild(item);
        };
        [...menuObj].forEach(obj => createMenu(obj));
        document.body.appendChild(menuDiv);
    };

    const cancelZoom = () => {
        if (ge("#FullPictureLoadOptions:not([style])")) return;
        if (ge(".FullPictureLoadImage:not(.small)")) {
            options.zoom = 0;
            ge("#FullPictureLoadOptionsZoom").value = options.zoom;
            let jsonStr = JSON.stringify(options);
            localStorage.setItem("FullPictureLoadOptions", jsonStr);
            [...gae(".FullPictureLoadImage:not(.small)")].forEach(e => e.style.width = "");
            fun.showMsg(displayLanguage.str_61);
        }
    };

    const addFullPictureLoadButton = () => {
        if (ge(".FullPictureLoadFixedBtn")) return;
        let img = new Image();
        img.id = "FullPictureLoad";
        img.className = "FullPictureLoadFixedBtn";
        img.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACFlBMVEVEREAAAABEREBEREBUXnFTXXBTXG5VXXJUXHFUW28grV0grV0hrl4hrV0hq10iql0oomAhrV2BiZiAiJd/h5V+h5Uiq16OlaKNlKGMk5+Mkp+KkZ89p28nq2Hp9+/n9u3t8PHs7/Dg9Ojp7O3d8+bo7O3o6+zn6+3m6uzl6evX8OLV8OHi5ujh5efO7dze4uTe4ePb3+LY3eDX29/W2t7T19u35Mu25Mr01lqw4sbz1Vmv4sXA1NWs4cPw0lnv0lmp4MCk3r3ozVuh3buu0M6vz83kylugysefycadx8OexsOdxsOF0qZ6zp5pyJK1p2S0pmOsoGRWv4SLlKEmuZpBsnc5t3AmuJmQi2ont5kmtpcptJiOiWg0tWwytGorr5Yqr5YsrpUws2kqrJRNmpMusmcsqpIuqJMssWkqsWQqsGUnsGUzoI8lsGGAf2wkr2Ekr2BzfI0irl8hrl5ye4x9fGogrWAhrV03mIwgrF9xeoshq10gql8dp2ccp2cdpmkcnIUanIYcm4QRoIUTnoURn4QdmYM/h4QcmIMSnYMXmoMWmoIbloIclYJDgYIYl4EaloAek4IfkYFqbm0jjoBqbW0ni4ApiX9Hd35kanBjaXBhaG9MbnpOanhOaXhPaHdDbXZHanZGanRLZnZJZ3RSYnVMZXRPY3ROY3VSYXRQYnRTYHRVX3NUX3RSYHNUXnNTXXJTXXFME6frAAAAHnRSTlMAAAUGZ2dqeHh7lrzNzc7O3O/09PT19fn5+fn5/f4hZOrvAAAB1UlEQVR42oWTzYoTQRSFv6q6RqOoqBicTTCKK1cOURBGBV9AXCgu9Vl8FF/ApcshI4qKgrtBByZK0HSGmMxkMrF/qq6LTjptErGX5zu3uu65dY3TYCh9ag2UNPsfjnmpZW4MgBbaIy/6PCnxvL7gEQhJ7AruAqifcZ96EHDX67ngKgCJn/k3B6AC1O9Cj9ri/2mBsZIf9iLi0rMFDhhjbO6NsL9er+CQG3pYMT+XuGVmuH9SzPF7S/UONDfUHl44/6A24wfdpMgsSO6tP52ffxjF6cUT056MBdxf/cVRzP6PiQG8KhZMJedhewik0QT43RsBQUEwLufZx53Td85p7wCwEu+Fs6qAGBsA1aO3XUZbG/EAsAJJlM/MGgOoDltdYNTam3JIOlVmOaj2N/sAjHf9lGdBqwACmmi0FU/TOWxfEY483o/9tcuvJBXU+90PaZHf5NtVFzTL+N7bqD4GS9DRmzl3btJWk2WFIKradqX8LfudU3VKBuKd0vwc+HCjNDJhkJXfB6jq+wZJBSAT5MmKN1/la7sJ+jmsiyQrdkZo9N819FNnXcSZFTt1rGnXhl/G6a26IP/YOXczi5prQmFY3snbkzNSXGyBV+28p+nNF+vn2h97PvHD5SOHkgAAAABJRU5ErkJggg==";
        img.setAttribute("title", displayLanguage.str_47);
        img.oncontextmenu = () => false;
        img.addEventListener("click", () => {
            fastDownload = false;
            DownloadFn();
        });
        img.addEventListener("mousedown", (event) => {
            if (event.button == 1) {
                event.preventDefault();
                exportImgSrcText();
            }
            if (event.button == 2) {
                event.preventDefault();
                copyImgSrcText();
            }
        });
        document.body.appendChild(img);
        let img2 = new Image();
        img2.id = "FullPictureLoadGoToFirstImage";
        img2.className = "FullPictureLoadFixedBtn";
        img2.style.display = "none";
        img2.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA7BJREFUWEetl29olVUYwH/n3jvvGpp/WtNlIdoK1MJazBwO0/mlZqFgRCgGfZC7TTbwixqbMnPiHIIwmdd9MYiMhD4o6gqirenGsoF/MLfaahFz3a1Shlv7e9/3yHnnxXvv3vee96574P3wcp4/v/M8z3nOOQK3o67Oj2+0EMlWPKxEkg3Wp0YIQQiTLgQXCWc0UV4+4ca00Ao1HM3G8B0CuROYp5WfFhgGcQ5v+FMCFaFEOs4An1WlM+6vRIq9QIZLx/Fiowh5kvSJaj6uGrezYQ9QX7sEYV4A3pyl43i160jPNvbsG4ifmAlwquZVfDQieV7nfJE/3RJ5MGG7uFh1wT3CFFF24E70RCyAWrnH7NA5V0pH8gooW51r2Tp19wYHO1qROmIFYXryoiPxBEDlfCz9B13YlULd+s0EVq6JcdfQdZvytu/1EHCdp8Y3RmriCUDwWDVSVOgq1s55RMc1hJBHKfmkUulNA1hbzftbomp3Wnk8sEuIUbxGjtqi0wCnjwdBFjut3q3z5CIhzlC6v0Qw3eH+cWoyyTpPAmKYcMazgtM17wCNTk0iUc51Re8iHUWC+pozCAJ2DeL/OHcVCUmDIFjTgmRDPMDB3HzUl4qxq7mR87//MtOU4KpKQTfwUvTsgjl+QrtK8Qr9WeUGsG2gn02Xz9uJ9iiAYWBu9OwbmYtp36YOv9SM/8JTZH1ez5RpxhscsQWYP8fPnzsCZPh8MQph0+THv0MULFlqS9Y60M+6rGx8Hk/M/Nlf71B87Ts7HQtgRgqUZNkruZxYt/Fxp4JJ0+Cj5m/IeXoB1XkFtgCVHa10Dt2ndu0GcuYvtGR+fvAvO5uu0DV03yEFDkWopNVqtix70QrdFz2d9D4cYt+atQkBam//ZEFvXrqMCcPg2sA95zxaReiwDZ203AC4rhxrGyZoRHaGUgoARdpWHA+RQoDHrVh50BxG0RApBAhSeqDU9XEcgUgRwAhpRg67KwaTupAoiD2rX+dk/ibbOtvb3kz93Zv6GhTiECX7jyjBpK9k+Yufo+W9D22dvHXpK9oH/9IAiDYyxwr5oGoyFkD9ubyUfln4Lu+veDnG0de93exouqxz3kdaOE+FPiI4q2u5OqRKVr3G2y8st+x82/cHwc5bGDLRvVj0Ycgtia/lEayUP0xEG2nh7dErd45AZCY1T7MRhKjlmbHjkZzH50h/4M/ucfoQOEeacdhu1dEQeoCItPPzXCVenTj9SNmJ4BLeRS0EAlP6/QiPAMXOipDq4W0VAAAAAElFTkSuQmCC";
        img2.setAttribute("title", displayLanguage.str_62);
        img2.addEventListener("click", () => goToImg("first"));
        document.body.appendChild(img2);
        let img3 = new Image();
        img3.id = "FullPictureLoadGoToLastImage";
        img3.className = "FullPictureLoadFixedBtn";
        img3.style.display = "none";
        img3.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6lJREFUWEfFl21IlWcYx3/3c46vayG1lq5i5FablrQFbon2oiOYzlgfgsY2gvrinCQEwzayklI69SVQPMdDH4KJMkZBoxf6kpkYVjK32FqgtiGbs8xczeF0O5477ucknZfnzaPUDc+n57ru/++67uu6XwROh9+fwNToRiRbECIbWAIsBQQwhGCIILcRfEcgtY3KykknUytn63GibjH/uw4CnwDz7cyf/B8D0YIrcIiyfUNWPuYA39Yk8iBlL1JWAfMcCkebjSPkcZIna9lZM2E0hzGAHrX7NMj8OIWj3a4jta1UVN2N/hEL0ODJwSXOg1xmJu4SgvLst3h/2XLd5OLvv+H75UempDTnFfxBgBJ2f/lTuFEkQCjybitx5dxaVMq2zJURYqd+7eXjtnPWCVMQQS03PBNPAdSaj6S02aU9b/ErXNnykaHQxrPf0HXvT7tVu07KxKbpmngK4Du6HykP2XlXrHqb43mFhmZ7ui7TeOsHuylAyDrKv6pWhiGAUKv1O6n2qjXvUJtbYChS3d3JsZs37AFgHNfU66pFQwBejxcod+I5RwAq9iY+31suqK9Pwj1+H3jx2QIwRiB1kcDrKQYuOBFXNnOXAV2xRNDoaUJQ9lwAJH6Bz3MFyQYzgPXpS0lyubg0OIDaZpxkIHN+Gp+uyCZB0zg/cIdrwybHgaBDLUEvsCIaICttIS1FH7B6wUv6r/5Hf1F1o4PstIWWXdD/90O+LiwmUXPpfgr6i2vtNPzcYxRjnwIYM2q/pvWb2fVGToRTIBjUoylIVydx7Oi8O8i6lzNwa1rEz/FAgFdb/Tz6L+aE/scQQKVueEcFL7gTnJaGrV3emRa+H7kXbacDGC7B5dLt5JtEaqsWZaAOqYxmLw9jM9BnWoTbX3uT5sKSmWoZ2h/u6UJ9MUMvQpM2VFtkff57lGWtmRWE//ZNKq9e0osxZuhtaLERzRbCUjxEU2K7FccL4UD8yVasOLxHfSA/M8v1TCEciIcdRkrVX5fBlH4cp84Wwpl49HGsVH1HapFin1XF2WXCobjBhUSpnqxJ5t/kduDdeCAci4PJlUypNh5LRwt2I/UXj+lQmTicW8DuVWt1m4ZbPezv7jRutfBZLC+l04bqWu7mgh2EMl+QlKx7jU4avjkiA3B0LZ92UZkQwTN2yzGDHWoGD5PpWVVNTCRVI8Ueq+6wgYjzaRY+q96i7gMg1ePU0b0RmIPHaXRooctrEZIP0chCkgH6p0bcz/PHF6yIkDG/FFMAAAAASUVORK5CYII=";
        img3.setAttribute("title", displayLanguage.str_63);
        img3.addEventListener("click", () => goToImg("last"));
        img3.addEventListener("mousedown", (event) => {
            if (event.button == 2) {
                event.preventDefault();
                exportImgSrcText();
            }
        });
        document.body.appendChild(img3);
    };

    const addFullPictureLoadFixedMenu = () => {
        if (ge("#FullPictureLoadFixedMenu")) return;
        let menuDiv = document.createElement("div");
        menuDiv.id = "FullPictureLoadFixedMenu";
        const menuObj = [{
            text: displayLanguage.str_106,
            cfn: event => {
                event.preventDefault();
                newTabView();
            }
        }, {
            text: displayLanguage.str_107,
            cfn: event => {
                event.preventDefault();
                fastDownload = true;
                DownloadFn();
            }
        }, {
            text: displayLanguage.str_104,
            cfn: event => {
                event.preventDefault();
                exportImgSrcText();
            }
        }, {
            text: displayLanguage.str_105,
            cfn: event => {
                event.preventDefault();
                copyImgSrcTextB();
            }
        }, {
            text: displayLanguage.str_88,
            cfn: event => {
                event.preventDefault();
                fun.clearSetTimeout();
                cancelZoom();
            }
        }, {
            text: displayLanguage.str_87,
            cfn: event => {
                event.preventDefault();
                fun.clearSetTimeout();
                reduceZoom();
            },
            mfn: event => {
                if (event.button == 2) {
                    event.preventDefault();
                    increaseZoom();
                }
            }
        }, {
            text: displayLanguage.str_86,
            cfn: event => {
                event.preventDefault();
                toggleImgMode();
            }
        }, {
            text: displayLanguage.str_85,
            cfn: event => {
                event.preventDefault();
                if (!fun.ge("body>#FullPictureLoadOptions")) {
                    addFullPictureLoadOptionsMain();
                    setValue();
                }
                fun.ge("#FullPictureLoadOptions").removeAttribute("style");
            }
        }];
        const createMenu = obj => {
            let item = document.createElement("div");
            item.innerText = obj.text;
            item.oncontextmenu = () => false;
            if (obj.cfn) item.addEventListener("click", obj.cfn);
            if (obj.mfn) item.addEventListener("mousedown", obj.mfn);
            menuDiv.appendChild(item);
        };
        [...menuObj].forEach(obj => createMenu(obj));
        document.body.appendChild(menuDiv);
    };

    const elementClick = ele => {
        const dispatchTouchEvent = (_ele, type) => {
            let touchEvent = document.createEvent("UIEvent");
            touchEvent.initUIEvent(type, true, true);
            touchEvent.touches = [{
                clientX: 1,
                clientY: 1
            }];
            _ele.dispatchEvent(touchEvent);
        };
        if (hasTouchEvents) {
            dispatchTouchEvent(ele, "touchstart");
            dispatchTouchEvent(ele, "touchend");
        }
        ele.click();
    };

    const addReturnTopButton = () => {
        let a = document.createElement("a");
        a.href = "javascript:void(0);";
        a.setAttribute("onclick", "window.scrollTo({top:0,behavior:'smooth'});");
        let img = new Image();
        img.src = "data:image/png;base64,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";
        img.className = "FullPictureLoadImageReturnTop";
        a.appendChild(img);
        document.body.appendChild(a);
    };

    const nsfw1Data = customData.filter(item => item.category == "nsfw1"); //列出寫真站
    const nsfw2Data = customData.filter(item => item.category == "nsfw2"); //列出老司機站
    const comicData = customData.filter(item => item.category == "comic"); //列出普漫站
    const hcomicData = customData.filter(item => item.category == "hcomic"); //列出H漫站
    const lazyLoadData = customData.filter(item => item.category == "lazyLoad"); //列出LazyLoad模式規則
    const autoPagerData = customData.filter(item => item.category.includes("autoPager")); //列出自動翻頁
    const AD_Data = customData.filter(item => item.category == "ad"); //列出去廣告規則
    const noneData = customData.filter(item => item.category == "none"); //列出未分類

    const addFullPictureLoadOptionsMain = () => {
        const FullPictureLoadOptionsMain = document.createElement("div");
        FullPictureLoadOptionsMain.id = "FullPictureLoadOptions";
        FullPictureLoadOptionsMain.style.display = "none";
        const FullPictureLoadOptionsMainHtmlStr = `
<div style="width: 100%;">
    <p>${displayLanguage.str_68}</p>
</div>
<div style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsIcon" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_69}
</div>
<div style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_108}<input id="FullPictureLoadOptionsMsgPos" title="${displayLanguage.str_109}" style="width: 60px; margin: 0 6px !important;">
</div>
<div style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_70}<input id="FullPictureLoadOptionsThreading" style="width: 60px; margin: 0 6px !important;">
</div>
<div style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsConvert" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_110}
</div>
<div style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsZip" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_71}
</div>
<div style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_72}<input id="FullPictureLoadOptionsExtension" style="width: 60px; margin: 0 6px !important;">
</div>
<div id="FullPictureLoadOptionsAutoDownloadDIV" style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsAutoDownload" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_73}${displayLanguage.str_74}
</div>
<div id="FullPictureLoadOptionsCountdownDIV" style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_75}<input id="FullPictureLoadOptionsCountdown" style="width: 60px; margin: 0 6px !important;">
</div>
<div id="FullPictureLoadOptionsComicDIV" style="width: 348px; display: none;">
    <input id="FullPictureLoadOptionsComic" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_76}
</div>
<div id="FullPictureLoadOptionsDoubleDIV" style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsDouble" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_77}
</div>
<div style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsFancybox" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_78}
</div>
<div style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_79}<input id="FullPictureLoadOptionsZoom" title="10 = 100%、5 = 50%、0 = auto" style="width: 60px; margin: 0 6px !important;">
</div>
<div style="width: 348px; display: flex; margin-left: 6px;">
    ${displayLanguage.str_80}<input id="FullPictureLoadOptionsColumn" title="${displayLanguage.str_81}" style="width: 60px; margin: 0 6px !important;">
</div>
<div style="width: 348px; display: flex;">
    <input id="FullPictureLoadOptionsviewMode" type="checkbox" style="width: 14px; margin: 0 6px;">${displayLanguage.str_103}
</div>
<button id="FullPictureLoadOptionsCancelBtn">${displayLanguage.str_82}</button>
<button id="FullPictureLoadOptionsResetBtn">${displayLanguage.str_83}</button>
<button id="FullPictureLoadOptionsSaveBtn">${displayLanguage.str_84}</button>
`;
        FullPictureLoadOptionsMain.innerHTML = FullPictureLoadOptionsMainHtmlStr;
        document.body.appendChild(FullPictureLoadOptionsMain);

        const FullPictureLoadOptionsButtonAddEvent = () => {
            ge("#FullPictureLoadOptionsCancelBtn").addEventListener("click", event => {
                event.preventDefault();
                ge("#FullPictureLoadOptions").style.display = "none";
            });
            ge("#FullPictureLoadOptionsResetBtn").addEventListener("click", event => {
                event.preventDefault();
                localStorage.removeItem("FullPictureLoadOptions");
                _GM_setValue("FullPictureLoadMsgPos", 0);
                _GM_setValue("convertWebpToJpg", 0);
                location.reload();
            });
            ge("#FullPictureLoadOptionsSaveBtn").addEventListener("click", event => {
                event.preventDefault();
                options.icon = ge("#FullPictureLoadOptionsIcon").checked == true ? 1 : 0;
                _GM_setValue("FullPictureLoadMsgPos", ge("#FullPictureLoadOptionsMsgPos").value);
                options.threading = ge("#FullPictureLoadOptionsThreading").value;
                options.zip = ge("#FullPictureLoadOptionsZip").checked == true ? 1 : 0;
                options.file_extension = ge("#FullPictureLoadOptionsExtension").value;
                _GM_setValue("convertWebpToJpg", ge("#FullPictureLoadOptionsConvert").checked == true ? 1 : 0);
                options.comic = ge("#FullPictureLoadOptionsComic").checked == true ? 1 : 0;
                options.autoDownload = ge("#FullPictureLoadOptionsAutoDownload").checked == true ? 1 : 0;
                options.autoDownloadCountdown = ge("#FullPictureLoadOptionsCountdown").value;
                options.doubleTouchNext = ge("#FullPictureLoadOptionsDouble").checked == true ? 1 : 0;
                options.fancybox = ge("#FullPictureLoadOptionsFancybox").checked == true ? 1 : 0;
                options.zoom = ge("#FullPictureLoadOptionsZoom").value;
                options.column = ge("#FullPictureLoadOptionsColumn").value;
                options.viewMode = ge("#FullPictureLoadOptionsviewMode").checked == true ? 1 : 0;
                let jsonStr = JSON.stringify(options);
                localStorage.setItem("FullPictureLoadOptions", jsonStr);
                location.reload();
            });
        };
        FullPictureLoadOptionsButtonAddEvent();

        let optionsObserverTimeid = setTimeout(() => optionsObserver.disconnect(), 5000);

        const optionsObserver = new MutationObserver((mutationsList, observer) => {
            //網站如果使用了rocket-loader.min.js，會修改含input的HTML，導致FullPictureLoadOptions結構樣式跑掉，必須再修改回來。
            if (fun.ge("div.icheckbox_square-blue", FullPictureLoadOptionsMain)) {
                FullPictureLoadOptionsMain.innerHTML = FullPictureLoadOptionsMainHtmlStr;
                FullPictureLoadOptionsButtonAddEvent();
                setValue();
                clearTimeout(optionsObserverTimeid);
                observer.disconnect();
            }
        });
        optionsObserver.observe(FullPictureLoadOptionsMain, MutationObserverConfig);
    };

    const setValue = () => {
        ge("#FullPictureLoadOptionsIcon").checked = options.icon == 1 ? true : false;
        ge("#FullPictureLoadOptionsMsgPos").value = _GM_getValue("FullPictureLoadMsgPos");
        ge("#FullPictureLoadOptionsThreading").value = options.threading;
        ge("#FullPictureLoadOptionsZip").checked = options.zip == 1 ? true : false;
        ge("#FullPictureLoadOptionsExtension").value = options.file_extension;
        ge("#FullPictureLoadOptionsConvert").checked = _GM_getValue("convertWebpToJpg") == 1 ? true : false;
        ge("#FullPictureLoadOptionsAutoDownload").checked = options.autoDownload == 1 ? true : false;
        ge("#FullPictureLoadOptionsCountdown").value = options.autoDownloadCountdown;
        ge("#FullPictureLoadOptionsComic").checked = options.comic == 1 ? true : false;
        ge("#FullPictureLoadOptionsDouble").checked = options.doubleTouchNext == 1 ? true : false;
        if (fancyboxBlackList()) {
            ge("#FullPictureLoadOptionsFancybox").checked = false;
        } else {
            ge("#FullPictureLoadOptionsFancybox").checked = options.fancybox == 1 ? true : false;
        }
        ge("#FullPictureLoadOptionsZoom").value = options.zoom;
        siteData.category == "comic" ? ge("#FullPictureLoadOptionsColumn").value = 2 : ge("#FullPictureLoadOptionsColumn").value = options.column;
        ge("#FullPictureLoadOptionsviewMode").checked = options.viewMode == 1 ? true : false;
    };

    let FullPictureLoadMsgPos = _GM_getValue("FullPictureLoadMsgPos", 0);

    let msgPosCss;
    if (FullPictureLoadMsgPos == 1) {
        msgPosCss = `
    top: 10px;
    left: 10px;
    `;
    } else if (FullPictureLoadMsgPos == 2) {
        msgPosCss = `
    top: 10px;
    right: 10px;
    `;
    } else if (FullPictureLoadMsgPos == 3) {
        msgPosCss = `
    bottom: 10px;
    left: 72px;
    `;
    } else if (FullPictureLoadMsgPos == 4) {
        msgPosCss = `
    bottom: 10px;
    right: 10px;
    `;
    } else {
        msgPosCss = `
    top: 30%;
    left: 50%;
    margin-left: -180px;
    `;
    }

    const FullPictureLoadStyle = `
.fancybox-container,.fancybox__container {
    z-index: 2147483647 !important;
}

.fancybox-image {
    opacity: 1 !important;
}

.FullPictureLoadImageReturnTop {
    position: fixed;
    right: 10px;
    bottom: 80px;
    width: 53px !important;
    height: 53px !important;
    border: unset;
    z-index: 99;
    opacity: 0.6;
}

#FullPictureLoadOptions {
    text-align: center;
    width: 360px !important;
    height: auto !important;
    position: fixed !important;
    top: ${hasTouchEvents ? "2px" : "20%"};
    left: 50%;
    margin-left: -180px;
    border: 1px solid #a0a0a0 !important;
    border-radius: 3px !important;
    box-shadow: -2px 2px 5px rgb(0 0 0 / 30%) !important;
    background-color: #FAFAFB;
    z-index: 2147483647 !important;
}

#FullPictureLoadOptions * {
    font: unset !important;
    font-family: Arial, sans-serif !important;
    font-size: 14px !important;
    color: black;
    float: none !important;
    line-height: 18px !important;
    margin-bottom: 4px !important;
    padding: 1px 4px !important;
    width: auto;
}

#FullPictureLoadOptions button {
    width: auto;
    min-width: 102px;
    max-width: 110px;
    min-height: unset !important;
    max-height: 24px !important;
    margin-left: 2px;
    margin-right: 2px;
    margin-bottom: 4px !important;
    display: inline-block;
    color: #000000 !important;
    border: 1px solid #a0a0a0 !important;
    background-color: transparent !important;
    border-radius: unset !important;
}

#FullPictureLoadOptions input {
    color: #000000 !important;
    height: 18px !important;
    border: 1px solid #a0a0a0 !important;
    border-radius: unset !important;
    background-color: transparent !important;
    outline: unset !important;
    display: unset !important;
    -webkit-appearance: auto !important;
}

#FullPictureLoadOptions p {
    text-align: center !important;
    margin-block-start: 0px !important;
    margin-block-end: 0px !important;
    margin-inline-start: 0px !important;
    margin-inline-end: 0px !important;
}

#FullPictureLoad {
    bottom: 24px !important;
    display: block !important;
}

#FullPictureLoadGoToLastImage {
    bottom: 66px !important;
}

#FullPictureLoadGoToFirstImage {
    bottom: 108px !important;
}

.FullPictureLoadFixedBtn {
    position: fixed !important;
    left: 24px !important;
    width: 32px !important;
    height: 32px !important;
    border: unset !important;
    border-radius: unset !important;
    z-index: 2147483647 !important;
    opacity: 1 !important;
    cursor: pointer !important;
}

#FullPictureLoadEye {
    bottom: 24px !important;
    display: block !important;
    position: fixed !important;
    right: 24px !important;
    width: 32px !important;
    height: 32px !important;
    border-radius: unset !important;
    z-index: 2147483647 !important;
    opacity: 1 !important;
    cursor: pointer !important;
}

#FullPictureLoadFixedMenu {
    text-align: center !important;
    font-family: Arial, sans-serif !important;
    font-size: 14px !important;
    color: #000000 !important;
    width: 112px !important;
    height: auto !important;
    padding: 5px 5px 2px 5px !important;
    position: fixed !important;
    left: 24px !important;
    bottom: 152px !important;
    border: #ccc 1px solid !important;
    border-radius: 3px !important;
    background-color: #fff !important;
    opacity: 0;
    z-index: 2147483647 !important;
}

#FullPictureLoadFixedMenu > div, #FullPictureLoadFixedMenuB > div {
    width: 100px !important;
    height: 24px !important;
    line-height: 24px !important;
    overflow: hidden !important;
    font-size: 14px !important;
    border: #ccc 1px solid !important;
    background-color: #f6f6f6 !important;
    padding: 0 5px 0 5px !important;
    margin: 0 2px 3px 0 !important;
    cursor: pointer !important;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

#FullPictureLoadFixedMenu:hover {
  opacity: 1;
}

#FullPictureLoadFixedMenuB {
    text-align: center !important;
    font-family: Arial, sans-serif !important;
    font-size: 14px !important;
    color: #000000 !important;
    width: 112px !important;
    height: auto !important;
    padding: 5px 5px 2px 5px !important;
    position: fixed !important;
    right: 64px !important;
    bottom: 22px !important;
    border: #ccc 1px solid !important;
    border-radius: 3px !important;
    background-color: #fff !important;
    opacity: 1;
    z-index: 2147483647 !important;
}

.FullPictureLoadMsg {
    font-family: Arial, sans-serif !important;
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    line-height: 50px;
    color: #ffffff;
    width: 360px;
    height: auto;
${msgPosCss}
    padding: 0px !important;
    background-color: #000;
    border: 1px solid #303030;
    border-radius: 10px;
    position: fixed;
    z-index: 2147483647;
    opacity: 0.7;
}

.FullPictureLoadImage:not(.small) {
    width: auto;
    height: auto;
    max-width: 100%;
    display: block !important;
    float: unset !important;
    opacity: 1 !important;
    border: none !important;
    border-radius: unset !important;
    padding: 0 !important;
    margin: 0 auto !important;
    transition: unset !important;
    transform: unset !important;
}

.FullPictureLoadImage.small {
    width: auto;
    height: auto;
    max-width: 100% !important;
    max-height: 100% !important;
    min-height: 50x !important;
    display: block !important;
    float: unset !important;
    opacity: 1 !important;
    border: none !important;
    border-radius: unset !important;
    padding: 0 !important;
    margin: auto;
    transition: unset !important;
    transform: unset !important;
}

#FullPictureLoadImgBox {
    display: block;
    opacity: 1 !important;
    border: none !important;
    border-radius: unset !important;
    padding: 0 !important;
    margin: 0 auto 10Px !important;
}

#FullPictureLoadImgBox>div {
    height: auto;
}

a[data-fancybox=FullPictureLoadImageOriginal],a[data-fancybox=FullPictureLoadImageSmall] {
    position: unset !important;
    padding: 0 !important;
    margin: 0 !important;
    display: unset !important;
}

#FullPictureLoadEnd {
    font-size: 20px;
    height: 30px;
    width: 100%;
    line-height: 30px;
    text-align: center !important;
    margin: 5px auto !important;
}

#FullPictureLoadEnd~*:not(h3,ul):not(#FullPictureLoadOptions):not(.FullPictureLoadMsg):not(.FullPictureLoadFixedBtn):not(a[href='javascript:void(0);']):not(.post-info):not(.post-tags):not(.article-tags):not(*[class^=fancybox]):not(div[tabindex]):not(.row):not(.text-center):not(.link-d):not(#myrating):not(.gallery-a):not(.pagination):not(div[class^=picnext]):not(a.zwf):not(p):not(.bo_nav) {
    display: none !important;
}

.FullPictureLoadLoading {
    font-size: 20px;
    text-align: center;
    height: 30px;
    line-height: 30px;
    margin: 5px auto !important;
    border: none !important;
}

.autoPagerTitle {
    width: auto;
    height: 30px;
    font-size: 18px;
    color: black;
    font-family: Arial, sans-serif !important;
    line-height: 29px;
    text-align: center;
    overflow: hidden;
    display: block;
    margin: 10px 5px;
    border: 1px solid #e0e0e0;
    background-color: #f0f0f0;
    background: -webkit-gradient(linear, 0 0, 0 100%, from(#f9f9f9), to(#f0f0f0));
    background: -moz-linear-gradient(top, #f9f9f9, #f0f0f0);
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.6);
    border-radius: 5px;
}

.autoPagerTitle.off {
    color: white;
    border: 1px solid #0e0e0e;
    background-color: #0f0f0f;
    background: -webkit-gradient(linear, 0 0, 0 100%, from(#9f9f9f), to(#0f0f0f));
    background: -moz-linear-gradient(top, #9f9f9f, #0f0f0f);
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.6);
    border-radius: 5px;
}

.autoPagerTitle a:-webkit-any-link {
    font-family: Arial, sans-serif !important;
    color: black;
}

.autoPagerTitle.off a:-webkit-any-link {
    color: white;
}

.autoPagerLoading {
    width: auto;
    height: auto;
    max-width: 60px !important;
    max-height: 60px !important;
    display: block !important;
    opacity: 1 !important;
    border: none !important;
    border-radius: unset !important;
    padding: 0 !important;
    margin: 20px auto !important;
}

#FullPictureLoadOptionsButtonParentDiv {
    max-width: 100% !important;
    height: 80px !important;
}

.FullPictureLoadPageButtonTop {
    height: 24px;
    min-height: unset !important;
    padding: 1px !important;
    margin: 10px 0 10px 0 !important;
    border-radius: unset !important;
    appearance: auto;
    text-rendering: auto;
    color: black !important;
    letter-spacing: normal;
    word-spacing: normal;
    line-height: normal;
    font-size: 14px !important;
    font-weight: unset !important;
    text-transform: none;
    text-indent: 0px;
    text-shadow: none;
    display: inline-block !important;
    text-align: center;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    align-items: flex-start;
    cursor: default;
    box-sizing: border-box;
    background: unset !important;
    background-color: #F6F6F6 !important;
    border: 1px solid #a0a0a0 !important;
    cursor: pointer !important;
}

.FullPictureLoadPageButtonBottom {
    height: 24px;
    min-height: unset !important;
    padding: 1px !important;
    margin: 0 0 6px 0 !important;
    border-radius: unset !important;
    appearance: auto;
    text-rendering: auto;
    color: black !important;
    letter-spacing: normal;
    word-spacing: normal;
    line-height: normal;
    font-size: 14px !important;
    font-weight: unset !important;
    text-transform: none;
    text-indent: 0px;
    text-shadow: none;
    display: inline-block !important;
    text-align: center;
    align-items: flex-start;
    cursor: default;
    box-sizing: border-box;
    background: unset !important;
    background-color: #F6F6F6 !important;
    border: 1px solid #a0a0a0 !important;
    cursor: pointer !important;
}

#FullPictureLoadOptions button:hover,.FullPictureLoadPageButtonTop:hover,.FullPictureLoadPageButtonBottom:hover {
  color: black !important;
}

.viewer-open:not(.fancybox-active) {
    overflow: unset !important;
    padding-right: 0px !important;
}

.fancybox-infobar *,.fancybox__infobar,a[data-fancybox-download],a[data-fancybox-download]:hover,a[data-fancybox-download]:link,a[data-fancybox-download]:visited,a[data-fancybox-download]:active {
    color: white;
}
a[data-fancybox]:hover {
    opacity: 1 !important;
}
                `;

    let noGoToFirstImage = _GM_getValue("noGoToFirstImage", 0);
    let TurnOffImageNavigationShortcutKeys = _GM_getValue("TurnOffImageNavigationShortcutKeys", 0);
    let ShowFullPictureLoadFixedMenu = _GM_getValue("ShowFullPictureLoadFixedMenu", 1);
    let autoScrollAllElement = _GM_getValue("autoScrollAllElement", 0);
    let convertWebpToJpg = _GM_getValue("convertWebpToJpg", 0);

    let lazyLoadFullResolution = _GM_getValue("lazyLoadFullResolution", 0);
    let lazyLoadPreloadImages = _GM_getValue("lazyLoadPreloadImages", 0);

    let comicInfiniteScrollMode = _GM_getValue("comicInfiniteScrollMode", 0);

    const addLazyLoadFullResolutionMenu = async () => {
        _GM_registerMenuCommand(lazyLoadFullResolution == 0 ? "❌ " + displayLanguage.str_111 : "✔️ " + displayLanguage.str_111, () => {
            lazyLoadFullResolution == 0 ? _GM_setValue("lazyLoadFullResolution", 1) : _GM_setValue("lazyLoadFullResolution", 0);
            location.reload();
        });
        _GM_registerMenuCommand(lazyLoadPreloadImages == 0 ? "❌ " + displayLanguage.str_113 : "✔️ " + displayLanguage.str_113, () => {
            lazyLoadPreloadImages == 0 ? _GM_setValue("lazyLoadPreloadImages", 1) : _GM_setValue("lazyLoadPreloadImages", 0);
            location.reload();
        });
    };

    let E_HENTAI_LoadOriginalImage = _GM_getValue("E_HENTAI_LoadOriginalImage", 0);

    if (/^https?:\/\/(e-hentai|exhentai).org\//.test(fun.url)) {
        _GM_registerMenuCommand(E_HENTAI_LoadOriginalImage == 0 ? "❌ " + displayLanguage.str_114 : "✔️ " + displayLanguage.str_114, () => {
            E_HENTAI_LoadOriginalImage == 0 ? _GM_setValue("E_HENTAI_LoadOriginalImage", 1) : _GM_setValue("E_HENTAI_LoadOriginalImage", 0);
            location.reload();
        });
    }

    let setYinawSinaOriginalURL = _GM_getValue("setYinawSinaOriginalURL", 0);

    if (/^https?:\/\/yinaw\.com\/\d+\.html$/.test(fun.url)) {
        _GM_registerMenuCommand(setYinawSinaOriginalURL == 0 ? "❌ 壹纳网使用原始新浪图床链结" : "✔️ 壹纳网使用原始新浪图床链结", () => {
            setYinawSinaOriginalURL == 0 ? _GM_setValue("setYinawSinaOriginalURL", 1) : _GM_setValue("setYinawSinaOriginalURL", 0);
            location.reload();
        });
    }

    const checkOptionsData = async () => {
        const getOptionsData = localStorage.getItem("FullPictureLoadOptions");
        if (getOptionsData === null && options.autoDownload !== 1) {
            let jsonStr = JSON.stringify(options);
            localStorage.setItem("FullPictureLoadOptions", jsonStr);
        } else if (options.autoDownload !== 1) {
            let optionsJson = JSON.parse(getOptionsData);
            if (optionsJson.viewMode === undefined) {
                localStorage.removeItem("FullPictureLoadOptions");
                let jsonStr = JSON.stringify(options);
                localStorage.setItem("FullPictureLoadOptions", jsonStr);
                //debug("圖片全載更新已初始化設定");
            } else {
                options = optionsJson;
            }
            //debug("\nFull Picture Load Options Json\n", options);
        }
    };

    const Fancyboxl10nV5 = async () => {
        await new Promise(resolve => {
            let num = 0;
            let loop = setInterval(() => {
                num++;
                try {
                    if (isFn(Fancybox)) {
                        clearInterval(loop);
                        resolve();
                    }
                } catch (e) {}
                if (num >= 5) {
                    clearInterval(loop);
                    resolve();
                    console.error("FancyboxV5 注入逾時");
                    return;
                }
            }, 100);
        });
        try {
            switch (language) {
                case "zh-TW":
                case "zh-HK":
                case "zh-Hant-TW":
                case "zh-Hant-HK":
                    Fancybox.defaults.l10n = {
                        PANUP: "上移",
                        PANDOWN: "下移",
                        PANLEFT: "左移",
                        PANRIGHT: "右移",
                        ZOOMIN: "放大",
                        ZOOMOUT: "縮小",
                        TOGGLEZOOM: "切換縮放等級",
                        TOGGLE1TO1: "切換縮放等級",
                        ITERATEZOOM: "切換縮放等級",
                        ROTATECCW: "逆時針旋轉",
                        ROTATECW: "順時針旋轉",
                        FLIPX: "水平翻轉",
                        FLIPY: "垂直翻轉",
                        FITX: "水平適應",
                        FITY: "垂直適應",
                        RESET: "重設",
                        TOGGLEFS: "切換全螢幕",
                        CLOSE: "關閉",
                        NEXT: "上一個",
                        PREV: "下一個",
                        MODAL: "使用 ESC 鍵關閉",
                        ERROR: "發生了錯誤，請稍後再試",
                        IMAGE_ERROR: "找不到圖像",
                        ELEMENT_NOT_FOUND: "找不到 HTML 元素",
                        AJAX_NOT_FOUND: "載入 AJAX 時出錯: 未找到",
                        AJAX_FORBIDDEN: "載入 AJAX 時出錯: 被阻止",
                        IFRAME_ERROR: "載入頁面出錯",
                        TOGGLE_ZOOM: "切換縮放等級",
                        TOGGLE_THUMBS: "切換縮圖",
                        TOGGLE_SLIDESHOW: "切換幻燈片",
                        TOGGLE_FULLSCREEN: "切換全螢幕",
                        DOWNLOAD: "下載"
                    };
                    break;
                case "zh":
                case "zh-CN":
                case "zh-Hans-CN":
                    Fancybox.defaults.l10n = {
                        PANUP: "上移",
                        PANDOWN: "下移",
                        PANLEFT: "左移",
                        PANRIGHT: "右移",
                        ZOOMIN: "放大",
                        ZOOMOUT: "缩小",
                        TOGGLEZOOM: "切换缩放级别",
                        TOGGLE1TO1: "切换缩放级别",
                        ITERATEZOOM: "切换缩放级别",
                        ROTATECCW: "逆时针旋转",
                        ROTATECW: "顺时针旋转",
                        FLIPX: "水平翻转",
                        FLIPY: "垂直翻转",
                        FITX: "水平适应",
                        FITY: "垂直适应",
                        RESET: "重置",
                        TOGGLEFS: "切换全屏",
                        CLOSE: "关闭",
                        NEXT: "上一个",
                        PREV: "下一个",
                        MODAL: "使用 ESC 键关闭",
                        ERROR: "发生了错误，请稍后再试",
                        IMAGE_ERROR: "找不到图像",
                        ELEMENT_NOT_FOUND: "找不到 HTML 元素",
                        AJAX_NOT_FOUND: "载入 AJAX 时出错: 未找到",
                        AJAX_FORBIDDEN: "载入 AJAX 时出错: 被阻止",
                        IFRAME_ERROR: "加载页面出错",
                        TOGGLE_ZOOM: "切换缩放级别",
                        TOGGLE_THUMBS: "切换缩略图",
                        TOGGLE_SLIDESHOW: "切换幻灯片",
                        TOGGLE_FULLSCREEN: "切换全屏",
                        DOWNLOAD: "下载"
                    };
                    break;
            };
            Fancybox.defaults.animated = false;
            //debug("\nFancybox 5.0.xx 預設選項物件 Fancybox.defaults\n", Fancybox.defaults);
        } catch (error) {
            if (!isObject(siteData?.fancybox)) {
                try {
                    fun.css(FancyboxV3Css);
                } catch (error) {
                    console.error("\nFancybox@3.5.7 CSS 注入失敗", error);
                }
            }
            debug("沒有引入FancyboxV5", error);
        }
    };

    const Fancyboxi18nV3 = async () => {
        if (siteData?.fancybox?.js === false) return;
        let str = `
switch (language) {
    case "zh-TW":
    case "zh-HK":
    case "zh-Hant-TW":
    case "zh-Hant-HK":
        $.fancybox.defaults.i18n.tw = {
            "CLOSE": "關閉",
            "NEXT": "下一個",
            "PREV": "上一個",
            "ERROR": "無法載入請求的內容。 <br/> 請稍後重試。",
            "PLAY_START": "開始幻燈片",
            "PLAY_STOP": "暫停幻燈片",
            "FULL_SCREEN": "全螢幕",
            "THUMBS": "縮圖",
            "DOWNLOAD": "下載",
            "SHARE": "分享",
            "ZOOM": "縮放"
        };
        $.fancybox.defaults.lang = "tw";
        break;
    case "zh":
    case "zh-CN":
    case "zh-Hans-CN":
        $.fancybox.defaults.i18n.cn = {
            "CLOSE": "关闭",
            "NEXT": "下一个",
            "PREV": "上一个",
            "ERROR": "无法加载请求的内容。 <br/> 请稍后重试。",
            "PLAY_START": "开始幻灯片",
            "PLAY_STOP": "暂停幻灯片",
            "FULL_SCREEN": "全面屏",
            "THUMBS": "缩略图",
            "DOWNLOAD": "下载",
            "SHARE": "分享",
            "ZOOM": "缩放"
        };
        $.fancybox.defaults.lang = "cn";
        break;
}
        `;
        new Function("language", str)(language);
    };

    const FancyboxOptionsV3 = () => {
        if (siteData?.fancybox?.js === false) return; //"download",
        let str = `
$.fancybox.defaults.buttons = ["zoom", "slideShow", "fullScreen", "thumbs", "close"];
$.fancybox.defaults.loop = true;
$.fancybox.defaults.toolbar = true;
console.log("fancybox 3.5.7 選項物件",$.fancybox.defaults);
        `;
        new Function(str)();
    };

    let showOptions = false;
    let comicSwitch = false;

    for (let i = 0; i < customData.length; i++) {
        const data = customData[i];
        let check = false;
        try {
            if (isRegExp(data?.reg)) {
                check = data.reg.test(siteUrl);
            } else if (isArray(data?.reg)) {
                let regs = data.reg;
                for (let r = 0; r < regs.length; r++) {
                    if (regs[r].test(siteUrl)) {
                        check = true;
                        break;
                    }
                }
            } else if (isFn(data?.reg)) {
                check = await data.reg();
            }
            if (check) {
                let category = data.category;
                if (category === "comic" && data?.enable === 0) {
                    showOptions = true;
                    comicSwitch = true;
                }
                let delay = data?.delay;
                if (delay) await fun.delay(delay, 0);
                options.enable = 1;
                if (data?.enable == 0) {
                    await checkOptionsData();
                    if (options.comic == 1 && category === "comic") {
                        showOptions = true;
                        options.enable = 1;
                        debug("\n漫畫類預設關閉的此站規則已開啟");
                    } else {
                        //showOptions = true;
                        options.enable = 0;
                        debug("\n此規則禁用", data);
                        continue;
                    }
                }
                if (data?.enable != 0) await checkOptionsData();
                let include = data?.include;
                if (isString(include)) {
                    if (!fun.ge(include)) {
                        options.enable = 0;
                        debug("\n頁面沒有包含必須的元素", data);
                        continue;
                    }
                } else if (isArray(include)) {
                    let checkEles = include.map(e => fun.ge(e));
                    let checkItems = checkEles.filter(i => i);
                    if (checkItems.length === 0) {
                        options.enable = 0;
                        debug("\n頁面沒有任何數組選擇器中必須包含的元素", data);
                        continue;
                    } else if (checkEles.length != checkItems.length) {
                        options.enable = 0;
                        debug("\n頁面缺少數組選擇器中必須包含的元素", data);
                        continue;
                    }
                }
                let exclude = data?.exclude;
                if (isString(exclude)) {
                    if (fun.ge(exclude)) {
                        options.enable = 0;
                        debug("\n頁面包含必須排除的元素", data);
                        continue;
                    }
                } else if (isArray(exclude)) {
                    let checkEles = include.map(e => fun.ge(e));
                    let checkItems = checkEles.filter(i => i);
                    if (checkItems.length > 0) {
                        options.enable = 0;
                        debug("\n頁面包含數組選擇器中必須排除的元素", data);
                        continue;
                    }
                }
                siteData = customData[i];
                if (siteData.category != "none") showOptions = true;
                if (!ge("#FullPictureLoadMainStyle")) fun.css(FullPictureLoadStyle, "FullPictureLoadMainStyle");
                let css = data?.css;
                if (css) fun.css(css);
                let initCode = data?.init;
                if (initCode) {
                    if (isString(initCode)) {
                        await new Function("siteData", "fun", '"use strict";' + initCode)(siteData, fun);
                    } else if (isFn(initCode)) {
                        await initCode();
                    }
                }
                if (options.fancybox == 1 && !isObject(siteData?.fancybox) && category !== "none" && !isObject(siteData?.autoPager)) {
                    if (isFn(Fancybox)) {
                        try {
                            fun.css(FancyboxV5Css);
                        } catch (error) {
                            console.error("\nFancyboxV5 CSS注入失敗", error);
                        }
                    }
                    await Fancyboxl10nV5();
                } else if (options.fancybox == 1 && category !== "none" && !isObject(siteData?.autoPager) && siteData?.fancybox?.v == 5 && siteData?.fancybox?.insertLibrarys == 1) {
                    addLibrarysV5();
                    await Fancyboxl10nV5();
                } else if (options.fancybox == 1 && category !== "none" && !isObject(siteData?.autoPager) && siteData?.fancybox?.v == 3 && siteData?.fancybox?.insertLibrarys == 1) {
                    addLibrarysV3();
                    Fancyboxi18nV3();
                    FancyboxOptionsV3();
                }
                if (data?.imgs) debug("\nCSS/Xpath/JS選擇器：" + data.imgs);
                if (data?.threading) {
                    options.threading = data.threading;
                    debug("\n下載線程數：" + options.threading);
                }
                let titleCode = data?.customTitle;
                if (titleCode) {
                    const getTitle = async () => {
                        let text;
                        if (isString(titleCode)) {
                            text = await new Function("siteData", "fun", '"use strict";' + titleCode)(siteData, fun);
                        } else if (isFn(titleCode)) {
                            text = await titleCode();
                        }
                        return text;
                    };
                    customTitle = await getTitle();
                    debug(`\n自定義標題：${customTitle}`);
                    if (data?.observerTitle) {
                        fun.addMutationObserver(async () => {
                            let newCustomTitle = await getTitle();
                            if (customTitle !== newCustomTitle) {
                                customTitle = newCustomTitle;
                                debug(`\n自定義標題：${newCustomTitle}`);
                            }
                        });
                    }
                    if (data?.observerURL) {
                        fun.addMutationObserver(async () => {
                            if (siteUrl !== _unsafeWindow.document.URL.replace(/#FullPictureLoad.+$|#gallery.+$|#lightbox.+$/i, "")) {
                                siteUrl = _unsafeWindow.document.URL;
                                customTitle = await getTitle();
                                debug(`\n自定義標題：${customTitle}`);
                            }
                        }, MutationObserverConfig, document.body);
                    }
                }
                let next = data?.next;
                if (next) {
                    let link = null;
                    const getNextLink = async () => {
                        isFn(next) ? link = await next() : link = fun.ge(next);
                        debug("\n圖片全載NEXT：", link);
                        try {
                            if (link !== null) {
                                isString(link) ? nextLink = link : null;
                                if (isEle(link) && link?.tagName == "A") {
                                    try {
                                        /^http/.test(link.href) ? nextLink = link.href : nextLink = null;
                                    } catch (e) {}
                                }
                            }
                        } catch (e) {}
                    }
                    await getNextLink();
                    if (data?.observerURL || data?.observerNext) {
                        let node;
                        isString(data?.observerNext) ? node = fun.ge(data.observerNext) : node = null;
                        fun.addMutationObserver(async () => {
                            if (/\?page=\d+$/.test(_unsafeWindow.document.URL)) return;
                            if (siteUrl !== _unsafeWindow.document.URL.replace(/#FullPictureLoad.+$|#gallery.+$|#lightbox.+$/i, "")) {
                                siteUrl = _unsafeWindow.document.URL;
                                await getNextLink();
                                debug(`\nURL變換 nextLink：${nextLink}`);
                            }
                            if (data?.observerNext) await getNextLink();
                        }, MutationObserverConfig, node || document.body);
                    }
                    const callback = () => {
                        if (isFn(next)) {
                            fun.showMsg(displayLanguage.str_34, 0);
                            nextLink ? location.href = nextLink : fun.showMsg(displayLanguage.str_37);
                        } else if (isString(next)) {
                            if (link) {
                                //link.click();
                                elementClick(link);
                                fun.showMsg(displayLanguage.str_35);
                            } else {
                                fun.showMsg(displayLanguage.str_37);
                            }
                        }
                    };
                    if (hasTouchEvents && siteData?.next && options.doubleTouchNext == 1) document.addEventListener("dblclick", () => callback());
                    document.addEventListener("keydown", event => {
                        if (ge(".fancybox-container,.fancybox__container")) return;
                        if (event.code == "ArrowRight" || event.key == "ArrowRight") callback();
                    });
                }
                let prev = data?.prev;
                if (isString(prev) && prev != 1) {
                    document.addEventListener("keydown", event => {
                        if (ge(".fancybox-container,.fancybox__container")) return;
                        if (event.code == "ArrowLeft" || event.key == "ArrowLeft") {
                            event.preventDefault();
                            let ele = fun.ge(prev);
                            if (ele) {
                                //ele.click();
                                elementClick(ele);
                                fun.showMsg(displayLanguage.str_39);
                            } else {
                                fun.showMsg(displayLanguage.str_40);
                            }
                        }
                    });
                } else if (prev == 1) {
                    document.addEventListener("keydown", event => {
                        if (ge(".fancybox-container,.fancybox__container")) return;
                        if (event.code == "ArrowLeft" || event.key == "ArrowLeft") {
                            event.preventDefault();
                            fun.showMsg(displayLanguage.str_38);
                            history.back();
                        }
                    });
                }
                let autoClick = data?.autoClick;
                if (autoClick) {
                    if (isArray(autoClick)) {
                        setTimeout(() => {
                            let ele = fun.ge(autoClick[0]);
                            if (ele) {
                                elementClick(ele);
                                debug(`\n圖片全載autoClick("${autoClick}")`, ele);
                            }
                        }, autoClick[1] || 1000);
                    } else if (isString(autoClick)) {
                        let ele = fun.ge(autoClick);
                        if (ele) {
                            elementClick(ele);
                            debug(`\n圖片全載autoClick("${autoClick}")`, ele);
                        }
                    }
                }
                let observerClick = data?.observerClick;
                if (observerClick) {
                    let ele = fun.ge(observerClick);
                    if (ele) {
                        const observer = new IntersectionObserver((entries, observer) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    observer.unobserve(entry.target);
                                    elementClick(entry.target);
                                    debug(`\n圖片全載observerClick("${observerClick}")`, entry.target);
                                    setTimeout(async () => {
                                        if (await fun.waitEle(observerClick, 30)) observer.observe(fun.ge(observerClick));
                                    }, 1000);
                                }
                            });
                        });
                        setTimeout(() => observer.observe(ele), 1000)
                    }
                }
                let loadMore = data?.loadMore;
                if (loadMore) {
                    const callback = () => {
                        if (_unsafeWindow.innerHeight + _unsafeWindow.pageYOffset >= document.body.offsetHeight - 200) {
                            document.removeEventListener("scroll", callback);
                            let ele = fun.ge(loadMore);
                            if (ele) {
                                elementClick(ele);
                                debug(`圖片全載loadMore("${loadMore}")`);
                            }
                            setTimeout(async () => {
                                if (await fun.waitEle(loadMore, 30)) document.addEventListener("scroll", callback);
                            }, 1000);
                        }
                    };
                    document.addEventListener("scroll", callback);
                }
                if (isObject(siteData?.autoPager)) {
                    if (siteData?.autoPager?.observer) {
                        let ele = [...fun.gae(siteData.autoPager.observer)].at(-1);
                        if (ele) fun.autoPagerNextObserver.observe(ele);
                    } else {
                        const callback = async () => {
                            if (_unsafeWindow.innerHeight + _unsafeWindow.pageYOffset >= document.body.offsetHeight - (siteData?.autoPager?.bottom || screen.height)) {
                                if (!autoPager) return;
                                document.removeEventListener("scroll", callback);
                                await fun.autoPager();
                                await fun.delay(siteData?.autoPager?.sleep || 1000, 0);
                                document.addEventListener("scroll", callback);
                            }
                        };
                        document.addEventListener("scroll", callback);
                    }
                    document.addEventListener("dblclick", () => fun.toggleAutoPager());
                }
                let openInNewTab = data?.openInNewTab;
                if (openInNewTab) {
                    fun.openInNewTab(openInNewTab);
                    fun.addMutationObserver(() => fun.openInNewTab(openInNewTab));
                }
                let autoDownload = siteData?.autoDownload;
                if (autoDownload) {
                    if (autoDownload[0] == 1 || options.autoDownload == 1) DownloadFn();
                }
                let insertImg = data?.insertImg;
                if (insertImg) {
                    if (autoDownload) {
                        if (autoDownload[0] == 1 || options.autoDownload == 1) break;
                    }
                    if (insertImg[1] == 1 || insertImg[1] == 2) fun.immediateInsertImg();
                }
                let button = data?.topButton;
                if (button) addReturnTopButton();
                break;
            }
        } catch (error) {
            console.error("圖片全載規則出錯", error);
            debug("圖片全載規則出錯", customData[i]);
            debug("出錯之前的規則", customData[i - 1]);
            //alert(`圖片全載規則出錯 索引${i}`);
            return;
        }
    }

    if (siteData?.reg) {
        debug("\n列出此站資料", siteData);
        debug(`\n列出規則總數(${customData.length})`);
        debug("\n列出NSFW規則", nsfw1Data);
        debug("\n列出NSFW+規則", nsfw2Data);
        debug("\n列出COMIC規則", comicData);
        debug("\n列出HCOMIC規則", hcomicData);
        debug("\n列出LazyLoad模式規則", lazyLoadData);
        debug("\n列出自動翻頁規則", autoPagerData);
        debug("\n列出去廣告規則", AD_Data);
        debug("\n列出未分類規則", noneData);
    }

    if (showOptions) {
        _unsafeWindow.FullPictureLoadCustomData = customData;
        //debug("\n圖片全載開啟了GM選單?\n", showOptions);
        _GM_registerMenuCommand(displayLanguage.str_67, () => {
            if (!ge("body>#FullPictureLoadOptions")) {
                addFullPictureLoadOptionsMain();
                setValue();
            }
            ge("#FullPictureLoadOptions").removeAttribute("style");
        });
        addFullPictureLoadOptionsMain();
        setValue();
        if (comicSwitch) ge("#FullPictureLoadOptionsComicDIV").style.display = "flex";
        if (!ge("#FullPictureLoadMainStyle")) fun.css(FullPictureLoadStyle, "FullPictureLoadMainStyle");
    }

    if (showOptions && isArray(siteData?.insertImg)) {
        _GM_registerMenuCommand(TurnOffImageNavigationShortcutKeys == 0 ? "❌ " + displayLanguage.str_121 : "✔️ " + displayLanguage.str_121, () => {
            TurnOffImageNavigationShortcutKeys == 0 ? _GM_setValue("TurnOffImageNavigationShortcutKeys", 1) : _GM_setValue("TurnOffImageNavigationShortcutKeys", 0);
            location.reload();
        });
    }

    if (showOptions && isNumber(siteData?.go)) {
        _GM_registerMenuCommand(noGoToFirstImage == 0 ? "❌ " + displayLanguage.str_115 : "✔️ " + displayLanguage.str_115, () => {
            noGoToFirstImage == 0 ? _GM_setValue("noGoToFirstImage", 1) : _GM_setValue("noGoToFirstImage", 0);
            location.reload();
        });
    }

    if (isArray(siteData?.scrollEle) || isFn(siteData?.scrollEle)) {
        _GM_registerMenuCommand(autoScrollAllElement == 0 ? "❌ " + displayLanguage.str_116 : "✔️ " + displayLanguage.str_116, () => {
            autoScrollAllElement == 0 ? _GM_setValue("autoScrollAllElement", 1) : _GM_setValue("autoScrollAllElement", 0);
            location.reload();
        });
    }

    if (siteData?.category && ["nsfw1", "nsfw2", "hcomic", "comic", "lazyLoad"].includes(siteData?.category)) {
        _GM_registerMenuCommand(FancyboxWheelOptions == 0 ? "❌ " + displayLanguage.str_119 : "✔️ " + displayLanguage.str_119, () => {
            FancyboxWheelOptions == 0 ? _GM_setValue("FancyboxWheelOptions", 1) : _GM_setValue("FancyboxWheelOptions", 0);
            location.reload();
        });
        _GM_registerMenuCommand(newTabViewLightGallery == 0 ? "❌ " + displayLanguage.str_120 : "✔️ " + displayLanguage.str_120, () => {
            newTabViewLightGallery == 0 ? localStorage.setItem("newTabViewLightGallery", 1) : localStorage.setItem("newTabViewLightGallery", 0);
            location.reload();
        });
    }

    if (siteData?.category === "comic" || siteData?.category === "comic autoPager") {
        _GM_registerMenuCommand(comicInfiniteScrollMode == 0 ? "❌ " + displayLanguage.str_122 : "✔️  " + displayLanguage.str_122, () => {
            comicInfiniteScrollMode == 0 ? _GM_setValue("comicInfiniteScrollMode", 1) : _GM_setValue("comicInfiniteScrollMode", 0);
            location.reload();
        });
    }

    let autoDownload = siteData?.autoDownload;

    if (hasTouchEvents && showOptions || !autoDownload && showOptions)[...gae("#FullPictureLoadOptionsAutoDownloadDIV,#FullPictureLoadOptionsCountdownDIV")].forEach(e => e.style.display = "none");

    if (!hasTouchEvents && showOptions || (hasTouchEvents && showOptions && !siteData.next)) ge("#FullPictureLoadOptionsDoubleDIV").style.display = "none";

    if (autoDownload) {
        document.addEventListener("keydown", event => {
            if (ge("#FullPictureLoadOptions:not([style])")) return;
            if (event.ctrlKey && (event.code == "NumpadDecimal" || event.key == ".")) {
                if (options.autoDownload == 0) {
                    fun.showMsg(displayLanguage.str_64, 0);
                    options.autoDownload = 1;
                    let jsonStr = JSON.stringify(options);
                    localStorage.setItem("FullPictureLoadOptions", jsonStr);
                    setTimeout(() => location.reload(), 2000);
                } else {
                    options.autoDownload = 0;
                    let jsonStr = JSON.stringify(options);
                    localStorage.setItem("FullPictureLoadOptions", jsonStr);
                    fun.clearSetTimeout();
                    fun.showMsg(displayLanguage.str_65, 0);
                    location.reload();
                }
            }
        });
    }

    if (hasTouchEvents && siteData.insertImg && (siteData.insertImg[1] == 0 || siteData.insertImg[1] == 3)) {
        let timeId;
        document.addEventListener("touchstart", event => {
            if ((event.target.tagName == "IMG" && event.target.id != "FullPictureLoad") || event.target.tagName == "CANVAS") {
                timeId = setTimeout(() => copyImgSrcText(), 500);
            }
        });
        document.addEventListener("touchmove", event => clearTimeout(timeId));
        document.addEventListener("touchend", event => clearTimeout(timeId));
    }

    //debug("\n最終options物件\n", options);

    if (siteData.category == "lazyLoad") addLazyLoadFullResolutionMenu();

    setTimeout(() => {
        let preloadNext = siteData?.preloadNext;
        try {
            if (nextLink && preloadNext && !isDownloading) {
                window.addEventListener("message", e => {
                    if (e.data.iframePicArr) fun.picPreload(e.data.iframePicArr, e.data.title, "next");
                }, false);
                fun.xhrDoc(nextLink).then(async nextDoc => {
                    debug("\nnextDoc", nextDoc);
                    if (isBoolean(preloadNext) && preloadNext === true && isFn(siteData?.imgs) && isFn(siteData?.customTitle)) {
                        fun.picPreload(await siteData.imgs(nextDoc), await siteData.customTitle(nextDoc), "next");
                    } else if (isBoolean(preloadNext) && preloadNext === true && isString(siteData?.imgs) && isFn(siteData?.customTitle)) {
                        let arr = fun.getImgSrcArr(siteData.imgs, nextDoc);
                        fun.picPreload(arr, await siteData.customTitle(nextDoc), "next");
                    } else if (isFn(preloadNext)) {
                        preloadNext(nextDoc, siteData);
                    }
                });
            }
        } catch (error) {
            console.error("圖片全載preloadNext()出錯", error);
        }
    }, 1000);

    const captureSrc = async () => {
        let num = captureSrcArray.length;
        let imgSrcs = await getImgs(siteData?.capture ?? siteData?.imgs);
        let imagePreloadArray = [];
        imgSrcs.forEach(src => {
            if (!captureSrcArray.includes(src)) {
                captureSrcArray.push(src);
                imagePreloadArray.push(src);
            }
        });
        if (ge("#FullPictureLoadCaptureNum") && num < captureSrcArray.length) ge("#FullPictureLoadCaptureNum").innerText = captureSrcArray.length;
        if (lazyLoadPreloadImages == 1) fun.picPreload(imagePreloadArray, "Lazy Load Mode");
    };

    if (siteData.category?.includes("lazyLoad") && lazyLoadFullResolution == 1 && siteData?.capture || isString(siteData?.imgs) && !isArray(siteData?.insertImg) || isFn(siteData?.capture) && siteData?.category != "lazyLoad") {
        if (isFn(siteData?.capture) || isString(siteData?.capture) || isString(siteData?.imgs)) {
            setTimeout(() => {
                addnewTabViewButton();
                captureSrc();
            }, 1000);
        }
        if (siteData?.category === "lazyLoad") {
            fun.addMutationObserver(captureSrc, {
                childList: true,
                subtree: true,
                attributes: true
            });
        }
    }

    if (options.enable == 1 && !siteData.category.includes("autoPager") && !siteData.category.includes("lazyLoad") && !siteData.category.includes("none") && !siteData.category.includes("ad")) {
        if (siteData.key != 0) {
            if (!hasTouchEvents) {
                _GM_registerMenuCommand(ShowFullPictureLoadFixedMenu == 0 ? "❌ " + displayLanguage.str_117 : "✔️ " + displayLanguage.str_117, () => {
                    ShowFullPictureLoadFixedMenu == 0 ? _GM_setValue("ShowFullPictureLoadFixedMenu", 1) : _GM_setValue("ShowFullPictureLoadFixedMenu", 0);
                    location.reload();
                });
                if (ShowFullPictureLoadFixedMenu === 1) addFullPictureLoadFixedMenu();
            }
            document.addEventListener("keydown", async event => {
                if (event.ctrlKey && event.altKey && (event.code == "KeyC" || event.key == "c" || event.key == "C")) return;
                if (event.ctrlKey && (event.code == "NumpadDecimal" || event.key == ".")) return;
                if ((event.code != "Escape" || event.key != "Escape") && ge("#FullPictureLoadOptions:not([style])")) return;
                if (["INPUT", "TEXTAREA"].includes(document.activeElement.tagName)) return;
                if (event.ctrlKey && event.altKey && (event.code == "KeyT" || event.key == "t" || event.key == "T")) {
                    let str = _unsafeWindow.getSelection().toString();
                    str == "" ? null : customTitle = str;
                    let newTitle = await prompt("New Title", customTitle);
                    newTitle == null ? null : customTitle = newTitle;
                    fun.showMsg(displayLanguage.str_118);
                    debug("圖集新標題", newTitle);
                }
                if (event.code == "Numpad0" || event.key == "0") { //數字鍵0
                    fastDownload = false;
                    return DownloadFn();
                }
                if (event.code == "Numpad1" || event.key == "1") return copyImgSrcText(); //數字鍵1
                if (event.code == "Numpad2" || event.key == "2") return goToImg("first"); //數字鍵2
                if (event.code == "Numpad3" || event.key == "3") { //數字鍵3
                    fastDownload = true;
                    return DownloadFn();
                }
                if (event.code == "Numpad4" || event.key == "4") return goToImg("last"); //數字鍵4
                if (event.code == "Numpad5" || event.key == "5") return toggleImgMode(); //數字鍵5
                if (event.code == "Numpad6" || event.key == "6") return autoScrollEles(); //數字鍵6
                if (event.code == "Numpad7" || event.key == "7") return exportImgSrcText(); //數字鍵7
                if (event.code == "Numpad8" || event.key == "8") return newTabView(); //數字鍵8
                if (event.code == "NumpadSubtract" || event.key == "-") { //數字鍵-
                    fun.clearSetTimeout();
                    return reduceZoom();
                }
                if (event.code == "NumpadAdd" || event.key == "+") { //數字鍵+
                    fun.clearSetTimeout();
                    return increaseZoom();
                }
                if (event.code == "NumpadDecimal" || event.key == ".") { //數字鍵.
                    fun.clearSetTimeout();
                    return cancelZoom();
                }
                if (event.code == "NumpadMultiply" || event.key == "*") { //數字鍵*
                    if (!ge("body>#FullPictureLoadOptions")) {
                        addFullPictureLoadOptionsMain();
                        setValue();
                    }
                    return ge("#FullPictureLoadOptions").removeAttribute("style");
                }
                if (event.code == "Escape" || event.key == "Escape") { //Esc鍵
                    ge("#FullPictureLoadOptions").style.display = "none";
                    return;
                }
                if (event.code == "NumpadDivide" || event.key == "/") { //數字鍵/
                    fun.showMsg(displayLanguage.str_91);
                    localStorage.removeItem("FullPictureLoadOptions"); //重置當前網站的用戶設定恢復為預設選項
                    setTimeout(() => location.reload(), 1000);
                    return;
                }
            });
        }

        if (siteData.icon == 0) {
            return;
        } else if (options.icon == 1 || siteData.icon == 1) {
            addFullPictureLoadButton();
        }
    }

})();
